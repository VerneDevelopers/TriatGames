"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3061],{3061:(Q,u,n)=>{n.r(u),n.d(u,{AhorcadoPageModule:()=>S});var h=n(6814),l=n(95),r=n(451),p=n(2692),t=n(9212),Z=n(5861),s=n(3960),y=n(8540);let b=(()=>{class a{constructor(i,o){this.afs=i,this.firestore=o}addJugada(i,o,e){var c=this;return(0,Z.Z)(function*(){const f={letra:o},L=e.toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("/"),m=(0,s.JU)((0,s.hJ)(c.firestore,`${i}/Ahorcado/${L}`)),v=yield(0,s.QT)(m);if(v.exists()){const A=v.data();if(A&&A===f)return!1}return yield(0,s.pl)(m,f),!0})()}getLetraporDia(i,o){const c=o.toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("/");return this.afs.collection(`${i}/Ahorcado/${c}`).valueChanges()}getPalabraDia(i){const e=i.toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("/");return this.afs.collection(`Ahorcado/palabra/${e}`).valueChanges()}static#t=this.\u0275fac=function(o){return new(o||a)(t.LFG(y.ST),t.LFG(s.gg))};static#a=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var x=n(9535),T=n(5232),J=n(6065),P=n(7898);function O(a,d){if(1&a&&(t.TgZ(0,"div")(1,"p"),t._uU(2,"Palabra a adivinar:"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA()()),2&a){const i=t.oxw();t.xp6(4),t.Oqu(i.palabraOculta)}}function U(a,d){if(1&a&&(t.TgZ(0,"ion-item")(1,"ion-label"),t._uU(2),t.qZA()()),2&a){const i=d.$implicit;t.xp6(2),t.Oqu(i.letra)}}function D(a,d){if(1&a&&(t.TgZ(0,"ion-list")(1,"ion-item")(2,"ion-label"),t._uU(3,"Letras introducidas:"),t.qZA()(),t.YNc(4,U,3,1,"ion-item",10),t.qZA()),2&a){const i=t.oxw();t.xp6(4),t.Q6J("ngForOf",i.dataHoy)}}function I(a,d){if(1&a&&(t.TgZ(0,"div"),t._UZ(1,"app-abrir-modal-fin",11),t.qZA()),2&a){const i=t.oxw();t.xp6(),t.s9C("resultado",i.resultado)}}const F=[{path:"",component:(()=>{class a{constructor(i,o){this.serv=i,this.auth=o,this.dataHoy=[],this.palabraDia="pandereta",this.palabraOculta="_".repeat(this.palabraDia.length),this.letra="",this.vidas=8,this.ahorcadoImgs=["0.png","1.png","2.png","3.png","4.png","5.png","6.png","7.png","8.png"],this.ruta="../../../assets/imgAhorcado/",this.indiceImagen=0,this.abrirModal=!1,this.resultado="ganado",this.userUid=null!=this.auth.currentUser?.uid?this.auth.currentUser?.uid.toString():"Error",this.fecha=new Date,console.log(this.userUid),console.log("Palabra del dia"+this.palabraDia)}ngOnInit(){}ionViewWillEnter(){this.serv.getLetraporDia(this.userUid,new Date).subscribe(i=>{this.dataHoy=i,console.log(this.dataHoy)})}addLetra(){if(this.serv.addJugada(this.userUid,this.letra,this.fecha),this.palabraDia.includes(this.letra))for(let i=0;i<this.palabraDia.length;i++)this.palabraDia[i]===this.letra&&(this.palabraOculta=this.palabraOculta.substring(0,i)+this.letra+this.palabraOculta.substring(i+1));else this.indiceImagen++,this.indiceImagen>=this.ahorcadoImgs.length&&(this.indiceImagen=8);this.palabraDia===this.palabraOculta&&(this.resultado="ganado",this.abrirModal=!0)}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(b),t.Y36(x.gx))};static#a=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-ahorcado"]],decls:18,vars:7,consts:[[3,"fullscreen"],["id","main-content",1,"ion-page"],[1,"ion-text-center"],[1,"ion-padding",3,"fullscreen"],[2,"width","100px","height","auto",3,"src"],["size","8"],["placeholder","Letra","type","text","maxlength","1",1,"input",3,"ngModel","ngModelChange"],["size","4"],["expand","full","shape","round",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],["idJuego","Ahorcado",3,"resultado"]],template:function(o,e){1&o&&(t.TgZ(0,"ion-content",0),t._UZ(1,"app-mimenu"),t.TgZ(2,"ion-content",1),t._UZ(3,"app-miheader"),t.TgZ(4,"div",2)(5,"ion-content",3)(6,"div",2)(7,"ion-grid"),t._UZ(8,"ion-img",4),t.TgZ(9,"ion-row")(10,"ion-col",5)(11,"ion-input",6),t.NdJ("ngModelChange",function(g){return e.letra=g}),t.qZA()(),t.TgZ(12,"ion-col",7)(13,"ion-button",8),t.NdJ("click",function(){return e.addLetra()}),t._uU(14,"Click"),t.qZA()()()(),t.YNc(15,O,5,1,"div",9)(16,D,5,1,"ion-list",9),t.qZA(),t.YNc(17,I,2,1,"div",9),t.qZA()()()()),2&o&&(t.Q6J("fullscreen",!0),t.xp6(5),t.Q6J("fullscreen",!0),t.xp6(3),t.Q6J("src",e.ruta+e.ahorcadoImgs[e.indiceImagen]),t.xp6(3),t.Q6J("ngModel",e.letra),t.xp6(4),t.Q6J("ngIf",e.palabraOculta),t.xp6(),t.Q6J("ngIf",e.dataHoy.length>0),t.xp6(),t.Q6J("ngIf",e.abrirModal))},dependencies:[h.sg,h.O5,l.JJ,l.nD,l.On,r.YG,r.wI,r.W2,r.jY,r.Xz,r.pK,r.Ie,r.Q$,r.q_,r.Nd,r.j9,T.S,J.p,P.g],styles:[".input[_ngcontent-%COMP%]{background-color:#f0f0f059;border-radius:10px 10px 0 0;padding:10px}.imagen[_ngcontent-%COMP%]{height:25em;margin:2em}.titulo-lista[_ngcontent-%COMP%]{font-size:large;font-weight:700}"]})}return a})()}];let M=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#a=this.\u0275mod=t.oAB({type:a});static#i=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(F),p.Bz]})}return a})();var C=n(822);let S=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#a=this.\u0275mod=t.oAB({type:a});static#i=this.\u0275inj=t.cJS({imports:[h.ez,l.u5,r.Pc,M,C.K]})}return a})()}}]);