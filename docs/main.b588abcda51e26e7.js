(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8217:(an,tt,M)=>{"use strict";M.d(tt,{$:()=>ys,A:()=>oe,C:()=>ru,G:()=>Pe,K:()=>dt,L:()=>Yt,N:()=>zi,P:()=>Ka,R:()=>Pa,U:()=>Zn,V:()=>rs,W:()=>ro,X:()=>is,Y:()=>As,Z:()=>To,_:()=>os,a:()=>ks,a0:()=>$i,a1:()=>On,a2:()=>ii,a3:()=>ar,a4:()=>ni,a5:()=>ss,a6:()=>V,a7:()=>we,a8:()=>ht,a9:()=>un,aA:()=>Qn,aB:()=>He,aC:()=>W,aD:()=>yo,aE:()=>Ft,aF:()=>xn,aG:()=>Gl,aH:()=>qs,aI:()=>Fs,aJ:()=>Qt,aN:()=>sa,aQ:()=>ms,aa:()=>_n,ab:()=>br,ac:()=>Ii,ad:()=>oi,ae:()=>Gr,af:()=>Co,ag:()=>_i,ah:()=>C,ak:()=>Le,al:()=>Wt,am:()=>jn,ap:()=>Ss,aq:()=>pi,as:()=>ls,at:()=>ri,au:()=>Re,av:()=>Rt,aw:()=>It,ax:()=>xe,ay:()=>Qo,az:()=>dd,b:()=>oa,c:()=>du,d:()=>Is,e:()=>ho,f:()=>wc,g:()=>Sc,h:()=>Ac,i:()=>au,j:()=>Mc,k:()=>ma,l:()=>cu,m:()=>Ih,o:()=>_u,p:()=>ve,r:()=>xo,s:()=>ua,u:()=>bo,w:()=>za});var l=M(5861),P=M(9058),_e=M(534),le=M(7879),Ee=M(7582),ge=M(4537);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Fe=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new le.Yd("@firebase/auth");function Qe(v,...f){Te.logLevel<=le.in.ERROR&&Te.error(`Auth (${_e.SDK_VERSION}): ${v}`,...f)}function xe(v,...f){throw ue(v,...f)}function He(v,...f){return ue(v,...f)}function je(v,f,m){const D=Object.assign(Object.assign({},Fe()),{[f]:m});return new P.LL("auth","Firebase",D).create(f,{appName:v.name})}function Ie(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&xe(v,"argument-error"),je(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ue(v,...f){if("string"!=typeof v){const m=f[0],D=[...f.slice(1)];return D[0]&&(D[0].appName=v.name),v._errorFactory.create(m,...D)}return ct.create(v,...f)}function W(v,f,...m){if(!v)throw ue(f,...m)}function ke(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Qe(f),new Error(f)}function Re(v,f){v||ke(f)}function nt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function it(){return"http:"===lt()||"https:"===lt()}function lt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Zt{constructor(f,m){this.shortDelay=f,this.longDelay=m,Re(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ot(v,f){Re(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Se{static initialize(f,m,D){this.fetchImpl=f,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Me=new Zt(3e4,6e4);function fe(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function rt(v,f,m,D){return ut.apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(v,f,m,D,H={}){return $t(v,H,(0,l.Z)(function*(){let Q={},at={};D&&("GET"===f?at=D:Q={body:JSON.stringify(D)});const St=(0,P.xO)(Object.assign({key:v.config.apiKey},at)).slice(1),nn=yield v._getAdditionalHeaders();return nn["Content-Type"]="application/json",v.languageCode&&(nn["X-Firebase-Locale"]=v.languageCode),Se.fetch()(In(v,v.config.apiHost,m,St),Object.assign({method:f,headers:nn,referrerPolicy:"no-referrer"},Q))}))})).apply(this,arguments)}function $t(v,f,m){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(v,f,m){v._canInitEmulator=!1;const D=Object.assign(Object.assign({},ce),f);try{const H=new kt(v),Q=yield Promise.race([m(),H.promise]);H.clearNetworkTimeout();const at=yield Q.json();if("needConfirmation"in at)throw Et(v,"account-exists-with-different-credential",at);if(Q.ok&&!("errorMessage"in at))return at;{const St=Q.ok?at.errorMessage:at.error.message,[nn,qn]=St.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nn)throw Et(v,"credential-already-in-use",at);if("EMAIL_EXISTS"===nn)throw Et(v,"email-already-in-use",at);if("USER_DISABLED"===nn)throw Et(v,"user-disabled",at);const hr=D[nn]||nn.toLowerCase().replace(/[_\s]+/g,"-");if(qn)throw je(v,hr,qn);xe(v,hr)}}catch(H){if(H instanceof P.ZR)throw H;xe(v,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function qt(v,f,m,D){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(v,f,m,D,H={}){const Q=yield rt(v,f,m,D,H);return"mfaPendingCredential"in Q&&xe(v,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function In(v,f,m,D){const H=`${f}${m}?${D}`;return v.config.emulator?ot(v.config,H):`${v.config.apiScheme}://${H}`}function Xn(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(He(this.auth,"network-request-failed")),Me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Et(v,f,m){const D={appName:v.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const H=He(v,f,D);return H.customData._tokenResponse=m,H}function mt(v){return void 0!==v&&void 0!==v.getResponse}function Ot(v){return void 0!==v&&void 0!==v.enterprise}class fn{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===f)return Xn(m.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function Bn(){return(Bn=(0,l.Z)(function*(v){return(yield rt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mn(v,f){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(v,f){return rt(v,"GET","/v2/recaptchaConfig",fe(v,f))})).apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Vn(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function mr(){return(mr=(0,l.Z)(function*(v,f=!1){const m=(0,P.m9)(v),D=yield m.getIdToken(f),H=$n(D);W(H&&H.exp&&H.auth_time&&H.iat,m.auth,"internal-error");const Q="object"==typeof H.firebase?H.firebase:void 0,at=Q?.sign_in_provider;return{claims:H,token:D,authTime:Vn(Ai(H.auth_time)),issuedAtTime:Vn(Ai(H.iat)),expirationTime:Vn(Ai(H.exp)),signInProvider:at||null,signInSecondFactor:Q?.sign_in_second_factor||null}})).apply(this,arguments)}function Ai(v){return 1e3*Number(v)}function $n(v){const[f,m,D]=v.split(".");if(void 0===f||void 0===m||void 0===D)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,P.tV)(m);return H?JSON.parse(H):(Qe("Failed to decode base64 JWT payload"),null)}catch(H){return Qe("Caught error parsing JWT payload as JSON",H?.toString()),null}}function zt(v,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(D){throw D instanceof P.ZR&&function ui({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(D)&&v.auth.currentUser===v&&(yield v.auth.signOut()),D}})).apply(this,arguments)}class Yr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const H=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),D)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class ur{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vn(this.lastLoginAt),this.creationTime=Vn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function or(v){return Nr.apply(this,arguments)}function Nr(){return Nr=(0,l.Z)(function*(v){var f;const m=v.auth,D=yield v.getIdToken(),H=yield zt(v,function Fn(v,f){return zr.apply(this,arguments)}(m,{idToken:D}));W(H?.users.length,m,"internal-error");const Q=H.users[0];v._notifyReloadListener(Q);const at=null!==(f=Q.providerUserInfo)&&void 0!==f&&f.length?function Cn(v){return v.map(f=>{var{providerId:m}=f,D=(0,Ee._T)(f,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(Q.providerUserInfo):[],St=function Jr(v,f){return[...v.filter(D=>!f.some(H=>H.providerId===D.providerId)),...f]}(v.providerData,at),hr=!!v.isAnonymous&&!(v.email&&Q.passwordHash||St?.length),Xr={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:St,metadata:new ur(Q.createdAt,Q.lastLoginAt),isAnonymous:hr};Object.assign(v,Xr)}),Nr.apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(v){const f=(0,P.m9)(v);yield or(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(v,f){const m=yield $t(v,{},(0,l.Z)(function*(){const D=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:H,apiKey:Q}=v.config,at=In(v,H,"/v1/token",`key=${Q}`),St=yield v._getAdditionalHeaders();return St["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(at,{method:"POST",headers:St,body:D})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function Y(){return(Y=(0,l.Z)(function*(v,f){return rt(v,"POST","/v2/accounts:revokeToken",fe(v,f))})).apply(this,arguments)}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){W(f.idToken,"internal-error"),W(typeof f.idToken<"u","internal-error"),W(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Qr(v){const f=$n(v);return W(f,"internal-error"),W(typeof f.exp<"u","internal-error"),W(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var D=this;return(0,l.Z)(function*(){return W(!D.accessToken||D.refreshToken,f,"user-token-expired"),m||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(f,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var D=this;return(0,l.Z)(function*(){const{accessToken:H,refreshToken:Q,expiresIn:at}=yield function Un(v,f){return Ir.apply(this,arguments)}(f,m);D.updateTokensAndExpiration(H,Q,Number(at))})()}updateTokensAndExpiration(f,m,D){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(f,m){const{refreshToken:D,accessToken:H,expirationTime:Q}=m,at=new J;return D&&(W("string"==typeof D,"internal-error",{appName:f}),at.refreshToken=D),H&&(W("string"==typeof H,"internal-error",{appName:f}),at.accessToken=H),Q&&(W("number"==typeof Q,"internal-error",{appName:f}),at.expirationTime=Q),at}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return ke("not implemented")}}function Z(v,f){W("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class ee{constructor(f){var{uid:m,auth:D,stsTokenManager:H}=f,Q=(0,Ee._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new ur(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,l.Z)(function*(){const D=yield zt(m,m.stsTokenManager.getToken(m.auth,f));return W(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(f){return function Dn(v){return mr.apply(this,arguments)}(this,f)}reload(){return function kr(v){return Dr.apply(this,arguments)}(this)}_assign(f){this!==f&&(W(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new ee(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var D=this;return(0,l.Z)(function*(){let H=!1;f.idToken&&f.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(f),H=!0),m&&(yield or(D)),yield D.auth._persistUserIfCurrent(D),H&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var f=this;return(0,l.Z)(function*(){const m=yield f.getIdToken();return yield zt(f,function Hn(v,f){return Mr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var D,H,Q,at,St,nn,qn,hr;const Xr=null!==(D=m.displayName)&&void 0!==D?D:void 0,vo=null!==(H=m.email)&&void 0!==H?H:void 0,Ls=null!==(Q=m.phoneNumber)&&void 0!==Q?Q:void 0,kc=null!==(at=m.photoURL)&&void 0!==at?at:void 0,Jl=null!==(St=m.tenantId)&&void 0!==St?St:void 0,ya=null!==(nn=m._redirectEventId)&&void 0!==nn?nn:void 0,yd=null!==(qn=m.createdAt)&&void 0!==qn?qn:void 0,Dl=null!==(hr=m.lastLoginAt)&&void 0!==hr?hr:void 0,{uid:vu,emailVerified:Cl,isAnonymous:_d,providerData:_a,stsTokenManager:wl}=m;W(vu&&wl,f,"internal-error");const vd=J.fromJSON(this.name,wl);W("string"==typeof vu,f,"internal-error"),Z(Xr,f.name),Z(vo,f.name),W("boolean"==typeof Cl,f,"internal-error"),W("boolean"==typeof _d,f,"internal-error"),Z(Ls,f.name),Z(kc,f.name),Z(Jl,f.name),Z(ya,f.name),Z(yd,f.name),Z(Dl,f.name);const ec=new ee({uid:vu,auth:f,email:vo,emailVerified:Cl,displayName:Xr,isAnonymous:_d,photoURL:kc,phoneNumber:Ls,tenantId:Jl,stsTokenManager:vd,createdAt:yd,lastLoginAt:Dl});return _a&&Array.isArray(_a)&&(ec.providerData=_a.map(Oi=>Object.assign({},Oi))),ya&&(ec._redirectEventId=ya),ec}static _fromIdTokenResponse(f,m,D=!1){return(0,l.Z)(function*(){const H=new J;H.updateFromServerResponse(m);const Q=new ee({uid:m.localId,auth:f,stsTokenManager:H,isAnonymous:D});return yield or(Q),Q})()}}const Je=new Map;function Ft(v){Re(v instanceof Function,"Expected a class definition");let f=Je.get(v);return f?(Re(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,Je.set(v,f),f)}const Zn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,D){var H=this;return(0,l.Z)(function*(){H.storage[m]=D})()}_get(m){var D=this;return(0,l.Z)(function*(){const H=D.storage[m];return void 0===H?null:H})()}_remove(m){var D=this;return(0,l.Z)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return v.type="NONE",v})();function xn(v,f,m){return`firebase:${v}:${f}:${m}`}class yr{constructor(f,m,D){this.persistence=f,this.auth=m,this.userKey=D;const{config:H,name:Q}=this.auth;this.fullUserKey=xn(this.userKey,H.apiKey,Q),this.fullPersistenceKey=xn("persistence",H.apiKey,Q),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?ee._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,l.Z)(function*(){if(m.persistence===f)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,D="authUser"){return(0,l.Z)(function*(){if(!m.length)return new yr(Ft(Zn),f,D);const H=(yield Promise.all(m.map(function(){var qn=(0,l.Z)(function*(hr){if(yield hr._isAvailable())return hr});return function(hr){return qn.apply(this,arguments)}}()))).filter(qn=>qn);let Q=H[0]||Ft(Zn);const at=xn(D,f.config.apiKey,f.name);let St=null;for(const qn of m)try{const hr=yield qn._get(at);if(hr){const Xr=ee._fromJSON(f,hr);qn!==Q&&(St=Xr),Q=qn;break}}catch{}const nn=H.filter(qn=>qn._shouldAllowMigration);return Q._shouldAllowMigration&&nn.length?(Q=nn[0],St&&(yield Q._set(at,St.toJSON())),yield Promise.all(m.map(function(){var qn=(0,l.Z)(function*(hr){if(hr!==Q)try{yield hr._remove(at)}catch{}});return function(hr){return qn.apply(this,arguments)}}())),new yr(Q,f,D)):new yr(Q,f,D)})()}}function Jn(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Hr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Cr(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(pt(f))return"Blackberry";if(Nt(f))return"Webos";if(ei(f))return"Safari";if((f.includes("chrome/")||Ar(f))&&!f.includes("edge/"))return"Chrome";if(It(f))return"Android";{const D=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function Cr(v=(0,P.z$)()){return/firefox\//i.test(v)}function ei(v=(0,P.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ar(v=(0,P.z$)()){return/crios\//i.test(v)}function Hr(v=(0,P.z$)()){return/iemobile/i.test(v)}function It(v=(0,P.z$)()){return/android/i.test(v)}function pt(v=(0,P.z$)()){return/blackberry/i.test(v)}function Nt(v=(0,P.z$)()){return/webos/i.test(v)}function Rt(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Qn(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Pr(v=(0,P.z$)()){return Rt(v)||It(v)||Nt(v)||pt(v)||/windows phone/i.test(v)||Hr(v)}function de(v,f=[]){let m;switch(v){case"Browser":m=Jn((0,P.z$)());break;case"Worker":m=`${Jn((0,P.z$)())}-${v}`;break;default:m=v}const D=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${_e.SDK_VERSION}/${D}`}class Be{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const D=Q=>new Promise((at,St)=>{try{at(f(Q))}catch(nn){St(nn)}});D.onAbort=m,this.queue.push(D);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===f)return;const D=[];try{for(const H of m.queue)yield H(f),H.onAbort&&D.push(H.onAbort)}catch(H){D.reverse();for(const Q of D)try{Q()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}function ft(){return(ft=(0,l.Z)(function*(v,f={}){return rt(v,"GET","/v2/passwordPolicy",fe(v,f))})).apply(this,arguments)}class Kt{constructor(f){var m,D,H,Q;const at=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=at.minPasswordLength)&&void 0!==m?m:6,at.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=at.maxPasswordLength),void 0!==at.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=at.containsLowercaseCharacter),void 0!==at.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=at.containsUppercaseCharacter),void 0!==at.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=at.containsNumericCharacter),void 0!==at.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=at.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(D=f.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(Q=f.forceUpgradeOnSignin)&&void 0!==Q&&Q,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,D,H,Q,at,St;const nn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,nn),this.validatePasswordCharacterOptions(f,nn),nn.isValid&&(nn.isValid=null===(m=nn.meetsMinPasswordLength)||void 0===m||m),nn.isValid&&(nn.isValid=null===(D=nn.meetsMaxPasswordLength)||void 0===D||D),nn.isValid&&(nn.isValid=null===(H=nn.containsLowercaseLetter)||void 0===H||H),nn.isValid&&(nn.isValid=null===(Q=nn.containsUppercaseLetter)||void 0===Q||Q),nn.isValid&&(nn.isValid=null===(at=nn.containsNumericCharacter)||void 0===at||at),nn.isValid&&(nn.isValid=null===(St=nn.containsNonAlphanumericCharacter)||void 0===St||St),nn}validatePasswordLengthOptions(f,m){const D=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;D&&(m.meetsMinPasswordLength=f.length>=D),H&&(m.meetsMaxPasswordLength=f.length<=H)}validatePasswordCharacterOptions(f,m){let D;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let H=0;H<f.length;H++)D=f.charAt(H),this.updatePasswordCharacterOptionsStatuses(m,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(f,m,D,H,Q){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=Q))}}class Gt{constructor(f,m,D,H){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=D,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rn(this),this.idTokenSubscription=new Rn(this),this.beforeStateQueue=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(f,m){var D=this;return m&&(this._popupRedirectResolver=Ft(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var H,Q;if(!D._deleted&&(D.persistenceManager=yield yr.create(D,f),!D._deleted)){if(null!==(H=D._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(m),D.lastNotifiedUid=(null===(Q=D.currentUser)||void 0===Q?void 0:Q.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,l.Z)(function*(){var D;const H=yield m.assertedPersistence.getCurrentUser();let Q=H,at=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const St=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,nn=Q?._redirectEventId,qn=yield m.tryRedirectSignIn(f);(!St||St===nn)&&qn?.user&&(Q=qn.user,at=!0)}if(!Q)return m.directlySetCurrentUser(null);if(!Q._redirectEventId){if(at)try{yield m.beforeStateQueue.runMiddleware(Q)}catch(St){Q=H,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(St))}return Q?m.reloadAndSetCurrentUserOrClear(Q):m.directlySetCurrentUser(null)}return W(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Q._redirectEventId?m.directlySetCurrentUser(Q):m.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(f){var m=this;return(0,l.Z)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,l.Z)(function*(){try{yield or(f)}catch(D){if("auth/network-request-failed"!==D?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Vt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,l.Z)(function*(){const D=f?(0,P.m9)(f):null;return D&&W(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(f,m=!1){var D=this;return(0,l.Z)(function*(){if(!D._deleted)return f&&W(D.tenantId===f.tenantId,D,"tenant-id-mismatch"),m||(yield D.beforeStateQueue.runMiddleware(f)),D.queue((0,l.Z)(function*(){yield D.directlySetCurrentUser(f),D.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(Ft(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,l.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const D=m._getPasswordPolicyInternal();return D.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,l.Z)(function*(){const m=yield function Ge(v){return ft.apply(this,arguments)}(f),D=new Kt(m);null===f.tenantId?f._projectPasswordPolicy=D:f._tenantPasswordPolicies[f.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,m,D){return this.registerStateListener(this.authStateSubscription,f,m,D)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,D){return this.registerStateListener(this.idTokenSubscription,f,m,D)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const D=this.onAuthStateChanged(()=>{D(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,l.Z)(function*(){if(m.currentUser){const D=yield m.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:D};null!=m.tenantId&&(H.tenantId=m.tenantId),yield function Ne(v,f){return Y.apply(this,arguments)}(m,H)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var D=this;return(0,l.Z)(function*(){const H=yield D.getOrInitRedirectPersistenceManager(m);return null===f?H.removeCurrentUser():H.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const D=f&&Ft(f)||m._popupRedirectResolver;W(D,m,"argument-error"),m.redirectPersistenceManager=yield yr.create(m,[Ft(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,l.Z)(function*(){var D,H;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===f?m._currentUser:(null===(H=m.redirectUser)||void 0===H?void 0:H._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,l.Z)(function*(){if(f===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,D,H){if(this._deleted)return()=>{};const Q="function"==typeof m?m:m.next.bind(m);let at=!1;const St=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(St,this,"internal-error"),St.then(()=>{at||Q(this.currentUser)}),"function"==typeof m){const nn=f.addObserver(m,D,H);return()=>{at=!0,nn()}}{const nn=f.addObserver(m);return()=>{at=!0,nn()}}}directlySetCurrentUser(f){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=de(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var m;const D={"X-Client-Version":f.clientVersion};f.app.options.appId&&(D["X-Firebase-gmpid"]=f.app.options.appId);const H=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();H&&(D["X-Firebase-Client"]=H);const Q=yield f._getAppCheckToken();return Q&&(D["X-Firebase-AppCheck"]=Q),D})()}_getAppCheckToken(){var f=this;return(0,l.Z)(function*(){var m;const D=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return D?.error&&function Ue(v,...f){Te.logLevel<=le.in.WARN&&Te.warn(`Auth (${_e.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function Qt(v){return(0,P.m9)(v)}class Rn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function se(v){return new Promise((f,m)=>{const D=document.createElement("script");D.setAttribute("src",v),D.onload=f,D.onerror=H=>{const Q=He("internal-error");Q.customData=H,m(Q)},D.type="text/javascript",D.charset="UTF-8",function pe(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(D)})}function U(v){return`__${v}${Math.floor(1e6*Math.random())}`}class gt{constructor(f){this.type="recaptcha-enterprise",this.auth=Qt(f)}verify(f="verify",m=!1){var D=this;return(0,l.Z)(function*(){function Q(){return Q=(0,l.Z)(function*(St){if(!m){if(null==St.tenantId&&null!=St._agentRecaptchaConfig)return St._agentRecaptchaConfig.siteKey;if(null!=St.tenantId&&void 0!==St._tenantRecaptchaConfigs[St.tenantId])return St._tenantRecaptchaConfigs[St.tenantId].siteKey}return new Promise(function(){var nn=(0,l.Z)(function*(qn,hr){mn(St,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Xr=>{if(void 0!==Xr.recaptchaKey){const vo=new fn(Xr);return null==St.tenantId?St._agentRecaptchaConfig=vo:St._tenantRecaptchaConfigs[St.tenantId]=vo,qn(vo.siteKey)}hr(new Error("recaptcha Enterprise site key undefined"))}).catch(Xr=>{hr(Xr)})});return function(qn,hr){return nn.apply(this,arguments)}}())}),Q.apply(this,arguments)}function at(St,nn,qn){const hr=window.grecaptcha;Ot(hr)?hr.enterprise.ready(()=>{hr.enterprise.execute(St,{action:f}).then(Xr=>{nn(Xr)}).catch(()=>{nn("NO_RECAPTCHA")})}):qn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((St,nn)=>{(function H(St){return Q.apply(this,arguments)})(D.auth).then(qn=>{if(!m&&Ot(window.grecaptcha))at(qn,St,nn);else{if(typeof window>"u")return void nn(new Error("RecaptchaVerifier is only supported in browser"));se("https://www.google.com/recaptcha/enterprise.js?render="+qn).then(()=>{at(qn,St,nn)}).catch(hr=>{nn(hr)})}}).catch(qn=>{nn(qn)})})})()}}function yt(v,f,m){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,l.Z)(function*(v,f,m,D=!1){const H=new gt(v);let Q;try{Q=yield H.verify(m)}catch{Q=yield H.verify(m,!0)}const at=Object.assign({},f);return Object.assign(at,D?{captchaResp:Q}:{captchaResponse:Q}),Object.assign(at,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(at,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),at})).apply(this,arguments)}function Mn(v,f,m,D){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,l.Z)(function*(v,f,m,D){var H;if(null!==(H=v._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Q=yield yt(v,f,m,"getOobCode"===m);return D(v,Q)}return D(v,f).catch(function(){var Q=(0,l.Z)(function*(at){if("auth/missing-recaptcha-token"===at.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const St=yield yt(v,f,m,"getOobCode"===m);return D(v,St)}return Promise.reject(at)});return function(at){return Q.apply(this,arguments)}}())}),Wn.apply(this,arguments)}function dt(v,f,m){const D=Qt(v);W(D._canInitEmulator,D,"emulator-config-failed"),W(/^https?:\/\//.test(f),D,"invalid-emulator-scheme");const H=!!m?.disableWarnings,Q=_t(f),{host:at,port:St}=function Pt(v){const f=_t(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(D);if(H){const Q=H[1];return{host:Q,port:tn(D.substr(Q.length+1))}}{const[Q,at]=D.split(":");return{host:Q,port:tn(at)}}}(f);D.config.emulator={url:`${Q}//${at}${null===St?"":`:${St}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:at,port:St,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Xt(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function _t(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function tn(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Yt{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ke("not implemented")}_getIdTokenResponse(f){return ke("not implemented")}_linkToIdToken(f,m){return ke("not implemented")}_getReauthenticationResolver(f){return ke("not implemented")}}function cn(v,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:resetPassword",fe(v,f))})).apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ur(v,f){return I.apply(this,arguments)}function I(){return(I=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function S(){return(S=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:update",fe(v,f))})).apply(this,arguments)}function ae(v,f){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,l.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:signInWithPassword",fe(v,f))})).apply(this,arguments)}function er(v,f){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:sendOobCode",fe(v,f))})).apply(this,arguments)}function ti(){return(ti=(0,l.Z)(function*(v,f){return er(v,f)})).apply(this,arguments)}function ji(v,f){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(v,f){return er(v,f)})).apply(this,arguments)}function So(v,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(v,f){return er(v,f)})).apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(v,f){return er(v,f)})).apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:signInWithEmailLink",fe(v,f))})).apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:signInWithEmailLink",fe(v,f))})).apply(this,arguments)}class to extends Yt{constructor(f,m,D,H=null){super("password",D),this._email=f,this._password=m,this._tenantId=H}static _fromEmailAndPassword(f,m){return new to(f,m,"password")}static _fromEmailAndCode(f,m,D=null){return new to(f,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return Mn(f,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ae);case"emailLink":return function Cs(v,f){return $o.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:xe(f,"internal-error")}})()}_linkToIdToken(f,m){var D=this;return(0,l.Z)(function*(){switch(D.signInMethod){case"password":return Mn(f,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ur);case"emailLink":return function eo(v,f){return so.apply(this,arguments)}(f,{idToken:m,email:D._email,oobCode:D._password});default:xe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function mi(v,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:signInWithIdp",fe(v,f))})).apply(this,arguments)}class zi extends Yt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new zi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):xe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:D,signInMethod:H}=m,Q=(0,Ee._T)(m,["providerId","signInMethod"]);if(!D||!H)return null;const at=new zi(D,H);return at.idToken=Q.idToken||void 0,at.accessToken=Q.accessToken||void 0,at.secret=Q.secret,at.nonce=Q.nonce,at.pendingToken=Q.pendingToken||null,at}_getIdTokenResponse(f){return mi(f,this.buildRequest())}_linkToIdToken(f,m){const D=this.buildRequest();return D.idToken=m,mi(f,D)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,mi(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,P.xO)(m)}return f}}function ws(){return(ws=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:sendVerificationCode",fe(v,f))})).apply(this,arguments)}function Uo(){return(Uo=(0,l.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",fe(v,f))})).apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(v,f){const m=yield qt(v,"POST","/v1/accounts:signInWithPhoneNumber",fe(v,f));if(m.temporaryProof)throw Et(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Us={USER_NOT_FOUND:"user-not-found"};function gs(){return(gs=(0,l.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",fe(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Us)})).apply(this,arguments)}class Zi extends Yt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Zi({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Zi({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function $s(v,f){return Uo.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function ea(v,f){return qo.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ps(v,f){return gs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:D,verificationCode:H}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:D,code:H}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:D,phoneNumber:H,temporaryProof:Q}=f;return D||m||H||Q?new Zi({verificationId:m,verificationCode:D,phoneNumber:H,temporaryProof:Q}):null}}class js{constructor(f){var m,D,H,Q,at,St;const nn=(0,P.zd)((0,P.pd)(f)),qn=null!==(m=nn.apiKey)&&void 0!==m?m:null,hr=null!==(D=nn.oobCode)&&void 0!==D?D:null,Xr=function Io(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=nn.mode)&&void 0!==H?H:null);W(qn&&hr&&Xr,"argument-error"),this.apiKey=qn,this.operation=Xr,this.code=hr,this.continueUrl=null!==(Q=nn.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(at=nn.languageCode)&&void 0!==at?at:null,this.tenantId=null!==(St=nn.tenantId)&&void 0!==St?St:null}static parseLink(f){const m=function bs(v){const f=(0,P.zd)((0,P.pd)(v)).link,m=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,D=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(D?(0,P.zd)((0,P.pd)(D)).link:null)||D||m||f||v}(f);try{return new js(m)}catch{return null}}}let rs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,D){return to._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const H=js.parseLink(D);return W(H,"argument-error"),to._fromEmailAndCode(m,H.code,H.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class lo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class no extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class To extends no{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return W("providerId"in m&&"signInMethod"in m,"argument-error"),zi._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return W(f.idToken||f.accessToken,"argument-error"),zi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return To.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return To.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:H,pendingToken:Q,nonce:at,providerId:St}=f;if(!D&&!H&&!m&&!Q||!St)return null;try{return new To(St)._credential({idToken:m,accessToken:D,nonce:at,pendingToken:Q})}catch{return null}}}let ro=(()=>{class v extends no{constructor(){super("facebook.com")}static credential(m){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),is=(()=>{class v extends no{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:H}=m;if(!D&&!H)return null;try{return v.credential(D,H)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),As=(()=>{class v extends no{constructor(){super("github.com")}static credential(m){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ms extends Yt{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return mi(f,this.buildRequest())}_linkToIdToken(f,m){const D=this.buildRequest();return D.idToken=m,mi(f,D)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,mi(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:D,signInMethod:H,pendingToken:Q}=m;return D&&H&&Q&&D===H?new ms(D,Q):null}static _create(f,m){return new ms(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class os extends lo{constructor(f){W(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return os.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return os.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=ms.fromJSON(f);return W(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:D}=f;if(!m||!D)return null;try{return ms._create(D,m)}catch{return null}}}let ys=(()=>{class v extends no{constructor(){super("twitter.com")}static credential(m,D){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:H}=m;if(!D||!H)return null;try{return v.credential(D,H)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Aa(v,f){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:signUp",fe(v,f))})).apply(this,arguments)}class nr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,D,H=!1){return(0,l.Z)(function*(){const Q=yield ee._fromIdTokenResponse(f,D,H),at=si(D);return new nr({user:Q,providerId:at,_tokenResponse:D,operationType:m})})()}static _forOperation(f,m,D){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(D,!0);const H=si(D);return new nr({user:f,providerId:H,_tokenResponse:D,operationType:m})})()}}function si(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function $i(v){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(v){var f;const m=Qt(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new nr({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield Aa(m,{returnSecureToken:!0}),H=yield nr._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(H.user),H})).apply(this,arguments)}class Ei extends P.ZR{constructor(f,m,D,H){var Q;super(m.code,m.message),this.operationType=D,this.user=H,Object.setPrototypeOf(this,Ei.prototype),this.customData={appName:f.name,tenantId:null!==(Q=f.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:m.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(f,m,D,H){return new Ei(f,m,D,H)}}function _s(v,f,m,D){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?Ei._fromErrorAndOperation(v,Q,f,D):Q})}function ra(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function Ss(v,f){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,l.Z)(function*(v,f){const m=(0,P.m9)(v);yield ln(!0,m,f);const{providerUserInfo:D}=yield function cr(v,f){return Kn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),H=ra(D||[]);return m.providerData=m.providerData.filter(Q=>H.has(Q.providerId)),H.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Rs.apply(this,arguments)}function Ms(v,f){return fr.apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(v,f,m=!1){const D=yield zt(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return nr._forOperation(v,"link",D)})).apply(this,arguments)}function ln(v,f,m){return F.apply(this,arguments)}function F(){return(F=(0,l.Z)(function*(v,f,m){yield or(f);const H=!1===v?"provider-already-linked":"no-such-provider";W(ra(f.providerData).has(m)===v,f.auth,H)})).apply(this,arguments)}function $(v,f){return x.apply(this,arguments)}function x(){return(x=(0,l.Z)(function*(v,f,m=!1){const{auth:D}=v,H="reauthenticate";try{const Q=yield zt(v,_s(D,H,f,v),m);W(Q.idToken,D,"internal-error");const at=$n(Q.idToken);W(at,D,"internal-error");const{sub:St}=at;return W(v.uid===St,D,"user-mismatch"),nr._forOperation(v,H,Q)}catch(Q){throw"auth/user-not-found"===Q?.code&&xe(D,"user-mismatch"),Q}})).apply(this,arguments)}function ne(v,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,l.Z)(function*(v,f,m=!1){const D="signIn",H=yield _s(v,D,f),Q=yield nr._fromIdTokenResponse(v,D,H);return m||(yield v._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function On(v,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(v,f){return ne(Qt(v),f)})).apply(this,arguments)}function ii(v,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(v,f){const m=(0,P.m9)(v);return yield ln(!1,m,f.providerId),Ms(m,f)})).apply(this,arguments)}function ar(v,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(v,f){return $((0,P.m9)(v),f)})).apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:signInWithCustomToken",fe(v,f))})).apply(this,arguments)}function ni(v,f){return Do.apply(this,arguments)}function Do(){return Do=(0,l.Z)(function*(v,f){const m=Qt(v),D=yield function Ps(v,f){return Ro.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),H=yield nr._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(H.user),H}),Do.apply(this,arguments)}class qi{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?co._fromServerResponse(f,m):"totpInfo"in m?Mo._fromServerResponse(f,m):xe(f,"internal-error")}}class co extends qi{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new co(m)}}class Mo extends qi{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new Mo(m)}}function uo(v,f,m){var D;W((null===(D=m.url)||void 0===D?void 0:D.length)>0,v,"invalid-continue-uri"),W(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(W(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(W(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Li(v){return xs.apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(v){const f=Qt(v);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function ss(v,f,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(v,f,m){const D=Qt(v),H={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};m&&uo(D,H,m),yield Mn(D,H,"getOobCode",ji)})).apply(this,arguments)}function V(v,f,m){return j.apply(this,arguments)}function j(){return j=(0,l.Z)(function*(v,f,m){yield cn((0,P.m9)(v),{oobCode:f,newPassword:m}).catch(function(){var D=(0,l.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Li(v),H});return function(H){return D.apply(this,arguments)}}())}),j.apply(this,arguments)}function we(v,f){return Ae.apply(this,arguments)}function Ae(){return Ae=(0,l.Z)(function*(v,f){yield function te(v,f){return S.apply(this,arguments)}((0,P.m9)(v),{oobCode:f})}),Ae.apply(this,arguments)}function ht(v,f){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,l.Z)(function*(v,f){const m=(0,P.m9)(v),D=yield cn(m,{oobCode:f}),H=D.requestType;switch(W(H,m,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(D.mfaInfo,m,"internal-error");default:W(D.email,m,"internal-error")}let Q=null;return D.mfaInfo&&(Q=qi._fromServerResponse(Qt(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:Q},operation:H}})).apply(this,arguments)}function un(v,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(v,f){const{data:m}=yield ht((0,P.m9)(v),f);return m.email})).apply(this,arguments)}function _n(v,f,m){return sr.apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(v,f,m){const D=Qt(v),at=yield Mn(D,{returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Aa).catch(nn=>{throw"auth/password-does-not-meet-requirements"===nn.code&&Li(v),nn}),St=yield nr._fromIdTokenResponse(D,"signIn",at);return yield D._updateCurrentUser(St.user),St})).apply(this,arguments)}function br(v,f,m){return On((0,P.m9)(v),rs.credential(f,m)).catch(function(){var D=(0,l.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Li(v),H});return function(H){return D.apply(this,arguments)}}())}function Ii(v,f,m){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(v,f,m){const D=Qt(v),H={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function Q(at,St){W(St.handleCodeInApp,D,"argument-error"),St&&uo(D,at,St)})(H,m),yield Mn(D,H,"getOobCode",So)})).apply(this,arguments)}function oi(v,f){const m=js.parseLink(f);return"EMAIL_SIGNIN"===m?.operation}function Gr(v,f,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(v,f,m){const D=(0,P.m9)(v),H=rs.credentialWithLink(f,m||nt());return W(H._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),On(D,H)})).apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:createAuthUri",fe(v,f))})).apply(this,arguments)}function Co(v,f){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,l.Z)(function*(v,f){const D={identifier:f,continueUri:it()?nt():"http://localhost"},{signinMethods:H}=yield function yi(v,f){return io.apply(this,arguments)}((0,P.m9)(v),D);return H||[]}),Ui.apply(this,arguments)}function _i(v,f){return Os.apply(this,arguments)}function Os(){return Os=(0,l.Z)(function*(v,f){const m=(0,P.m9)(v),H={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&uo(m.auth,H,f);const{email:Q}=yield function Er(v,f){return ti.apply(this,arguments)}(m.auth,H);Q!==v.email&&(yield v.reload())}),Os.apply(this,arguments)}function C(v,f,m){return K.apply(this,arguments)}function K(){return K=(0,l.Z)(function*(v,f,m){const D=(0,P.m9)(v),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&uo(D.auth,Q,m);const{email:at}=yield function Bo(v,f){return Wo.apply(this,arguments)}(D.auth,Q);at!==v.email&&(yield v.reload())}),K.apply(this,arguments)}function z(){return(z=(0,l.Z)(function*(v,f){return rt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Le(v,f){return bt.apply(this,arguments)}function bt(){return bt=(0,l.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const D=(0,P.m9)(v),Q={idToken:yield D.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},at=yield zt(D,function O(v,f){return z.apply(this,arguments)}(D.auth,Q));D.displayName=at.displayName||null,D.photoURL=at.photoUrl||null;const St=D.providerData.find(({providerId:nn})=>"password"===nn);St&&(St.displayName=D.displayName,St.photoURL=D.photoURL),yield D._updateTokensIfNecessary(at)}),bt.apply(this,arguments)}function Wt(v,f){return Ti((0,P.m9)(v),f,null)}function jn(v,f){return Ti((0,P.m9)(v),null,f)}function Ti(v,f,m){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,l.Z)(function*(v,f,m){const{auth:D}=v,Q={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(Q.email=f),m&&(Q.password=m);const at=yield zt(v,function bn(v,f){return vr.apply(this,arguments)}(D,Q));yield v._updateTokensIfNecessary(at,!0)}),Fr.apply(this,arguments)}class Yn{constructor(f,m,D={}){this.isNewUser=f,this.providerId=m,this.profile=D}}class fi extends Yn{constructor(f,m,D,H){super(f,m,D),this.username=H}}class Zr extends Yn{constructor(f,m){super(f,"facebook.com",m)}}class xi extends fi{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class vs extends Yn{constructor(f,m){super(f,"google.com",m)}}class Ht extends fi{constructor(f,m,D){super(f,"twitter.com",m,D)}}function pi(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Kr(v){var f,m;if(!v)return null;const{providerId:D}=v,H=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},Q=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!D&&v?.idToken){const at=null===(m=null===(f=$n(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(at)return new Yn(Q,"anonymous"!==at&&"custom"!==at?at:null)}if(!D)return null;switch(D){case"facebook.com":return new Zr(Q,H);case"github.com":return new xi(Q,H);case"google.com":return new vs(Q,H);case"twitter.com":return new Ht(Q,H,v.screenName||null);case"custom":case"anonymous":return new Yn(Q,null);default:return new Yn(Q,D,H)}}(m)}function za(v,f,m,D){return(0,P.m9)(v).onIdTokenChanged(f,m,D)}function ru(v){return(0,P.m9)(v).signOut()}class ia{constructor(f,m,D){this.type=f,this.credential=m,this.user=D}static _fromIdtoken(f,m){return new ia("enroll",f,m)}static _fromMfaPendingCredential(f){return new ia("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,D;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ia._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(D=f.multiFactorSession)&&void 0!==D&&D.idToken)return ia._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ic{constructor(f,m,D){this.session=f,this.hints=m,this.signInResolver=D}static _fromError(f,m){const D=Qt(f),H=m.customData._serverResponse,Q=(H.mfaInfo||[]).map(St=>qi._fromServerResponse(D,St));W(H.mfaPendingCredential,D,"internal-error");const at=ia._fromMfaPendingCredential(H.mfaPendingCredential);return new Ic(at,Q,function(){var St=(0,l.Z)(function*(nn){const qn=yield nn._process(D,at);delete H.mfaInfo,delete H.mfaPendingCredential;const hr=Object.assign(Object.assign({},H),{idToken:qn.idToken,refreshToken:qn.refreshToken});switch(m.operationType){case"signIn":const Xr=yield nr._fromIdTokenResponse(D,m.operationType,hr);return yield D._updateCurrentUser(Xr.user),Xr;case"reauthenticate":return W(m.user,D,"internal-error"),nr._forOperation(m.user,m.operationType,hr);default:xe(D,"internal-error")}});return function(nn){return St.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,l.Z)(function*(){return m.signInResolver(f)})()}}function ls(v,f){var m;const D=(0,P.m9)(v),H=f;return W(f.customData.operationType,D,"argument-error"),W(null===(m=H.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),Ic._fromError(D,H)}class Zo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>qi._fromServerResponse(f.auth,D)))})}static _fromUser(f){return new Zo(f)}getSession(){var f=this;return(0,l.Z)(function*(){return ia._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,m){var D=this;return(0,l.Z)(function*(){const H=f,Q=yield D.getSession(),at=yield zt(D.user,H._process(D.user.auth,Q,m));return yield D.user._updateTokensIfNecessary(at),D.user.reload()})()}unenroll(f){var m=this;return(0,l.Z)(function*(){const D="string"==typeof f?f:f.uid,H=yield m.user.getIdToken();try{const Q=yield zt(m.user,function Tr(v,f){return rt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",fe(v,f))}(m.user.auth,{idToken:H,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:at})=>at!==D),yield m.user._updateTokensIfNecessary(Q),yield m.user.reload()}catch(Q){throw Q}})()}}const zs=new WeakMap;function ri(v){const f=(0,P.m9)(v);return zs.has(f)||zs.set(f,Zo._fromUser(f)),zs.get(f)}const tr="__sak";class Ns{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(tr,"1"),this.storage.removeItem(tr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const oa=(()=>{class v extends Ns{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,D)=>this.onStorageEvent(m,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wr(){const v=(0,P.z$)();return ei(v)||Rt(v)}()&&function Gn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const H=this.storage.getItem(D),Q=this.localCache[D];H!==Q&&m(D,Q,H)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((St,nn,qn)=>{this.notifyListeners(St,qn)});const H=m.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const St=this.storage.getItem(H);if(m.newValue!==St)null!==m.newValue?this.storage.setItem(H,m.newValue):this.storage.removeItem(H);else if(this.localCache[H]===m.newValue&&!D)return}const Q=()=>{const St=this.storage.getItem(H);!D&&this.localCache[H]===St||this.notifyListeners(H,St)},at=this.storage.getItem(H);!function ir(){return(0,P.w1)()&&10===document.documentMode}()||at===m.newValue||m.newValue===m.oldValue?Q():setTimeout(Q,10)}notifyListeners(m,D){this.localCache[m]=D;const H=this.listeners[m];if(H)for(const Q of Array.from(H))Q(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var H=()=>super._set,Q=this;return(0,l.Z)(function*(){yield H().call(Q,m,D),Q.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,H=this;return(0,l.Z)(function*(){const Q=yield D().call(H,m);return H.localCache[m]=JSON.stringify(Q),Q})()}_remove(m){var D=()=>super._remove,H=this;return(0,l.Z)(function*(){yield D().call(H,m),delete H.localCache[m]})()}}return v.type="LOCAL",v})(),ks=(()=>{class v extends Ns{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return v.type="SESSION",v})();let Es=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(Q=>Q.isListeningto(m));if(D)return D;const H=new v(m);return this.receivers.push(H),H}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,l.Z)(function*(){const H=m,{eventId:Q,eventType:at,data:St}=H.data,nn=D.handlersMap[at];if(!nn?.size)return;H.ports[0].postMessage({status:"ack",eventId:Q,eventType:at});const qn=Array.from(nn).map(function(){var Xr=(0,l.Z)(function*(vo){return vo(H.origin,St)});return function(vo){return Xr.apply(this,arguments)}}()),hr=yield function Vl(v){return Promise.all(v.map(function(){var f=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return f.apply(this,arguments)}}()))}(qn);H.ports[0].postMessage({status:"done",eventId:Q,eventType:at,response:hr})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function sa(v="",f=10){let m="";for(let D=0;D<f;D++)m+=Math.floor(10*Math.random());return v+m}class jo{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,D=50){var H=this;return(0,l.Z)(function*(){const Q=typeof MessageChannel<"u"?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let at,St;return new Promise((nn,qn)=>{const hr=sa("",20);Q.port1.start();const Xr=setTimeout(()=>{qn(new Error("unsupported_event"))},D);St={messageChannel:Q,onMessage(vo){const Ls=vo;if(Ls.data.eventId===hr)switch(Ls.data.status){case"ack":clearTimeout(Xr),at=setTimeout(()=>{qn(new Error("timeout"))},3e3);break;case"done":clearTimeout(at),nn(Ls.data.response);break;default:clearTimeout(Xr),clearTimeout(at),qn(new Error("invalid_response"))}}},H.handlers.add(St),Q.port1.addEventListener("message",St.onMessage),H.target.postMessage({eventType:f,eventId:hr,data:m},[Q.port2])}).finally(()=>{St&&H.removeMessageHandler(St)})})()}}function zn(){return window}function Xo(){return typeof zn().WorkerGlobalScope<"u"&&"function"==typeof zn().importScripts}function $l(){return($l=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const la="firebaseLocalStorageDb",Ra="firebaseLocalStorage",cs="fbase_key";class Ha{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ca(v,f){return v.transaction([Ra],f?"readwrite":"readonly").objectStore(Ra)}function qr(){const v=indexedDB.open(la,1);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const D=v.result;try{D.createObjectStore(Ra,{keyPath:cs})}catch(H){m(H)}}),v.addEventListener("success",(0,l.Z)(function*(){const D=v.result;D.objectStoreNames.contains(Ra)?f(D):(D.close(),yield function Bt(){const v=indexedDB.deleteDatabase(la);return new Ha(v).toPromise()}(),f(yield qr()))}))})}function Gs(v,f,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,l.Z)(function*(v,f,m){const D=ca(v,!0).put({[cs]:f,value:m});return new Ha(D).toPromise()})).apply(this,arguments)}function Ul(){return(Ul=(0,l.Z)(function*(v,f){const m=ca(v,!1).get(f),D=yield new Ha(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Ma(v,f){const m=ca(v,!0).delete(f);return new Ha(m).toPromise()}const au=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield qr()),m.db})()}_withRetries(m){var D=this;return(0,l.Z)(function*(){let H=0;for(;;)try{const Q=yield D._openDb();return yield m(Q)}catch(Q){if(H++>3)throw Q;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Xo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Es._getInstance(function aa(){return Xo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var D=(0,l.Z)(function*(H,Q){return{keyProcessed:(yield m._poll()).includes(Q.key)}});return function(H,Q){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,l.Z)(function*(H,Q){return["keyChanged"]});return function(H,Q){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var D,H;if(m.activeServiceWorker=yield function Bl(){return $l.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new jo(m.activeServiceWorker);const Q=yield m.sender._send("ping",{},800);Q&&null!==(D=Q[0])&&void 0!==D&&D.fulfilled&&null!==(H=Q[0])&&void 0!==H&&H.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,l.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function rd(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield qr();return yield Gs(m,tr,"1"),yield Ma(m,tr),!0}catch{}return!1})()}_withPendingWrite(m){var D=this;return(0,l.Z)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var H=this;return(0,l.Z)(function*(){return H._withPendingWrite((0,l.Z)(function*(){return yield H._withRetries(Q=>Gs(Q,m,D)),H.localCache[m]=D,H.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,l.Z)(function*(){const H=yield D._withRetries(Q=>function di(v,f){return Ul.apply(this,arguments)}(Q,m));return D.localCache[m]=H,H})()}_remove(m){var D=this;return(0,l.Z)(function*(){return D._withPendingWrite((0,l.Z)(function*(){return yield D._withRetries(H=>Ma(H,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const D=yield m._withRetries(at=>{const St=ca(at,!1).getAll();return new Ha(St).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const H=[],Q=new Set;if(0!==D.length)for(const{fbase_key:at,value:St}of D)Q.add(at),JSON.stringify(m.localCache[at])!==JSON.stringify(St)&&(m.notifyListeners(at,St),H.push(at));for(const at of Object.keys(m.localCache))m.localCache[at]&&!Q.has(at)&&(m.notifyListeners(at,null),H.push(at));return H})()}notifyListeners(m,D){this.localCache[m]=D;const H=this.listeners[m];if(H)for(const Q of Array.from(H))Q(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),E=1e12;class A{constructor(f){this.auth=f,this.counter=E,this._widgets=new Map}render(f,m){const D=this.counter;return this._widgets.set(D,new B(f,this.auth.name,m||{})),this.counter++,D}reset(f){var m;const D=f||E;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(f){var m;return(null===(m=this._widgets.get(f||E))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,l.Z)(function*(){var D;return null===(D=m._widgets.get(f||E))||void 0===D||D.execute(),""})()}}class B{constructor(f,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof f?document.getElementById(f):f;W(H,"argument-error",{appName:m}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function re(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<v;D++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ve=U("rcb"),wt=new Zt(3e4,6e4);class Pn{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=zn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return W(function xr(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&mt(zn().grecaptcha)?Promise.resolve(zn().grecaptcha):new Promise((D,H)=>{const Q=zn().setTimeout(()=>{H(He(f,"network-request-failed"))},wt.get());zn()[Ve]=()=>{zn().clearTimeout(Q),delete zn()[Ve];const St=zn().grecaptcha;if(!St||!mt(St))return void H(He(f,"internal-error"));const nn=St.render;St.render=(qn,hr)=>{const Xr=nn(qn,hr);return this.counter++,Xr},this.hostLanguage=m,D(St)},se(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Ve,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Q),H(He(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=zn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Br{load(f){return(0,l.Z)(function*(){return new A(f)})()}clearedOneInstance(){}}const Ki="recaptcha",Wa={theme:"light",type:"image"};class Pa{constructor(f,m,D=Object.assign({},Wa)){this.parameters=D,this.type=Ki,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(f),this.isInvisible="invisible"===this.parameters.size,W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof m?document.getElementById(m):m;W(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Br:new Pn,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),D=f.getAssertedRecaptcha();return D.getResponse(m)||new Promise(Q=>{const at=St=>{St&&(f.tokenChangeListeners.delete(at),Q(St))};f.tokenChangeListeners.add(at),f.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof f)f(m);else if("string"==typeof f){const D=zn()[f];"function"==typeof D&&D(m)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){W(it()&&!Xo(),f.auth,"internal-error"),yield function qa(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function At(v){return Bn.apply(this,arguments)}(f.auth);W(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ya{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Zi._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function ua(v,f,m){return lu.apply(this,arguments)}function lu(){return(lu=(0,l.Z)(function*(v,f,m){const D=Qt(v),H=yield Ri(D,f,(0,P.m9)(m));return new Ya(H,Q=>On(D,Q))})).apply(this,arguments)}function cu(v,f,m){return od.apply(this,arguments)}function od(){return(od=(0,l.Z)(function*(v,f,m){const D=(0,P.m9)(v);yield ln(!1,D,"phone");const H=yield Ri(D.auth,f,(0,P.m9)(m));return new Ya(H,Q=>ii(D,Q))})).apply(this,arguments)}function xo(v,f,m){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(v,f,m){const D=(0,P.m9)(v),H=yield Ri(D.auth,f,(0,P.m9)(m));return new Ya(H,Q=>ar(D,Q))})).apply(this,arguments)}function Ri(v,f,m){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,l.Z)(function*(v,f,m){var D;const H=yield m.verify();try{let Q;if(W("string"==typeof H,v,"argument-error"),W(m.type===Ki,v,"argument-error"),Q="string"==typeof f?{phoneNumber:f}:f,"session"in Q){const at=Q.session;if("phoneNumber"in Q)return W("enroll"===at.type,v,"internal-error"),(yield function Si(v,f){return rt(v,"POST","/v2/accounts/mfaEnrollment:start",fe(v,f))}(v,{idToken:at.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{W("signin"===at.type,v,"internal-error");const St=(null===(D=Q.multiFactorHint)||void 0===D?void 0:D.uid)||Q.multiFactorUid;return W(St,v,"missing-multi-factor-info"),(yield function zo(v,f){return rt(v,"POST","/v2/accounts/mfaSignIn:start",fe(v,f))}(v,{mfaPendingCredential:at.credential,mfaEnrollmentId:St,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:at}=yield function Js(v,f){return ws.apply(this,arguments)}(v,{phoneNumber:Q.phoneNumber,recaptchaToken:H});return at}}finally{m._reset()}}),Dc.apply(this,arguments)}function bo(v,f){return uu.apply(this,arguments)}function uu(){return(uu=(0,l.Z)(function*(v,f){yield Ms((0,P.m9)(v),f)})).apply(this,arguments)}let Ka=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Qt(m)}verifyPhoneNumber(m,D){return Ri(this.auth,m,(0,P.m9)(D))}static credential(m,D){return Zi._fromVerification(m,D)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:H}=m;return D&&H?Zi._fromTokenResponse(D,H):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function xa(v,f){return f?Ft(f):(W(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ci extends Yt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return mi(f,this._buildIdpRequest())}_linkToIdToken(f,m){return mi(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return mi(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function pl(v){return ne(v.auth,new Ci(v),v.bypassAuthState)}function Wi(v){const{auth:f,user:m}=v;return W(m,f,"internal-error"),$(m,new Ci(v),v.bypassAuthState)}function Mi(v){return gl.apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(v){const{auth:f,user:m}=v;return W(m,f,"internal-error"),Ms(m,new Ci(v),v.bypassAuthState)})).apply(this,arguments)}class ha{constructor(f,m,D,H,Q=!1){this.auth=f,this.resolver=D,this.user=H,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,l.Z)(function*(D,H){f.pendingPromise={resolve:D,reject:H};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Q){f.reject(Q)}});return function(D,H){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,l.Z)(function*(){const{urlResponse:D,sessionId:H,postBody:Q,tenantId:at,error:St,type:nn}=f;if(St)return void m.reject(St);const qn={auth:m.auth,requestUri:D,sessionId:H,tenantId:at||void 0,postBody:Q||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(nn)(qn))}catch(hr){m.reject(hr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return pl;case"linkViaPopup":case"linkViaRedirect":return Mi;case"reauthViaPopup":case"reauthViaRedirect":return Wi;default:xe(this.auth,"internal-error")}}resolve(f){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oo=new Zt(2e3,1e4);function du(v,f,m){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(v,f,m){const D=Qt(v);Ie(v,f,lo);const H=xa(D,m);return new Ws(D,"signInViaPopup",f,H).executeNotNull()})).apply(this,arguments)}function ho(v,f,m){return sd.apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(v,f,m){const D=(0,P.m9)(v);Ie(D.auth,f,lo);const H=xa(D.auth,m);return new Ws(D.auth,"reauthViaPopup",f,H,D).executeNotNull()})).apply(this,arguments)}function Is(v,f,m){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,l.Z)(function*(v,f,m){const D=(0,P.m9)(v);Ie(D.auth,f,lo);const H=xa(D.auth,m);return new Ws(D.auth,"linkViaPopup",f,H,D).executeNotNull()})).apply(this,arguments)}let Ws=(()=>{class v extends ha{constructor(m,D,H,Q,at){super(m,D,Q,at),this.provider=H,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const D=yield m.execute();return W(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,l.Z)(function*(){Re(1===m.filter.length,"Popup operations only handle one event");const D=sa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(H=>{m.reject(H)}),m.resolver._isIframeWebStorageSupported(m.auth,H=>{H||m.reject(He(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(He(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,H;this.pollId=null!==(H=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(He(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Oo.get())};m()}}return v.currentPopupAction=null,v})();const jl="pendingRedirect",Za=new Map;class Cc extends ha{constructor(f,m,D=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,l.Z)(function*(){let D=Za.get(m.auth._key());if(!D){try{const Q=(yield function gp(v,f){return Oa.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;D=()=>Promise.resolve(Q)}catch(H){D=()=>Promise.reject(H)}Za.set(m.auth._key(),D)}return m.bypassAuthState||Za.set(m.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,D=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(D,f);if("unknown"!==f.type){if(f.eventId){const H=yield D.auth._redirectUserForId(f.eventId);if(H)return D.user=H,m().call(D,f);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Oa(){return(Oa=(0,l.Z)(function*(v,f){const m=Ys(f),D=fa(v);if(!(yield D._isAvailable()))return!1;const H="true"===(yield D._get(m));return yield D._remove(m),H})).apply(this,arguments)}function Na(v,f){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,l.Z)(function*(v,f){return fa(v)._set(Ys(f),"true")})).apply(this,arguments)}function Fs(){Za.clear()}function qs(v,f){Za.set(v._key(),f)}function fa(v){return Ft(v._redirectPersistence)}function Ys(v){return xn(jl,v.config.apiKey,v.name)}function wc(v,f,m){return function bc(v,f,m){return zl.apply(this,arguments)}(v,f,m)}function zl(){return(zl=(0,l.Z)(function*(v,f,m){const D=Qt(v);Ie(v,f,lo),yield D._initializationPromise;const H=xa(D,m);return yield Na(H,D),H._openRedirect(D,f,"signInViaRedirect")})).apply(this,arguments)}function Ac(v,f,m){return function ml(v,f,m){return us.apply(this,arguments)}(v,f,m)}function us(){return(us=(0,l.Z)(function*(v,f,m){const D=(0,P.m9)(v);Ie(D.auth,f,lo),yield D.auth._initializationPromise;const H=xa(D.auth,m);yield Na(H,D.auth);const Q=yield ld(D);return H._openRedirect(D.auth,f,"reauthViaRedirect",Q)})).apply(this,arguments)}function Sc(v,f,m){return function Rc(v,f,m){return Hl.apply(this,arguments)}(v,f,m)}function Hl(){return(Hl=(0,l.Z)(function*(v,f,m){const D=(0,P.m9)(v);Ie(D.auth,f,lo),yield D.auth._initializationPromise;const H=xa(D.auth,m);yield ln(!1,D,f.providerId),yield Na(H,D.auth);const Q=yield ld(D);return H._openRedirect(D.auth,f,"linkViaRedirect",Q)})).apply(this,arguments)}function Mc(v,f){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(v,f){return yield Qt(v)._initializationPromise,Gl(v,f,!1)})).apply(this,arguments)}function Gl(v,f){return ad.apply(this,arguments)}function ad(){return(ad=(0,l.Z)(function*(v,f,m=!1){const D=Qt(v),H=xa(D,f),at=yield new Cc(D,H,m).execute();return at&&!m&&(delete at.user._redirectEventId,yield D._persistUserIfCurrent(at.user),yield D._setRedirectUser(null,f)),at})).apply(this,arguments)}function ld(v){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,l.Z)(function*(v){const f=sa(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class yo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(f,D)&&(m=!0,this.sendToConsumer(f,D),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ds(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wi(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var D;if(f.error&&!wi(f)){const H=(null===(D=f.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(He(this.auth,H))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const D=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&D}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ud(f))}saveEventToCache(f){this.cachedEventUids.add(ud(f)),this.lastProcessedEventTime=Date.now()}}function ud(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function wi({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function dd(v){return xc.apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(v,f={}){return rt(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Wl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ql=/^https?/;function dr(){return(dr=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield dd(v);for(const m of f)try{if(bi(m))return}catch{}xe(v,"unauthorized-domain")})).apply(this,arguments)}function bi(v){const f=nt(),{protocol:m,hostname:D}=new URL(f);if(v.startsWith("chrome-extension://")){const at=new URL(v);return""===at.hostname&&""===D?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&at.hostname===D}if(!ql.test(m))return!1;if(Wl.test(v))return D===v;const H=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(D)}const _l=new Zt(3e4,6e4);function Yl(){const v=zn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Kl=null;const vl=new Zt(5e3,15e3),El="__/auth/iframe",Il="emulator/auth/iframe",_h={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zl(v){const f=v.config;W(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?ot(f,Il):`https://${v.config.authDomain}/${El}`,D={apiKey:f.apiKey,appName:v.name,v:_e.SDK_VERSION},H=fd.get(v.config.apiHost);H&&(D.eid=H);const Q=v._getFrameworks();return Q.length&&(D.fw=Q.join(",")),`${m}?${(0,P.xO)(D).slice(1)}`}function pd(){return pd=(0,l.Z)(function*(v){const f=yield function Oc(v){return Kl=Kl||function hd(v){return new Promise((f,m)=>{var D,H,Q;function at(){Yl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Yl(),m(He(v,"network-request-failed"))},timeout:_l.get()})}if(null!==(H=null===(D=zn().gapi)||void 0===D?void 0:D.iframes)&&void 0!==H&&H.Iframe)f(gapi.iframes.getContext());else{if(null===(Q=zn().gapi)||void 0===Q||!Q.load){const St=U("iframefcb");return zn()[St]=()=>{gapi.load?at():m(He(v,"network-request-failed"))},se(`https://apis.google.com/js/api.js?onload=${St}`).catch(nn=>m(nn))}at()}}).catch(f=>{throw Kl=null,f})}(v),Kl}(v),m=zn().gapi;return W(m,v,"internal-error"),f.open({where:document.body,url:Zl(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_h,dontclear:!0},D=>new Promise(function(){var H=(0,l.Z)(function*(Q,at){yield D.restyle({setHideOnLeave:!1});const St=He(v,"network-request-failed"),nn=zn().setTimeout(()=>{at(St)},vl.get());function qn(){zn().clearTimeout(nn),Q(D)}D.ping(qn).then(qn,()=>{at(St)})});return function(Q,at){return H.apply(this,arguments)}}()))}),pd.apply(this,arguments)}const yp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pu="__/auth/handler",fo="emulator/auth/handler",Eh=encodeURIComponent("fac");function Qo(v,f,m,D,H,Q){return gu.apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(v,f,m,D,H,Q){W(v.config.authDomain,v,"auth-domain-config-required"),W(v.config.apiKey,v,"invalid-api-key");const at={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:D,v:_e.SDK_VERSION,eventId:H};if(f instanceof lo){f.setDefaultLanguage(v.languageCode),at.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(at.customParameters=JSON.stringify(f.getCustomParameters()));for(const[hr,Xr]of Object.entries(Q||{}))at[hr]=Xr}if(f instanceof no){const hr=f.getScopes().filter(Xr=>""!==Xr);hr.length>0&&(at.scopes=hr.join(","))}v.tenantId&&(at.tid=v.tenantId);const St=at;for(const hr of Object.keys(St))void 0===St[hr]&&delete St[hr];const nn=yield v._getAppCheckToken(),qn=nn?`#${Eh}=${encodeURIComponent(nn)}`:"";return`${function _o({config:v}){return v.emulator?ot(v,fo):`https://${v.authDomain}/${pu}`}(v)}?${(0,P.xO)(St).slice(1)}${qn}`})).apply(this,arguments)}const ka="webStorageSupport",ma=class mu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ks,this._completeRedirectFn=Gl,this._overrideRedirectResult=qs}_openPopup(f,m,D,H){var Q=this;return(0,l.Z)(function*(){var at;Re(null===(at=Q.eventManagers[f._key()])||void 0===at?void 0:at.manager,"_initialize() not called before _openPopup()");const St=yield Qo(f,m,D,nt(),H);return function ga(v,f,m,D=500,H=600){const Q=Math.max((window.screen.availHeight-H)/2,0).toString(),at=Math.max((window.screen.availWidth-D)/2,0).toString();let St="";const nn=Object.assign(Object.assign({},yp),{width:D.toString(),height:H.toString(),top:Q,left:at}),qn=(0,P.z$)().toLowerCase();m&&(St=Ar(qn)?"_blank":m),Cr(qn)&&(f=f||"http://localhost",nn.scrollbars="yes");const hr=Object.entries(nn).reduce((vo,[Ls,kc])=>`${vo}${Ls}=${kc},`,"");if(function kn(v=(0,P.z$)()){var f;return Rt(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(qn)&&"_self"!==St)return function fu(v,f){const m=document.createElement("a");m.href=v,m.target=f;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(f||"",St),new Tl(null);const Xr=window.open(f||"",St,hr);W(Xr,v,"popup-blocked");try{Xr.focus()}catch{}return new Tl(Xr)}(f,St,sa())})()}_openRedirect(f,m,D,H){var Q=this;return(0,l.Z)(function*(){return yield Q._originValidation(f),function Tc(v){zn().location.href=v}(yield Qo(f,m,D,nt(),H)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:H,promise:Q}=this.eventManagers[m];return H?Promise.resolve(H):(Re(Q,"If manager is not set, promise should be"),Q)}const D=this.initAndGetManager(f);return this.eventManagers[m]={promise:D},D.catch(()=>{delete this.eventManagers[m]}),D}initAndGetManager(f){var m=this;return(0,l.Z)(function*(){const D=yield function mp(v){return pd.apply(this,arguments)}(f),H=new yo(f);return D.register("authEvent",Q=>(W(Q?.authEvent,f,"invalid-auth-event"),{status:H.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:H},m.iframes[f._key()]=D,H})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(ka,{type:ka},H=>{var Q;const at=null===(Q=H?.[0])||void 0===Q?void 0:Q[ka];void 0!==at&&m(!!at),xe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function yl(v){return dr.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Pr()||ei()||Rt()}};class Ao{constructor(f){this.factorId=f}_process(f,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,D);case"signin":return this._finalizeSignIn(f,m.credential);default:return ke("unexpected MultiFactorSessionType")}}}class Xl extends Ao{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Xl(f)}_finalizeEnroll(f,m,D){return function ou(v,f){return rt(v,"POST","/v2/accounts/mfaEnrollment:finalize",fe(v,f))}(f,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function id(v,f){return rt(v,"POST","/v2/accounts/mfaSignIn:finalize",fe(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ih=(()=>{class v{constructor(){}static assertion(m){return Xl._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Zs="@firebase/auth";class gd{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(D=>{f(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hs=(0,P.Pz)("authIdTokenMaxAge")||300;let md=null;const Nc=v=>function(){var f=(0,l.Z)(function*(m){const D=m&&(yield m.getIdTokenResult()),H=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(H&&H>hs)return;const Q=D?.token;md!==Q&&(md=Q,yield fetch(v,{method:Q?"POST":"DELETE",headers:Q?{Authorization:`Bearer ${Q}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function _u(v=(0,_e.getApp)()){const f=(0,_e._getProvider)(v,"auth");if(f.isInitialized())return f.getImmediate();const m=function Ce(v,f){const m=(0,_e._getProvider)(v,"auth");if(m.isInitialized()){const H=m.getImmediate(),Q=m.getOptions();if((0,P.vZ)(Q,f??{}))return H;xe(H,"already-initialized")}return m.initialize({options:f})}(v,{popupRedirectResolver:ma,persistence:[au,oa,ks]}),D=(0,P.Pz)("authTokenSyncURL");if(D){const Q=Nc(D);(function vn(v,f,m){(0,P.m9)(v).beforeAuthStateChanged(f,m)})(m,Q,()=>Q(m.currentUser)),za(m,at=>Q(at))}const H=(0,P.q4)("auth");return H&&dt(m,`http://${H}`),m}!function Fa(v){(0,_e._registerComponent)(new ge.wA("auth",(f,{options:m})=>{const D=f.getProvider("app").getImmediate(),H=f.getProvider("heartbeat"),Q=f.getProvider("app-check-internal"),{apiKey:at,authDomain:St}=D.options;W(at&&!at.includes(":"),"invalid-api-key",{appName:D.name});const nn={apiKey:at,authDomain:St,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:de(v)},qn=new Gt(D,H,Q,nn);return function Ye(v,f){const m=f?.persistence||[],D=(Array.isArray(m)?m:[m]).map(Ft);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(D,f?.popupRedirectResolver)}(qn,m),qn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,D)=>{f.getProvider("auth-internal").initialize()})),(0,_e._registerComponent)(new ge.wA("auth-internal",f=>{const m=Qt(f.getProvider("auth").getImmediate());return new gd(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)(Zs,"1.5.1",function _p(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,_e.registerVersion)(Zs,"1.5.1","esm2017")}("Browser")},5776:(an,tt,M)=>{"use strict";M.d(tt,{u7:()=>tm,Jj:()=>Ol,IX:()=>Uy,my:()=>go,xU:()=>nu,Lz:()=>al,WA:()=>rn,F8:()=>yc,$q:()=>lh,W:()=>ll,EK:()=>ri,PU:()=>h_,l7:()=>Oa,Ky:()=>pn,Xb:()=>Di,Cf:()=>ai,K9:()=>za,Me:()=>hu,yq:()=>Vi,Wi:()=>Kv,ET:()=>a_,Ab:()=>SE,vr:()=>AE,Fc:()=>xl,hJ:()=>Zv,B$:()=>Xv,at:()=>Vy,oe:()=>s_,AK:()=>p_,TF:()=>eE,JU:()=>By,ST:()=>zy,fH:()=>Af,Ix:()=>zg,Wu:()=>e_,Lx:()=>Ff,qY:()=>oo,GL:()=>ch,QT:()=>yE,kl:()=>_E,Xk:()=>vE,PL:()=>EE,UQ:()=>i_,zN:()=>o_,ad:()=>qI,nP:()=>RE,b9:()=>Jy,vh:()=>ah,Pb:()=>tE,L$:()=>nE,cf:()=>nm,sc:()=>TE,Xo:()=>Qy,IO:()=>Xy,iE:()=>nh,Eo:()=>sl,i3:()=>bE,Bt:()=>Uf,pl:()=>IE,Ub:()=>vs,qK:()=>mE,TQ:()=>Jg,e0:()=>dE,r7:()=>QI,Mx:()=>Jv,ar:()=>lE});var ve,l=M(5861),P=M(534),_e=M(4537),le=M(7879),Ee=M(9058),ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye={},Ke=Ke||{},ie=ge||self;function oe(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function Oe(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var Pe="closure_uid_"+(1e9*Math.random()>>>0),Fe=0;function ct(o,e,r){return o.call.apply(o.bind,arguments)}function We(o,e,r){if(!o)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),o.apply(e,c)}}return function(){return o.apply(e,arguments)}}function Te(o,e,r){return(Te=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:We).apply(null,arguments)}function Ue(o,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),o.apply(this,s)}}function Qe(o,e){function r(){}r.prototype=e.prototype,o.$=e.prototype,o.prototype=new r,o.prototype.constructor=o,o.ac=function(s,c,d){for(var p=Array(arguments.length-2),w=2;w<arguments.length;w++)p[w-2]=arguments[w];return e.prototype[c].apply(s,p)}}function xe(){this.s=this.s,this.o=this.o}xe.prototype.s=!1,xe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ze(o){Object.prototype.hasOwnProperty.call(o,Pe)&&o[Pe]||(o[Pe]=++Fe)}(this)},xe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const je=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let r=0;r<o.length;r++)if(r in o&&o[r]===e)return r;return-1};function Ie(o){const e=o.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=o[s];return r}return[]}function ue(o,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(oe(s)){const c=o.length||0,d=s.length||0;o.length=c+d;for(let p=0;p<d;p++)o[c+p]=s[p]}else o.push(s)}}function W(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const r=()=>{};ie.addEventListener("test",r,e),ie.removeEventListener("test",r,e)}catch{}return o}();function Re(o){return/^[\s\xa0]*$/.test(o)}function nt(){var o=ie.navigator;return o&&(o=o.userAgent)?o:""}function it(o){return-1!=nt().indexOf(o)}function lt(o){return lt[" "](o),o}lt[" "]=function(){};var rt,o,Vt=it("Opera"),Zt=it("Trident")||it("MSIE"),ot=it("Edge"),Se=ot||Zt,ce=it("Gecko")&&!(-1!=nt().toLowerCase().indexOf("webkit")&&!it("Edge"))&&!(it("Trident")||it("MSIE"))&&!it("Edge"),Me=-1!=nt().toLowerCase().indexOf("webkit")&&!it("Edge");function fe(){var o=ie.document;return o?o.documentMode:void 0}e:{var ut="",$t=(o=nt(),ce?/rv:([^\);]+)(\)|;)/.exec(o):ot?/Edge\/([\d\.]+)/.exec(o):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):Me?/WebKit\/(\S+)/.exec(o):Vt?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if($t&&(ut=$t?$t[1]:""),Zt){var on=fe();if(null!=on&&on>parseFloat(ut)){rt=String(on);break e}}rt=ut}var In=ie.document&&Zt&&(fe()||parseInt(rt,10))||void 0;function Xn(o,e){if(W.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var r=this.type=o.type,s=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(ce){e:{try{lt(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==r?e=o.fromElement:"mouseout"==r&&(e=o.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:kt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Xn.$.h.call(this)}}Qe(Xn,W);var kt={2:"touch",3:"pen",4:"mouse"};Xn.prototype.h=function(){Xn.$.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),mt=0;function Ot(o,e,r,s,c){this.listener=o,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=c,this.key=++mt,this.fa=this.ia=!1}function fn(o){o.fa=!0,o.listener=null,o.proxy=null,o.src=null,o.la=null}function At(o,e,r){for(const s in o)e.call(r,o[s],s,o)}function mn(o){const e={};for(const r in o)e[r]=o[r];return e}const Ln="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hn(o,e){let r,s;for(let c=1;c<arguments.length;c++){for(r in s=arguments[c],s)o[r]=s[r];for(let d=0;d<Ln.length;d++)r=Ln[d],Object.prototype.hasOwnProperty.call(s,r)&&(o[r]=s[r])}}function Mr(o){this.src=o,this.g={},this.h=0}function cr(o,e){var r=e.type;if(r in o.g){var d,s=o.g[r],c=je(s,e);(d=0<=c)&&Array.prototype.splice.call(s,c,1),d&&(fn(e),0==o.g[r].length&&(delete o.g[r],o.h--))}}function Kn(o,e,r,s){for(var c=0;c<o.length;++c){var d=o[c];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return c}return-1}Mr.prototype.add=function(o,e,r,s,c){var d=o.toString();(o=this.g[d])||(o=this.g[d]=[],this.h++);var p=Kn(o,e,s,c);return-1<p?(e=o[p],r||(e.ia=!1)):((e=new Ot(e,this.src,d,!!s,c)).ia=r,o.push(e)),e};var Fn="closure_lm_"+(1e6*Math.random()|0),zr={};function Vn(o,e,r,s,c){if(s&&s.once)return mr(o,e,r,s,c);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Vn(o,e[d],r,s,c);return null}return r=Yr(r),o&&o[Et]?o.O(e,r,Oe(s)?!!s.capture:!!s,c):$r(o,e,r,!1,s,c)}function $r(o,e,r,s,c,d){if(!e)throw Error("Invalid event type");var p=Oe(c)?!!c.capture:!!c,w=wr(o);if(w||(o[Fn]=w=new Mr(o)),(r=w.add(e,r,s,p,d)).proxy)return r;if(s=function Dn(){const e=zt;return function o(r){return e.call(o.src,o.listener,r)}}(),r.proxy=s,s.src=o,s.listener=r,o.addEventListener)ke||(c=p),void 0===c&&(c=!1),o.addEventListener(e.toString(),s,c);else if(o.attachEvent)o.attachEvent(Qr(e.toString()),s);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(s)}return r}function mr(o,e,r,s,c){if(Array.isArray(e)){for(var d=0;d<e.length;d++)mr(o,e[d],r,s,c);return null}return r=Yr(r),o&&o[Et]?o.P(e,r,Oe(s)?!!s.capture:!!s,c):$r(o,e,r,!0,s,c)}function Ai(o,e,r,s,c){if(Array.isArray(e))for(var d=0;d<e.length;d++)Ai(o,e[d],r,s,c);else s=Oe(s)?!!s.capture:!!s,r=Yr(r),o&&o[Et]?(o=o.i,(e=String(e).toString())in o.g&&-1<(r=Kn(d=o.g[e],r,s,c))&&(fn(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete o.g[e],o.h--))):o&&(o=wr(o))&&(e=o.g[e.toString()],o=-1,e&&(o=Kn(e,r,s,c)),(r=-1<o?e[o]:null)&&$n(r))}function $n(o){if("number"!=typeof o&&o&&!o.fa){var e=o.src;if(e&&e[Et])cr(e.i,o);else{var r=o.type,s=o.proxy;e.removeEventListener?e.removeEventListener(r,s,o.capture):e.detachEvent?e.detachEvent(Qr(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=wr(e))?(cr(r,o),0==r.h&&(r.src=null,e[Fn]=null)):fn(o)}}}function Qr(o){return o in zr?zr[o]:zr[o]="on"+o}function zt(o,e){if(o.fa)o=!0;else{e=new Xn(e,this);var r=o.listener,s=o.la||o.src;o.ia&&$n(o),o=r.call(s,e)}return o}function wr(o){return(o=o[Fn])instanceof Mr?o:null}var ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yr(o){return"function"==typeof o?o:(o[ui]||(o[ui]=function(e){return o.handleEvent(e)}),o[ui])}function ur(){xe.call(this),this.i=new Mr(this),this.S=this,this.J=null}function or(o,e){var r,s=o.J;if(s)for(r=[];s;s=s.J)r.push(s);if(o=o.S,s=e.type||e,"string"==typeof e)e=new W(e,o);else if(e instanceof W)e.target=e.target||o;else{var c=e;Hn(e=new W(s,o),c)}if(c=!0,r)for(var d=r.length-1;0<=d;d--){var p=e.g=r[d];c=Nr(p,s,!0,e)&&c}if(c=Nr(p=e.g=o,s,!0,e)&&c,c=Nr(p,s,!1,e)&&c,r)for(d=0;d<r.length;d++)c=Nr(p=e.g=r[d],s,!1,e)&&c}function Nr(o,e,r,s){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.fa&&p.capture==r){var w=p.listener,R=p.la||p.src;p.ia&&cr(o.i,p),c=!1!==w.call(R,s)&&c}}return c&&!s.defaultPrevented}Qe(ur,xe),ur.prototype[Et]=!0,ur.prototype.removeEventListener=function(o,e,r,s){Ai(this,o,e,r,s)},ur.prototype.N=function(){if(ur.$.N.call(this),this.i){var e,o=this.i;for(e in o.g){for(var r=o.g[e],s=0;s<r.length;s++)fn(r[s]);delete o.g[e],o.h--}}this.J=null},ur.prototype.O=function(o,e,r,s){return this.i.add(String(o),e,!1,r,s)},ur.prototype.P=function(o,e,r,s){return this.i.add(String(o),e,!0,r,s)};var kr=ie.JSON.stringify;function Jr(){var o=ee;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var Un=new class Dr{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ir,o=>o.reset());class Ir{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Ne(o){var e=1;o=o.split(":");const r=[];for(;0<e&&o.length;)r.push(o.shift()),e--;return o.length&&r.push(o.join(":")),r}function Y(o){ie.setTimeout(()=>{throw o},0)}let J,Z=!1,ee=new class Cn{constructor(){this.h=this.g=null}add(e,r){const s=Un.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},Je=()=>{const o=ie.Promise.resolve(void 0);J=()=>{o.then(Ft)}};var Ft=()=>{for(var o;o=Jr();){try{o.h.call(o.g)}catch(r){Y(r)}var e=Un;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}Z=!1};function dn(o,e){ur.call(this),this.h=o||1,this.g=e||ie,this.j=Te(this.qb,this),this.l=Date.now()}function Zn(o){o.ga=!1,o.T&&(o.g.clearTimeout(o.T),o.T=null)}function xn(o,e,r){if("function"==typeof o)r&&(o=Te(o,r));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Te(o.handleEvent,o)}return 2147483647<Number(e)?-1:ie.setTimeout(o,e||0)}function yr(o){o.g=xn(()=>{o.g=null,o.i&&(o.i=!1,yr(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}Qe(dn,ur),(ve=dn.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-o):(this.T&&(this.g.clearTimeout(this.T),this.T=null),or(this,"tick"),this.ga&&(Zn(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){dn.$.N.call(this),Zn(this),delete this.g};class Jn extends xe{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(o){xe.call(this),this.h=o,this.g={}}Qe(Cr,xe);var ei=[];function Ar(o,e,r,s){Array.isArray(r)||(r&&(ei[0]=r.toString()),r=ei);for(var c=0;c<r.length;c++){var d=Vn(e,r[c],s||o.handleEvent,!1,o.h||o);if(!d)break;o.g[d.key]=d}}function Hr(o){At(o.g,function(e,r){this.g.hasOwnProperty(r)&&$n(e)},o),o.g={}}function It(){this.g=!0}function Rt(o,e,r,s){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kn(o,e){if(!o.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(o=0;o<r.length;o++)if(Array.isArray(r[o])){var s=r[o];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var d=c[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<c.length;p++)c[p]=""}}}return kr(r)}catch{return e}}(o,r)+(s?" "+s:"")})}Cr.prototype.N=function(){Cr.$.N.call(this),Hr(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},It.prototype.Ea=function(){this.g=!1},It.prototype.info=function(){};var ir={},Pr=null;function Gn(){return Pr=Pr||new ur}function de(o){W.call(this,ir.Ta,o)}function Be(o){const e=Gn();or(e,new de(e))}function Ge(o,e){W.call(this,ir.STAT_EVENT,o),this.stat=e}function ft(o){const e=Gn();or(e,new Ge(e,o))}function jt(o,e){W.call(this,ir.Ua,o),this.size=e}function Kt(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){o()},e)}ir.Ta="serverreachability",Qe(de,W),ir.STAT_EVENT="statevent",Qe(Ge,W),ir.Ua="timingevent",Qe(jt,W);var Gt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rn(){}function se(){}Rn.prototype.h=null;var $e,U={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function me(){W.call(this,"d")}function be(){W.call(this,"c")}function gt(){}function yt(o,e,r,s){this.l=o,this.j=e,this.m=r,this.W=s||1,this.U=new Cr(this),this.P=Mn,this.V=new dn(o=Se?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jt}function Jt(){this.i=null,this.g="",this.h=!1}Qe(me,W),Qe(be,W),Qe(gt,Rn),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},$e=new gt;var Mn=45e3,Wn={},N={};function q(o,e,r){o.L=1,o.A=ti(ae(e)),o.u=r,o.S=!0,Ce(o,null)}function Ce(o,e){o.G=Date.now(),Pt(o),o.B=ae(o.A);var r=o.B,s=o.W;Array.isArray(s)||(s=[String(s)]),Sr(r.i,"t",s),o.o=0,r=o.l.J,o.h=new Jt,o.g=co(o.l,r?e:null,!o.u),0<o.O&&(o.M=new Jn(Te(o.Pa,o,o.g),o.O)),Ar(o.U,o.g,"readystatechange",o.nb),e=o.I?mn(o.I):{},o.u?(o.v||(o.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.ha(o.B,o.v,o.u,e)):(o.v="GET",o.g.ha(o.B,o.v,null,e)),Be(),function pt(o,e,r,s,c,d){o.info(function(){if(o.g)if(d)for(var p="",w=d.split("&"),R=0;R<w.length;R++){var L=w[R].split("=");if(1<L.length){var X=L[0];L=L[1];var De=X.split("_");p=2<=De.length&&"type"==De[1]?p+(X+"=")+L+"&":p+(X+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+r+"\n"+p})}(o.j,o.v,o.B,o.m,o.W,o.u)}function Ye(o){return!!o.g&&"GET"==o.v&&2!=o.L&&o.l.Ha}function dt(o,e,r){let c,s=!0;for(;!o.J&&o.o<r.length;){if(c=_t(o,r),c==N){4==e&&(o.s=4,ft(14),s=!1),Rt(o.j,o.m,null,"[Incomplete Response]");break}if(c==Wn){o.s=4,ft(15),Rt(o.j,o.m,r,"[Invalid Chunk]"),s=!1;break}Rt(o.j,o.m,c,null),yn(o,c)}Ye(o)&&0!=o.o&&(o.h.g=o.h.g.slice(o.o),o.o=0),4!=e||0!=r.length||o.h.h||(o.s=1,ft(16),s=!1),o.i=o.i&&s,s?0<r.length&&!o.ba&&(o.ba=!0,(e=o.l).g==o&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Fi(e),e.M=!0,ft(11))):(Rt(o.j,o.m,r,"[Invalid Chunked Response]"),cn(o),Yt(o))}function _t(o,e){var r=o.o,s=e.indexOf("\n",r);return-1==s?N:(r=Number(e.substring(r,s)),isNaN(r)?Wn:(s+=1)+r>e.length?N:(e=e.slice(s,s+r),o.o=s+r,e))}function Pt(o){o.Y=Date.now()+o.P,tn(o,o.P)}function tn(o,e){if(null!=o.C)throw Error("WatchDog timer not null");o.C=Kt(Te(o.lb,o),e)}function Xt(o){o.C&&(ie.clearTimeout(o.C),o.C=null)}function Yt(o){0==o.l.H||o.J||Ps(o.l,o)}function cn(o){Xt(o);var e=o.M;e&&"function"==typeof e.sa&&e.sa(),o.M=null,Zn(o.V),Hr(o.U),o.g&&(e=o.g,o.g=null,e.abort(),e.sa())}function yn(o,e){try{var r=o.l;if(0!=r.H&&(r.g==o||qo(r.i,o)))if(!o.K&&qo(r.i,o)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<o.G))break e;Xi(r),ln(r)}ii(r),ft(18)}}else r.Fa=c[1],0<r.Fa-r.V&&37500>c[2]&&r.G&&0==r.A&&!r.v&&(r.v=Kt(Te(r.ib,r),6e3));if(1>=ea(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else ni(r,11)}else if((o.K||r.g==o)&&Xi(r),!Re(e))for(c=r.Ja.g.parse(e),e=0;e<c.length;e++){let L=c[e];if(r.V=L[0],L=L[1],2==r.H)if("c"==L[0]){r.K=L[1],r.pa=L[2];const X=L[3];null!=X&&(r.ra=X,r.l.info("VER="+r.ra));const De=L[4];null!=De&&(r.Ga=De,r.l.info("SVER="+r.Ga));const et=L[5];null!=et&&"number"==typeof et&&0<et&&(r.L=s=1.5*et,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const Dt=o.g;if(Dt){const hn=Dt.g?Dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hn){var d=s.i;d.g||-1==hn.indexOf("spdy")&&-1==hn.indexOf("quic")&&-1==hn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Us(d,d.h),d.h=null))}if(s.F){const Sn=Dt.g?Dt.g.getResponseHeader("X-HTTP-Session-Id"):null;Sn&&(s.Da=Sn,Er(s.I,s.F,Sn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-o.G,r.l.info("Handshake RTT: "+r.S+"ms"));var p=o;if((s=r).wa=qi(s,s.J?s.pa:null,s.Y),p.K){ps(s.i,p);var w=p,R=s.L;R&&w.setTimeout(R),w.C&&(Xt(w),Pt(w)),s.g=p}else gn(s);0<r.j.length&&$(r)}else"stop"!=L[0]&&"close"!=L[0]||ni(r,7);else 3==r.H&&("stop"==L[0]||"close"==L[0]?"stop"==L[0]?ni(r,7):fr(r):"noop"!=L[0]&&r.h&&r.h.Aa(L),r.A=0)}Be()}catch{}}function Ur(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(oe(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var r=function vr(o){if(o.ta&&"function"==typeof o.ta)return o.ta();if(!o.Z||"function"!=typeof o.Z){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(oe(o)||"string"==typeof o){var e=[];o=o.length;for(var r=0;r<o;r++)e.push(r);return e}e=[],r=0;for(const s in o)e[r++]=s;return e}}}(o),s=function bn(o){if(o.Z&&"function"==typeof o.Z)return o.Z();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(oe(o)){for(var e=[],r=o.length,s=0;s<r;s++)e.push(o[s]);return e}for(s in e=[],r=0,o)e[r++]=o[s];return e}(o),c=s.length,d=0;d<c;d++)e.call(void 0,s[d],r&&r[d],o)}(ve=yt.prototype).setTimeout=function(o){this.P=o},ve.nb=function(o){o=o.target;const e=this.M;e&&3==Hi(o)?e.l():this.Pa(o)},ve.Pa=function(o){try{if(o==this.g)e:{const X=Hi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||Se||this.g&&(this.h.h||this.g.ja()||Ei(this.g)))){this.J||4!=X||7==e||Be(),Xt(this);var r=this.g.da();this.ca=r;t:if(Ye(this)){var s=Ei(this.g);o="";var c=s.length,d=4==Hi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),Yt(this);var p="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,o+=this.h.i.decode(s[e],{stream:d&&e==c-1});s.length=0,this.h.g+=o,this.o=0,p=this.h.g}else p=this.g.ja();if(this.i=200==r,function Nt(o,e,r,s,c,d,p){o.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+r+"\n"+d+" "+p})}(this.j,this.v,this.B,this.m,this.W,X,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,R=this.g;if((w=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Re(w)){var L=w;break t}}L=null}if(!(r=L)){this.i=!1,this.s=3,ft(12),cn(this),Yt(this);break e}Rt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,r)}this.S?(dt(this,X,p),Se&&this.i&&3==X&&(Ar(this.U,this.V,"tick",this.mb),this.V.start())):(Rt(this.j,this.m,p,null),yn(this,p)),4==X&&cn(this),this.i&&!this.J&&(4==X?Ps(this.l,this):(this.i=!1,Pt(this)))}else(function _s(o){const e={};o=(o.g&&2<=Hi(o)&&o.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<o.length;s++){if(Re(o[s]))continue;var r=Ne(o[s]);const c=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[c]||[];e[c]=d,d.push(r)}!function Bn(o,e){for(const r in o)e.call(void 0,o[r],r,o)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<p.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),cn(this),Yt(this)}}}catch{}},ve.mb=function(){if(this.g){var o=Hi(this.g),e=this.g.ja();this.o<e.length&&(Xt(this),dt(this,o,e),this.i&&4!=o&&Pt(this))}},ve.cancel=function(){this.J=!0,cn(this)},ve.lb=function(){this.C=null;const o=Date.now();0<=o-this.Y?(function Qn(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Be(),ft(17)),cn(this),this.s=2,Yt(this)):tn(this,this.Y-o)};var I=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function S(o){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof S){this.h=o.h,Xe(this,o.j),this.s=o.s,this.g=o.g,er(this,o.m),this.l=o.l;var e=o.i,r=new eo;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),li(this,r),this.o=o.o}else o&&(e=String(o).match(I))?(this.h=!1,Xe(this,e[1]||"",!0),this.s=ji(e[2]||""),this.g=ji(e[3]||"",!0),er(this,e[4]),this.l=ji(e[5]||"",!0),li(this,e[6]||"",!0),this.o=ji(e[7]||"")):(this.h=!1,this.i=new eo(null,this.h))}function ae(o){return new S(o)}function Xe(o,e,r){o.j=r?ji(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function er(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function li(o,e,r){e instanceof eo?(o.i=e,function zi(o,e){e&&!o.j&&(so(o),o.i=null,o.g.forEach(function(r,s){var c=s.toLowerCase();s!=c&&(to(this,s),Sr(this,c,r))},o)),o.j=e}(o.i,o.h)):(r||(e=_r(e,Cs)),o.i=new eo(e,o.h))}function Er(o,e,r){o.i.set(e,r)}function ti(o){return Er(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function ji(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function _r(o,e,r){return"string"==typeof o?(o=encodeURI(o).replace(e,So),r&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function So(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}S.prototype.toString=function(){var o=[],e=this.j;e&&o.push(_r(e,mo,!0),":");var r=this.g;return(r||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(_r(e,mo,!0),"@"),o.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&o.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&o.push("/"),o.push(_r(r,"/"==r.charAt(0)?Wo:Bo,!0))),(r=this.i.toString())&&o.push("?",r),(r=this.o)&&o.push("#",_r(r,$o)),o.join("")};var mo=/[#\/\?@]/g,Bo=/[#\?:]/g,Wo=/[#\?]/g,Cs=/[#\?@]/g,$o=/#/g;function eo(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function so(o){o.g||(o.g=new Map,o.h=0,o.i&&function te(o,e){if(o){o=o.split("&");for(var r=0;r<o.length;r++){var s=o[r].indexOf("="),c=null;if(0<=s){var d=o[r].substring(0,s);c=o[r].substring(s+1)}else d=o[r];e(d,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(o.i,function(e,r){o.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function to(o,e){so(o),e=ao(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function mi(o,e){return so(o),e=ao(o,e),o.g.has(e)}function Sr(o,e,r){to(o,e),0<r.length&&(o.i=null,o.g.set(ao(o,e),Ie(r)),o.h+=r.length)}function ao(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}(ve=eo.prototype).add=function(o,e){so(this),this.i=null,o=ao(this,o);var r=this.g.get(o);return r||this.g.set(o,r=[]),r.push(e),this.h+=1,this},ve.forEach=function(o,e){so(this),this.g.forEach(function(r,s){r.forEach(function(c){o.call(e,c,s,this)},this)},this)},ve.ta=function(){so(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const c=o[s];for(let d=0;d<c.length;d++)r.push(e[s])}return r},ve.Z=function(o){so(this);let e=[];if("string"==typeof o)mi(this,o)&&(e=e.concat(this.g.get(ao(this,o))));else{o=Array.from(this.g.values());for(let r=0;r<o.length;r++)e=e.concat(o[r])}return e},ve.set=function(o,e){return so(this),this.i=null,mi(this,o=ao(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},ve.get=function(o,e){return o&&0<(o=this.Z(o)).length?String(o[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var c=d;""!==p[s]&&(c+="="+encodeURIComponent(String(p[s]))),o.push(c)}}return this.i=o.join("&")};var Js=class{constructor(o,e){this.g=o,this.map=e}};function ws(o){this.l=o||$s,o=ie.PerformanceNavigationTiming?0<(o=ie.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().dc),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $s=10;function Uo(o){return!!o.h||!!o.g&&o.g.size>=o.j}function ea(o){return o.h?1:o.g?o.g.size:0}function qo(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function Us(o,e){o.g?o.g.add(e):o.h=e}function ps(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function gs(o){if(null!=o.h)return o.i.concat(o.h.F);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const r of o.g.values())e=e.concat(r.F);return e}return Ie(o.i)}ws.prototype.cancel=function(){if(this.i=gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}};var Zi=class{stringify(o){return ie.JSON.stringify(o,void 0)}parse(o){return ie.JSON.parse(o,void 0)}};function Io(){this.g=new Zi}function bs(o,e,r){const s=r||"";try{Ur(o,function(c,d){let p=c;Oe(c)&&(p=kr(c)),e.push(s+d+"="+encodeURIComponent(p))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function Yo(o,e,r,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function rs(o){this.l=o.ec||null,this.j=o.ob||!1}function lo(o,e){ur.call(this),this.F=o,this.u=e,this.m=void 0,this.readyState=no,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qe(rs,Rn),rs.prototype.g=function(){return new lo(this.l,this.j)},rs.prototype.i=function(o){return function(){return o}}({}),Qe(lo,ur);var no=0;function To(o){o.j.read().then(o.Xa.bind(o)).catch(o.ka.bind(o))}function ro(o){o.readyState=4,o.l=null,o.j=null,o.A=null,is(o)}function is(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(ve=lo.prototype).open=function(o,e){if(this.readyState!=no)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,is(this)},ve.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ro(this)),this.readyState=no},ve.$a=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;To(this)}else o.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?ro(this):is(this),3==this.readyState&&To(this)}},ve.Za=function(o){this.g&&(this.response=this.responseText=o,ro(this))},ve.Ya=function(o){this.g&&(this.response=o,ro(this))},ve.ka=function(){this.g&&ro(this)},ve.setRequestHeader=function(o,e){this.v.append(o,e)},ve.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var r=e.next();!r.done;)o.push((r=r.value)[0]+": "+r[1]),r=e.next();return o.join("\r\n")},Object.defineProperty(lo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var As=ie.JSON.parse;function vi(o){ur.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ms,this.L=this.M=!1}Qe(vi,ur);var ms="",ta=/^https?$/i,os=["POST","PUT"];function Aa(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,na(o),si(o)}function na(o){o.F||(o.F=!0,or(o,"complete"),or(o,"error"))}function nr(o){if(o.h&&typeof Ke<"u"&&(!o.C[1]||4!=Hi(o)||2!=o.da()))if(o.v&&4==Hi(o))xn(o.La,0,o);else if(or(o,"readystatechange"),4==Hi(o)){o.h=!1;try{const p=o.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===p){var c=String(o.I).match(I)[1]||null;!c&&ie.self&&ie.self.location&&(c=ie.self.location.protocol.slice(0,-1)),s=!ta.test(c?c.toLowerCase():"")}r=s}if(r)or(o,"complete"),or(o,"success");else{o.m=6;try{var d=2<Hi(o)?o.g.statusText:""}catch{d=""}o.j=d+" ["+o.da()+"]",na(o)}}finally{si(o)}}}function si(o,e){if(o.g){$i(o);const r=o.g,s=o.C[0]?()=>{}:null;o.g=null,o.C=null,e||or(o,"ready");try{r.onreadystatechange=s}catch{}}}function $i(o){o.g&&o.L&&(o.g.ontimeout=null),o.A&&(ie.clearTimeout(o.A),o.A=null)}function Hi(o){return o.g?o.g.readyState:0}function Ei(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.K){case ms:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function ra(o){let e="";return At(o,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function Ss(o,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=ra(r),"string"==typeof o?null!=r&&encodeURIComponent(String(r)):Er(o,e,r))}function Rs(o,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[o]||e}function Ms(o){this.Ga=0,this.j=[],this.l=new It,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Rs("failFast",!1,o),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Rs("baseRetryDelayMs",5e3,o),this.hb=Rs("retryDelaySeedMs",1e4,o),this.eb=Rs("forwardChannelMaxRetries",2,o),this.xa=Rs("forwardChannelRequestTimeoutMs",2e4,o),this.va=o&&o.xmlHttpFactory||void 0,this.Ha=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.i=new ws(o&&o.concurrentRequestLimit),this.Ja=new Io,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=o&&o.bc||!1,o&&o.Ea&&this.l.Ea(),o&&o.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&o&&o.detectBufferingProxy||!1,this.qa=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.qa=o.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fr(o){if(F(o),3==o.H){var e=o.W++,r=ae(o.I);if(Er(r,"SID",o.K),Er(r,"RID",e),Er(r,"TYPE","terminate"),qe(o,r),(e=new yt(o,o.l,e)).L=2,e.A=ti(ae(r)),r=!1,ie.navigator&&ie.navigator.sendBeacon)try{r=ie.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&ie.Image&&((new Image).src=e.A,r=!0),r||(e.g=co(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Pt(e)}Do(o)}function ln(o){o.g&&(Fi(o),o.g.cancel(),o.g=null)}function F(o){ln(o),o.u&&(ie.clearTimeout(o.u),o.u=null),Xi(o),o.i.cancel(),o.m&&("number"==typeof o.m&&ie.clearTimeout(o.m),o.m=null)}function $(o){if(!Uo(o.i)&&!o.m){o.m=!0;var e=o.Na;J||Je(),Z||(J(),Z=!0),ee.add(e,o),o.C=0}}function ne(o,e){var r;r=e?e.m:o.W++;const s=ae(o.I);Er(s,"SID",o.K),Er(s,"RID",r),Er(s,"AID",o.V),qe(o,s),o.o&&o.s&&Ss(s,o.o,o.s),r=new yt(o,o.l,r,o.C+1),null===o.o&&(r.I=o.s),e&&(o.j=e.F.concat(o.j)),e=On(o,r,1e3),r.setTimeout(Math.round(.5*o.xa)+Math.round(.5*o.xa*Math.random())),Us(o.i,r),q(r,s,e)}function qe(o,e){o.na&&At(o.na,function(r,s){Er(e,s,r)}),o.h&&Ur({},function(r,s){Er(e,s,r)})}function On(o,e,r){r=Math.min(o.j.length,r);var s=o.h?Te(o.h.Va,o.h,o):null;e:{var c=o.j;let d=-1;for(;;){const p=["count="+r];-1==d?0<r?(d=c[0].g,p.push("ofs="+d)):d=0:p.push("ofs="+d);let w=!0;for(let R=0;R<r;R++){let L=c[R].g;const X=c[R].map;if(L-=d,0>L)d=Math.max(0,c[R].g-100),w=!1;else try{bs(X,p,"req"+L+"_")}catch{s&&s(X)}}if(w){s=p.join("&");break e}}}return o=o.j.splice(0,r),e.F=o,s}function gn(o){if(!o.g&&!o.u){o.ba=1;var e=o.Ma;J||Je(),Z||(J(),Z=!0),ee.add(e,o),o.A=0}}function ii(o){return!(o.g||o.u||3<=o.A||(o.ba++,o.u=Kt(Te(o.Ma,o),Ro(o,o.A)),o.A++,0))}function Fi(o){null!=o.B&&(ie.clearTimeout(o.B),o.B=null)}function ar(o){o.g=new yt(o,o.l,"rpc",o.ba),null===o.o&&(o.g.I=o.s),o.g.O=0;var e=ae(o.wa);Er(e,"RID","rpc"),Er(e,"SID",o.K),Er(e,"AID",o.V),Er(e,"CI",o.G?"0":"1"),!o.G&&o.qa&&Er(e,"TO",o.qa),Er(e,"TYPE","xmlhttp"),qe(o,e),o.o&&o.s&&Ss(e,o.o,o.s),o.L&&o.g.setTimeout(o.L);var r=o.g;o=o.pa,r.L=1,r.A=ti(ae(e)),r.u=null,r.S=!0,Ce(r,o)}function Xi(o){null!=o.v&&(ie.clearTimeout(o.v),o.v=null)}function Ps(o,e){var r=null;if(o.g==e){Xi(o),Fi(o),o.g=null;var s=2}else{if(!qo(o.i,e))return;r=e.F,ps(o.i,e),s=1}if(0!=o.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var c=o.C;or(s=Gn(),new jt(s,r)),$(o)}else gn(o);else if(3==(c=e.s)||0==c&&0<e.ca||!(1==s&&function x(o,e){return!(ea(o.i)>=o.i.j-(o.m?1:0)||(o.m?(o.j=e.F.concat(o.j),0):1==o.H||2==o.H||o.C>=(o.cb?0:o.eb)||(o.m=Kt(Te(o.Na,o,e),Ro(o,o.C)),o.C++,0)))}(o,e)||2==s&&ii(o)))switch(r&&0<r.length&&(e=o.i,e.i=e.i.concat(r)),c){case 1:ni(o,5);break;case 4:ni(o,10);break;case 3:ni(o,6);break;default:ni(o,2)}}function Ro(o,e){let r=o.ab+Math.floor(Math.random()*o.hb);return o.isActive()||(r*=2),r*e}function ni(o,e){if(o.l.info("Error code "+e),2==e){var r=null;o.h&&(r=null);var s=Te(o.pb,o);r||(r=new S("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||Xe(r,"https"),ti(r)),function js(o,e){const r=new It;if(ie.Image){const s=new Image;s.onload=Ue(Yo,r,s,"TestLoadImage: loaded",!0,e),s.onerror=Ue(Yo,r,s,"TestLoadImage: error",!1,e),s.onabort=Ue(Yo,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ue(Yo,r,s,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=o}else e(!1)}(r.toString(),s)}else ft(2);o.H=0,o.h&&o.h.za(e),Do(o),F(o)}function Do(o){if(o.H=0,o.ma=[],o.h){const e=gs(o.i);(0!=e.length||0!=o.j.length)&&(ue(o.ma,e),ue(o.ma,o.j),o.i.i.length=0,Ie(o.j),o.j.length=0),o.h.ya()}}function qi(o,e,r){var s=r instanceof S?ae(r):new S(r);if(""!=s.g)e&&(s.g=e+"."+s.g),er(s,s.m);else{var c=ie.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var d=new S(null);s&&Xe(d,s),e&&(d.g=e),c&&er(d,c),r&&(d.l=r),s=d}return e=o.Da,(r=o.F)&&e&&Er(s,r,e),Er(s,"VER",o.ra),qe(o,s),s}function co(o,e,r){if(e&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vi(o.Ha&&!o.va?new rs({ob:r}):o.va)).Oa(o.J),e}function Mo(){}function uo(){if(Zt&&!(10<=Number(In)))throw Error("Environmental error: no available transport.")}function Li(o,e){ur.call(this),this.g=new Ms(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(o?o["X-WebChannel-Client-Profile"]=e.Ca:o={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=o,(o=e&&e.cc)&&!Re(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Re(e)&&(this.g.F=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new lr(this)}function xs(o){me.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var e=o.__sm__;if(e){e:{for(const r in e){o=r;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function ss(){be.call(this),this.status=1}function lr(o){this.g=o}function j(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function we(o,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)s[c]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(c=0;16>c;++c)s[c]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=o.g[3],p=(e=o.g[0])+(d^(r=o.g[1])&((c=o.g[2])^d))+s[0]+3614090360&4294967295;p=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=r+(p<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^d&(r^c))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(r^c^d)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(c^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(c^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(c^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((d=(e=r+((p=e+(c^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((c=d+((p=c+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,o.g[0]=o.g[0]+e&4294967295,o.g[1]=o.g[1]+(c+(p<<21&4294967295|p>>>11))&4294967295,o.g[2]=o.g[2]+c&4294967295,o.g[3]=o.g[3]+d&4294967295}function Ae(o,e){this.h=e;for(var r=[],s=!0,c=o.length-1;0<=c;c--){var d=0|o[c];s&&d==e||(r[c]=d,s=!1)}this.g=r}(ve=vi.prototype).Oa=function(o){this.M=o},ve.ha=function(o,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+o);e=e?e.toUpperCase():"GET",this.I=o,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$e.g(),this.C=function pe(o){return o.h||(o.h=o.i())}(this.u?this.u:$e),this.g.onreadystatechange=Te(this.La,this);try{this.G=!0,this.g.open(e,String(o),!0),this.G=!1}catch(d){return void Aa(this,d)}if(o=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)r.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),c=ie.FormData&&o instanceof ie.FormData,!(0<=je(os,e))||s||c||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of r)this.g.setRequestHeader(d,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$i(this),0<this.B&&((this.L=function ys(o){return Zt&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Te(this.ua,this)):this.A=xn(this.ua,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(d){Aa(this,d)}},ve.ua=function(){typeof Ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,or(this,"timeout"),this.abort(8))},ve.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,or(this,"complete"),or(this,"abort"),si(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),si(this,!0)),vi.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?nr(this):this.kb())},ve.kb=function(){nr(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<Hi(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),As(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=Ms.prototype).ra=8,ve.H=1,ve.Na=function(o){if(this.m)if(this.m=null,1==this.H){if(!o){this.W=Math.floor(1e5*Math.random()),o=this.W++;const c=new yt(this,this.l,o);let d=this.s;if(this.U&&(d?(d=mn(d),Hn(d,this.U)):d=this.U),null!==this.o||this.O||(c.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=On(this,c,e),Er(r=ae(this.I),"RID",o),Er(r,"CVER",22),this.F&&Er(r,"X-HTTP-Session-Id",this.F),qe(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(ra(d)))+"&"+e:this.o&&Ss(r,this.o,d)),Us(this.i,c),this.bb&&Er(r,"TYPE","init"),this.P?(Er(r,"$req",e),Er(r,"SID","null"),c.aa=!0,q(c,r,null)):q(c,r,e),this.H=2}}else 3==this.H&&(o?ne(this,o):0==this.j.length||Uo(this.i)||ne(this))},ve.Ma=function(){if(this.u=null,ar(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var o=2*this.S;this.l.info("BP detection timer enabled: "+o),this.B=Kt(Te(this.jb,this),o)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ft(10),ln(this),ar(this))},ve.ib=function(){null!=this.v&&(this.v=null,ln(this),ii(this),ft(19))},ve.pb=function(o){o?(this.l.info("Successfully pinged google.com"),ft(2)):(this.l.info("Failed to ping google.com"),ft(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=Mo.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},uo.prototype.g=function(o,e){return new Li(o,e)},Qe(Li,ur),Li.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var o=this.g,e=this.l,r=this.h||void 0;ft(0),o.Y=e,o.na=r||{},o.G=o.aa,o.I=qi(o,null,o.Y),$(o)},Li.prototype.close=function(){fr(this.g)},Li.prototype.u=function(o){var e=this.g;if("string"==typeof o){var r={};r.__data__=o,o=r}else this.v&&((r={}).__data__=kr(o),o=r);e.j.push(new Js(e.fb++,o)),3==e.H&&$(e)},Li.prototype.N=function(){this.g.h=null,delete this.j,fr(this.g),delete this.g,Li.$.N.call(this)},Qe(xs,me),Qe(ss,be),Qe(lr,Mo),lr.prototype.Ba=function(){or(this.g,"a")},lr.prototype.Aa=function(o){or(this.g,new xs(o))},lr.prototype.za=function(o){or(this.g,new ss)},lr.prototype.ya=function(){or(this.g,"b")},Qe(j,function V(){this.blockSize=-1}),j.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},j.prototype.j=function(o,e){void 0===e&&(e=o.length);for(var r=e-this.blockSize,s=this.m,c=this.h,d=0;d<e;){if(0==c)for(;d<=r;)we(this,o,d),d+=this.blockSize;if("string"==typeof o){for(;d<e;)if(s[c++]=o.charCodeAt(d++),c==this.blockSize){we(this,s),c=0;break}}else for(;d<e;)if(s[c++]=o[d++],c==this.blockSize){we(this,s),c=0;break}}this.h=c,this.i+=e},j.prototype.l=function(){var o=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);o[0]=128;for(var e=1;e<o.length-8;++e)o[e]=0;var r=8*this.i;for(e=o.length-8;e<o.length;++e)o[e]=255&r,r/=256;for(this.j(o),o=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)o[r++]=this.g[e]>>>s&255;return o};var ht={};function Ct(o){return-128<=o&&128>o?function Ut(o,e){var r=ht;return Object.prototype.hasOwnProperty.call(r,o)?r[o]:r[o]=e(o)}(o,function(e){return new Ae([0|e],0>e?-1:0)}):new Ae([0|o],0>o?-1:0)}function un(o){if(isNaN(o)||!isFinite(o))return sr;if(0>o)return Gr(un(-o));for(var e=[],r=1,s=0;o>=r;s++)e[s]=o/r|0,r*=_n;return new Ae(e,0)}var _n=4294967296,sr=Ct(0),br=Ct(1),Ii=Ct(16777216);function Rr(o){if(0!=o.h)return!1;for(var e=0;e<o.g.length;e++)if(0!=o.g[e])return!1;return!0}function oi(o){return-1==o.h}function Gr(o){for(var e=o.g.length,r=[],s=0;s<e;s++)r[s]=~o.g[s];return new Ae(r,~o.h).add(br)}function Qi(o,e){return o.add(Gr(e))}function yi(o,e){for(;(65535&o[e])!=o[e];)o[e+1]+=o[e]>>>16,o[e]&=65535,e++}function io(o,e){this.g=o,this.h=e}function Co(o,e){if(Rr(e))throw Error("division by zero");if(Rr(o))return new io(sr,sr);if(oi(o))return e=Co(Gr(o),e),new io(Gr(e.g),Gr(e.h));if(oi(e))return e=Co(o,Gr(e)),new io(Gr(e.g),e.h);if(30<o.g.length){if(oi(o)||oi(e))throw Error("slowDivide_ only works with positive integers.");for(var r=br,s=e;0>=s.X(o);)r=Ui(r),s=Ui(s);var c=_i(r,1),d=_i(s,1);for(s=_i(s,2),r=_i(r,2);!Rr(s);){var p=d.add(s);0>=p.X(o)&&(c=c.add(r),d=p),s=_i(s,1),r=_i(r,1)}return e=Qi(o,c.R(e)),new io(c,e)}for(c=sr;0<=o.X(e);){for(r=Math.max(1,Math.floor(o.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),p=(d=un(r)).R(e);oi(p)||0<p.X(o);)p=(d=un(r-=s)).R(e);Rr(d)&&(d=br),c=c.add(d),o=Qi(o,p)}return new io(c,o)}function Ui(o){for(var e=o.g.length+1,r=[],s=0;s<e;s++)r[s]=o.D(s)<<1|o.D(s-1)>>>31;return new Ae(r,o.h)}function _i(o,e){var r=e>>5;e%=32;for(var s=o.g.length-r,c=[],d=0;d<s;d++)c[d]=0<e?o.D(d+r)>>>e|o.D(d+r+1)<<32-e:o.D(d+r);return new Ae(c,o.h)}(ve=Ae.prototype).ea=function(){if(oi(this))return-Gr(this).ea();for(var o=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);o+=(0<=s?s:_n+s)*e,e*=_n}return o},ve.toString=function(o){if(2>(o=o||10)||36<o)throw Error("radix out of range: "+o);if(Rr(this))return"0";if(oi(this))return"-"+Gr(this).toString(o);for(var e=un(Math.pow(o,6)),r=this,s="";;){var c=Co(r,e).g,d=((0<(r=Qi(r,c.R(e))).g.length?r.g[0]:r.h)>>>0).toString(o);if(Rr(r=c))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},ve.D=function(o){return 0>o?0:o<this.g.length?this.g[o]:this.h},ve.X=function(o){return oi(o=Qi(this,o))?-1:Rr(o)?0:1},ve.abs=function(){return oi(this)?Gr(this):this},ve.add=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0,c=0;c<=e;c++){var d=s+(65535&this.D(c))+(65535&o.D(c)),p=(d>>>16)+(this.D(c)>>>16)+(o.D(c)>>>16);s=p>>>16,r[c]=(p&=65535)<<16|(d&=65535)}return new Ae(r,-2147483648&r[r.length-1]?-1:0)},ve.R=function(o){if(Rr(this)||Rr(o))return sr;if(oi(this))return oi(o)?Gr(this).R(Gr(o)):Gr(Gr(this).R(o));if(oi(o))return Gr(this.R(Gr(o)));if(0>this.X(Ii)&&0>o.X(Ii))return un(this.ea()*o.ea());for(var e=this.g.length+o.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<o.g.length;c++){var d=this.D(s)>>>16,p=65535&this.D(s),w=o.D(c)>>>16,R=65535&o.D(c);r[2*s+2*c]+=p*R,yi(r,2*s+2*c),r[2*s+2*c+1]+=d*R,yi(r,2*s+2*c+1),r[2*s+2*c+1]+=p*w,yi(r,2*s+2*c+1),r[2*s+2*c+2]+=d*w,yi(r,2*s+2*c+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new Ae(r,0)},ve.gb=function(o){return Co(this,o).h},ve.and=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&o.D(s);return new Ae(r,this.h&o.h)},ve.or=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|o.D(s);return new Ae(r,this.h|o.h)},ve.xor=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^o.D(s);return new Ae(r,this.h^o.h)},uo.prototype.createWebChannel=uo.prototype.g,Li.prototype.send=Li.prototype.u,Li.prototype.open=Li.prototype.m,Li.prototype.close=Li.prototype.close,Gt.NO_ERROR=0,Gt.TIMEOUT=8,Gt.HTTP_ERROR=6,Qt.COMPLETE="complete",se.EventType=U,U.OPEN="a",U.CLOSE="b",U.ERROR="c",U.MESSAGE="d",ur.prototype.listen=ur.prototype.O,vi.prototype.listenOnce=vi.prototype.P,vi.prototype.getLastError=vi.prototype.Sa,vi.prototype.getLastErrorCode=vi.prototype.Ia,vi.prototype.getStatus=vi.prototype.da,vi.prototype.getResponseJson=vi.prototype.Wa,vi.prototype.getResponseText=vi.prototype.ja,vi.prototype.send=vi.prototype.ha,vi.prototype.setWithCredentials=vi.prototype.Oa,j.prototype.digest=j.prototype.l,j.prototype.reset=j.prototype.reset,j.prototype.update=j.prototype.j,Ae.prototype.add=Ae.prototype.add,Ae.prototype.multiply=Ae.prototype.R,Ae.prototype.modulo=Ae.prototype.gb,Ae.prototype.compare=Ae.prototype.X,Ae.prototype.toNumber=Ae.prototype.ea,Ae.prototype.toString=Ae.prototype.toString,Ae.prototype.getBits=Ae.prototype.D,Ae.fromNumber=un,Ae.fromString=function wn(o,e){if(0==o.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==o.charAt(0))return Gr(wn(o.substring(1),e));if(0<=o.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=un(Math.pow(e,8)),s=sr,c=0;c<o.length;c+=8){var d=Math.min(8,o.length-c),p=parseInt(o.substring(c,c+d),e);8>d?(d=un(Math.pow(e,d)),s=s.R(d).add(un(p))):s=(s=s.R(r)).add(un(p))}return s};var Os=ye.createWebChannelTransport=function(){return new uo},C=ye.getStatEventTarget=function(){return Gn()},K=ye.ErrorCode=Gt,O=ye.EventType=Qt,z=ye.Event=ir,Le=ye.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wt=(ye.FetchXmlHttpFactory=rs,ye.WebChannel=se),jn=ye.XhrIo=vi,Ti=ye.Md5=j,Fr=ye.Integer=Ae;const Kr="@firebase/firestore";class Yn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");let fi="10.7.2";const Zr=new le.Yd("@firebase/firestore");function xi(){return Zr.logLevel}function vs(o){Zr.setLogLevel(o)}function Ht(o,...e){if(Zr.logLevel<=le.in.DEBUG){const r=e.map(as);Zr.debug(`Firestore (${fi}): ${o}`,...r)}}function pi(o,...e){if(Zr.logLevel<=le.in.ERROR){const r=e.map(as);Zr.error(`Firestore (${fi}): ${o}`,...r)}}function Vi(o,...e){if(Zr.logLevel<=le.in.WARN){const r=e.map(as);Zr.warn(`Firestore (${fi}): ${o}`,...r)}}function as(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function An(o="Unexpected state"){const e=`FIRESTORE (${fi}) INTERNAL ASSERTION FAILED: `+o;throw pi(e),new Error(e)}function Nn(o,e){o||An()}function za(o,e){o||An()}function vn(o,e){return o}const Mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rn extends Ee.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class ru{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ko{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Yn.UNAUTHENTICATED))}shutdown(){}}class iu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ll{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let c=this.i;const d=L=>this.i!==c?(c=this.i,r(L)):Promise.resolve();let p=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Yi,e.enqueueRetryable(()=>d(this.currentUser))};const w=()=>{const L=p;e.enqueueRetryable((0,l.Z)(function*(){yield L.promise,yield d(s.currentUser)}))},R=L=>{Ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=L,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(L=>R(L)),setTimeout(()=>{if(!this.auth){const L=this.t.getImmediate({optional:!0});L?R(L):(Ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Yi)}},0),w()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Nn("string"==typeof s.accessToken),new ru(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nn(null===e||"string"==typeof e),new Yn(e)}}class ia{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ic{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new ia(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ls{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Si{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&Ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.R;return this.R=d.token,Ht("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const c=d=>{Ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>c(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?c(d):Ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Nn("string"==typeof r.token),this.R=r.token,new ls(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Sa(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<o;s++)r[s]=Math.floor(256*Math.random());return r}class wo{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const c=Sa(40);for(let d=0;d<c.length;++d)s.length<20&&c[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[d]%62))}return s}}function Tr(o,e){return o<e?-1:o>e?1:0}function Zo(o,e,r){return o.length===e.length&&o.every((s,c)=>r(s,e[c]))}function zs(o){return o+"\0"}class ri{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new rn(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new rn(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new rn(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rn(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ri.fromMillis(Date.now())}static fromDate(e){return ri.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new ri(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tr(this.nanoseconds,e.nanoseconds):Tr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class tr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new tr(e)}static min(){return new tr(new ri(0,0))}static max(){return new tr(new ri(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ns{constructor(e,r,s){void 0===r?r=0:r>e.length&&An(),void 0===s?s=e.length-r:s>e.length-r&&An(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Ns.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let c=0;c<s;c++){const d=e.get(c),p=r.get(c);if(d<p)return-1;if(d>p)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Wr extends Ns{construct(e,r,s){return new Wr(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new rn(Mt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(c=>c.length>0))}return new Wr(r)}static emptyPath(){return new Wr([])}}const Hs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends Ns{construct(e,r,s){return new Di(e,r,s)}static isValidIdentifier(e){return Hs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(e){const r=[];let s="",c=0;const d=()=>{if(0===s.length)throw new rn(Mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;c<e.length;){const w=e[c];if("\\"===w){if(c+1===e.length)throw new rn(Mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[c+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new rn(Mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,c+=2}else"`"===w?(p=!p,c++):"."!==w||p?(s+=w,c++):(d(),c++)}if(d(),p)throw new rn(Mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(r)}static emptyPath(){return new Di([])}}class pn{constructor(e){this.path=e}static fromPath(e){return new pn(Wr.fromString(e))}static fromName(e){return new pn(Wr.fromString(e).popFirst(5))}static empty(){return new pn(Wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Wr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pn(new Wr(e.slice()))}}class oa{constructor(e,r,s,c){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=c}}function su(o){return o.fields.find(e=>2===e.kind)}function ks(o){return o.fields.filter(e=>2!==e.kind)}oa.UNKNOWN_ID=-1;class Es{constructor(e,r){this.fieldPath=e,this.kind=r}}class jo{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new jo(0,Xo.min())}}function zn(o,e){const r=o.toTimestamp().seconds,s=o.toTimestamp().nanoseconds+1,c=tr.fromTimestamp(1e9===s?new ri(r+1,0):new ri(r,s));return new Xo(c,pn.empty(),e)}function Tc(o){return new Xo(o.readTime,o.key,-1)}class Xo{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Xo(tr.min(),pn.empty(),-1)}static max(){return new Xo(tr.max(),pn.empty(),-1)}}function Bl(o,e){let r=o.readTime.compareTo(e.readTime);return 0!==r?r:(r=pn.comparator(o.documentKey,e.documentKey),0!==r?r:Tr(o.largestBatchId,e.largestBatchId))}const $l="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function aa(o){return la.apply(this,arguments)}function la(){return la=(0,l.Z)(function*(o){if(o.code!==Mt.FAILED_PRECONDITION||o.message!==$l)throw o;Ht("LocalStore","Unexpectedly lost primary lease")}),la.apply(this,arguments)}class vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&An(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new vt((s,c)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,c)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof vt?r:vt.resolve(r)}catch(r){return vt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):vt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):vt.reject(r)}static resolve(e){return new vt((r,s)=>{r(e)})}static reject(e){return new vt((r,s)=>{s(e)})}static waitFor(e){return new vt((r,s)=>{let c=0,d=0,p=!1;e.forEach(w=>{++c,w.next(()=>{++d,p&&d===c&&r()},R=>s(R))}),p=!0,d===c&&r()})}static or(e){let r=vt.resolve(!1);for(const s of e)r=r.next(c=>c?vt.resolve(c):s());return r}static forEach(e,r){const s=[];return e.forEach((c,d)=>{s.push(r.call(this,c,d))}),this.waitFor(s)}static mapArray(e,r){return new vt((s,c)=>{const d=e.length,p=new Array(d);let w=0;for(let R=0;R<d;R++){const L=R;r(e[L]).next(X=>{p[L]=X,++w,w===d&&s(p)},X=>c(X))}})}static doWhile(e,r){return new vt((s,c)=>{const d=()=>{!0===e()?r().next(()=>{d()},c):s()};d()})}}class Ra{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Yi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new ca(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const c=di(s.target.error);this.V.reject(new ca(e,c))}}static open(e,r,s,c){try{return new Ra(r,e.transaction(c,s))}catch(d){throw new ca(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ht("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new qr(r)}}class cs{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===cs.S((0,Ee.z$)())&&pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ht("SimpleDb","Removing database:",e),Gs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ee.hl)())return!1;if(cs.C())return!0;const e=(0,Ee.z$)(),r=cs.S(e),s=0<r&&r<10,c=cs.v(e),d=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,l.Z)(function*(){return r.db||(Ht("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,c)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=p=>{s(p.target.result)},d.onblocked=()=>{c(new ca(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const w=p.target.error;c("VersionError"===w.name?new rn(Mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new rn(Mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new ca(e,w))},d.onupgradeneeded=p=>{Ht("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',p.oldVersion),r.p.N(p.target.result,d.transaction,p.oldVersion,r.version).next(()=>{Ht("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=s=>r.B(s)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,c){var d=this;return(0,l.Z)(function*(){const p="readonly"===r;let w=0;for(;;){++w;try{d.db=yield d.O(e);const R=Ra.open(d.db,e,p?"readonly":"readwrite",s),L=c(R).next(X=>(R.g(),X)).catch(X=>(R.abort(X),vt.reject(X))).toPromise();return L.catch(()=>{}),yield R.m,L}catch(R){const L=R,X="FirebaseError"!==L.name&&w<3;if(Ht("SimpleDb","Transaction failed with error:",L.message,"Retrying:",X),d.close(),!X)return Promise.reject(L)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ha{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Gs(this.k.delete())}}class ca extends rn{constructor(e,r){super(Mt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Bt(o){return"IndexedDbTransactionError"===o.name}class qr{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Ht("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Ht("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Gs(s)}add(e){return Ht("SimpleDb","ADD",this.store.name,e,e),Gs(this.store.add(e))}get(e){return Gs(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ht("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ht("SimpleDb","DELETE",this.store.name,e),Gs(this.store.delete(e))}count(){return Ht("SimpleDb","COUNT",this.store.name),Gs(this.store.count())}W(e,r){const s=this.options(e,r),c=s.index?this.store.index(s.index):this.store;if("function"==typeof c.getAll){const d=c.getAll(s.range);return new vt((p,w)=>{d.onerror=R=>{w(R.target.error)},d.onsuccess=R=>{p(R.target.result)}})}{const d=this.cursor(s),p=[];return this.G(d,(w,R)=>{p.push(R)}).next(()=>p)}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new vt((c,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{c(p.target.result)}})}H(e,r){Ht("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const c=this.cursor(s);return this.G(c,(d,p,w)=>w.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const c=this.cursor(s);return this.G(c,r)}Z(e){const r=this.cursor({});return new vt((s,c)=>{r.onerror=d=>{const p=di(d.target.error);c(p)},r.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(w=>{w?p.continue():s()}):s()}})}G(e,r){const s=[];return new vt((c,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const w=p.target.result;if(!w)return void c();const R=new Ha(w),L=r(w.primaryKey,w.value,R);if(L instanceof vt){const X=L.catch(De=>(R.done(),vt.reject(De)));s.push(X)}R.isDone?c():null===R.$?w.continue():w.continue(R.$)}}).next(()=>vt.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Gs(o){return new vt((e,r)=>{o.onsuccess=s=>{e(s.target.result)},o.onerror=s=>{const c=di(s.target.error);r(c)}})}let hl=!1;function di(o){const e=cs.S((0,Ee.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(r)>=0){const s=new rn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hl||(hl=!0,setTimeout(()=>{throw s},0)),s}}return o}class Ul{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;Ht("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.Z)(function*(){r.task=null;try{Ht("IndexBackfiller",`Documents written: ${yield r.X.te()}`)}catch(s){Bt(s)?Ht("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield aa(s)}yield r.ee(6e4)}))}}class Ma{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,l.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let c=r,d=!0;return vt.doWhile(()=>!0===d&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return Ht("IndexBackfiller",`Processing collection: ${p}`),this.re(e,p,c).next(w=>{c-=w,s.add(p)});d=!1})).next(()=>r-c)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(c=>this.localStore.localDocuments.getNextDocuments(e,r,c,s).next(d=>{const p=d.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ie(c,d)).next(w=>(Ht("IndexBackfiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(e,r,w))).next(()=>p.size)}))}ie(e,r){let s=e;return r.changes.forEach((c,d)=>{const p=Tc(d);Bl(p,s)>0&&(s=p)}),new Xo(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Gi=(()=>{class o{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=c=>this.se(c),this.oe=c=>s.writeSequenceNumber(c))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return o._e=-1,o})();function Ga(o){return null==o}function fl(o){return 0===o&&1/o==-1/0}function au(o){return"number"==typeof o&&Number.isInteger(o)&&!fl(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}function zo(o){let e="";for(let r=0;r<o.length;r++)e.length>0&&(e=Po(e)),e=id(o.get(r),e);return Po(e)}function id(o,e){let r=e;const s=o.length;for(let c=0;c<s;c++){const d=o.charAt(c);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function Po(o){return o+"\x01\x01"}function _(o){const e=o.length;if(Nn(e>=2),2===e)return Nn("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),Wr.emptyPath();const r=e-2,s=[];let c="";for(let d=0;d<e;){const p=o.indexOf("\x01",d);switch((p<0||p>r)&&An(),o.charAt(p+1)){case"\x01":const w=o.substring(d,p);let R;0===c.length?R=w:(c+=w,R=c,c=""),s.push(R);break;case"\x10":c+=o.substring(d,p),c+="\0";break;case"\x11":c+=o.substring(d,p+1);break;default:An()}d=p+2}return new Wr(s)}const b=["userId","batchId"];function E(o,e){return[o,zo(e)]}function A(o,e,r){return[o,zo(e),r]}const B={},re=["prefixPath","collectionGroup","readTime","documentId"],Ve=["prefixPath","collectionGroup","documentId"],wt=["collectionGroup","readTime","prefixPath","documentId"],Tt=["canonicalId","targetId"],Pn=["targetId","path"],xr=["path","targetId"],Br=["collectionId","parent"],Ki=["indexId","uid"],Wa=["uid","sequenceNumber"],Pa=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qa=["indexId","uid","orderedDocumentKey"],Ya=["userId","collectionPath","documentId"],ua=["userId","collectionPath","largestBatchId"],lu=["userId","collectionGroup","largestBatchId"],cu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],od=[...cu,"documentOverlays"],xo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],da=xo,Ri=[...da,"indexConfiguration","indexState","indexEntries"];class Dc extends rd{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function bo(o,e){const r=vn(o);return cs.M(r.ae,e)}function uu(o){let e=0;for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e++;return e}function Ka(o,e){for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e(r,o[r])}function xa(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}class Ci{constructor(e,r){this.comparator=e,this.root=r||Wi.EMPTY}insert(e,r){return new Ci(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new Ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return r+s.left.size;c<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pl(this.root,e,this.comparator,!0)}}class pl{constructor(e,r,s,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,r,s,c,d){this.key=e,this.value=r,this.color=s??Wi.RED,this.left=c??Wi.EMPTY,this.right=d??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,c,d){return new Wi(e??this.key,r??this.value,s??this.color,c??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let c=this;const d=s(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,r,s),null):0===d?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return Wi.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw An();const e=this.left.check();if(e!==this.right.check())throw An();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw An()}get value(){throw An()}get color(){throw An()}get left(){throw An()}get right(){throw An()}copy(e,r,s,c,d){return this}insert(e,r,s){return new Wi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mi{constructor(e){this.comparator=e,this.data=new Ci(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new gl(this.data.getIterator())}getIteratorFrom(e){return new gl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Mi(this.comparator);return r.data=e,r}}class gl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ha(o){return o.hasNext()?o.getNext():void 0}class Oo{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new Oo([])}unionWith(e){let r=new Mi(Di.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Oo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class du extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function hu(){return typeof atob<"u"}class ho{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new du("Invalid base64 string: "+d):d}}(e);return new ho(r)}static fromUint8Array(e){const r=function(c){let d="";for(let p=0;p<c.length;++p)d+=String.fromCharCode(c[p]);return d}(e);return new ho(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let c=0;c<r.length;c++)s[c]=r.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ho.EMPTY_BYTE_STRING=new ho("");const sd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(o){if(Nn(!!o),"string"==typeof o){let e=0;const r=sd.exec(o);if(Nn(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(o);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pi(o.seconds),nanos:Pi(o.nanos)}}function Pi(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function Ws(o){return"string"==typeof o?ho.fromBase64String(o):ho.fromUint8Array(o)}function jl(o){var e,r;return"server_timestamp"===(null===(r=((null===(e=o?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Za(o){const e=o.mapValue.fields.__previous_value__;return jl(e)?Za(e):e}function Cc(o){const e=Is(o.mapValue.fields.__local_write_time__.timestampValue);return new ri(e.seconds,e.nanos)}class gp{constructor(e,r,s,c,d,p,w,R,L){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=c,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=w,this.longPollingOptions=R,this.useFetchStreams=L}}class Oa{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oa&&e.projectId===this.projectId&&e.database===this.database}}const Na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xa={nullValue:"NULL_VALUE"};function Fs(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?jl(o)?4:Gl(o)?9007199254740991:10:An()}function qs(o,e){if(o===e)return!0;const r=Fs(o);if(r!==Fs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return Cc(o).isEqual(Cc(e));case 3:return function(c,d){if("string"==typeof c.timestampValue&&"string"==typeof d.timestampValue&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;const p=Is(c.timestampValue),w=Is(d.timestampValue);return p.seconds===w.seconds&&p.nanos===w.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return d=e,Ws(o.bytesValue).isEqual(Ws(d.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(c,d){return Pi(c.geoPointValue.latitude)===Pi(d.geoPointValue.latitude)&&Pi(c.geoPointValue.longitude)===Pi(d.geoPointValue.longitude)}(o,e);case 2:return function(c,d){if("integerValue"in c&&"integerValue"in d)return Pi(c.integerValue)===Pi(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){const p=Pi(c.doubleValue),w=Pi(d.doubleValue);return p===w?fl(p)===fl(w):isNaN(p)&&isNaN(w)}return!1}(o,e);case 9:return Zo(o.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:return function(c,d){const p=c.mapValue.fields||{},w=d.mapValue.fields||{};if(uu(p)!==uu(w))return!1;for(const R in p)if(p.hasOwnProperty(R)&&(void 0===w[R]||!qs(p[R],w[R])))return!1;return!0}(o,e);default:return An()}var d}function fa(o,e){return void 0!==(o.values||[]).find(r=>qs(r,e))}function Ys(o,e){if(o===e)return 0;const r=Fs(o),s=Fs(e);if(r!==s)return Tr(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Tr(o.booleanValue,e.booleanValue);case 2:return function(d,p){const w=Pi(d.integerValue||d.doubleValue),R=Pi(p.integerValue||p.doubleValue);return w<R?-1:w>R?1:w===R?0:isNaN(w)?isNaN(R)?0:-1:1}(o,e);case 3:return wc(o.timestampValue,e.timestampValue);case 4:return wc(Cc(o),Cc(e));case 5:return Tr(o.stringValue,e.stringValue);case 6:return function(d,p){const w=Ws(d),R=Ws(p);return w.compareTo(R)}(o.bytesValue,e.bytesValue);case 7:return function(d,p){const w=d.split("/"),R=p.split("/");for(let L=0;L<w.length&&L<R.length;L++){const X=Tr(w[L],R[L]);if(0!==X)return X}return Tr(w.length,R.length)}(o.referenceValue,e.referenceValue);case 8:return function(d,p){const w=Tr(Pi(d.latitude),Pi(p.latitude));return 0!==w?w:Tr(Pi(d.longitude),Pi(p.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(d,p){const w=d.values||[],R=p.values||[];for(let L=0;L<w.length&&L<R.length;++L){const X=Ys(w[L],R[L]);if(X)return X}return Tr(w.length,R.length)}(o.arrayValue,e.arrayValue);case 10:return function(d,p){if(d===Na.mapValue&&p===Na.mapValue)return 0;if(d===Na.mapValue)return 1;if(p===Na.mapValue)return-1;const w=d.fields||{},R=Object.keys(w),L=p.fields||{},X=Object.keys(L);R.sort(),X.sort();for(let De=0;De<R.length&&De<X.length;++De){const et=Tr(R[De],X[De]);if(0!==et)return et;const Dt=Ys(w[R[De]],L[X[De]]);if(0!==Dt)return Dt}return Tr(R.length,X.length)}(o.mapValue,e.mapValue);default:throw An()}}function wc(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return Tr(o,e);const r=Is(o),s=Is(e),c=Tr(r.seconds,s.seconds);return 0!==c?c:Tr(r.nanos,s.nanos)}function bc(o){return zl(o)}function zl(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(r){const s=Is(r);return`time(${s.seconds},${s.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?Ws(o.bytesValue).toBase64():"referenceValue"in o?pn.fromName(o.referenceValue).toString():"geoPointValue"in o?function(r){return`geo(${r.latitude},${r.longitude})`}(o.geoPointValue):"arrayValue"in o?function(r){let s="[",c=!0;for(const d of r.values||[])c?c=!1:s+=",",s+=zl(d);return s+"]"}(o.arrayValue):"mapValue"in o?function(r){const s=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const p of s)d?d=!1:c+=",",c+=`${p}:${zl(r.fields[p])}`;return c+"}"}(o.mapValue):An()}function ml(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function us(o){return!!o&&"integerValue"in o}function Sc(o){return!!o&&"arrayValue"in o}function Rc(o){return!!o&&"nullValue"in o}function Hl(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Mc(o){return!!o&&"mapValue"in o}function pa(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return Ka(o.mapValue.fields,(r,s)=>e.mapValue.fields[r]=pa(s)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(o.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=pa(o.arrayValue.values[r]);return e}return Object.assign({},o)}function Gl(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}function ad(o){return"nullValue"in o?Xa:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?ml(Oa.empty(),pn.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:An()}function ld(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?ml(Oa.empty(),pn.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?Na:An()}function Pc(o,e){const r=Ys(o.value,e.value);return 0!==r?r:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function cd(o,e){const r=Ys(o.value,e.value);return 0!==r?r:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class yo{constructor(e){this.value=e}static empty(){return new yo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Mc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(r)}setAll(e){let r=Di.emptyPath(),s={},c=[];e.forEach((p,w)=>{if(!r.isImmediateParentOf(w)){const R=this.getFieldsMap(r);this.applyChanges(R,s,c),s={},c=[],r=w.popLast()}p?s[w.lastSegment()]=pa(p):c.push(w.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,c)}delete(e){const r=this.field(e.popLast());Mc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=r.mapValue.fields[e.get(s)];Mc(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,s){Ka(r,(c,d)=>e[c]=d);for(const c of s)delete e[c]}clone(){return new yo(pa(this.value))}}function ud(o){const e=[];return Ka(o.fields,(r,s)=>{const c=new Di([r]);if(Mc(s)){const d=ud(s.mapValue).fields;if(0===d.length)e.push(c);else for(const p of d)e.push(c.child(p))}else e.push(c)}),new Oo(e)}class wi{constructor(e,r,s,c,d,p,w){this.key=e,this.documentType=r,this.version=s,this.readTime=c,this.createTime=d,this.data=p,this.documentState=w}static newInvalidDocument(e){return new wi(e,0,tr.min(),tr.min(),tr.min(),yo.empty(),0)}static newFoundDocument(e,r,s,c){return new wi(e,1,r,tr.min(),s,c,0)}static newNoDocument(e,r){return new wi(e,2,r,tr.min(),tr.min(),yo.empty(),0)}static newUnknownDocument(e,r){return new wi(e,3,r,tr.min(),tr.min(),yo.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(tr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ds{constructor(e,r){this.position=e,this.inclusive=r}}function dd(o,e,r){let s=0;for(let c=0;c<o.position.length;c++){const d=e[c],p=o.position[c];if(s=d.field.isKeyField()?pn.comparator(pn.fromName(p.referenceValue),r.key):Ys(p,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function xc(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let r=0;r<o.position.length;r++)if(!qs(o.position[r],e.position[r]))return!1;return!0}class Wl{constructor(e,r="asc"){this.field=e,this.dir=r}}function ql(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class yl{}class dr extends yl{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new _h(e,r,s):"array-contains"===r?new pd(e,s):"in"===r?new yp(e,s):"not-in"===r?new Tm(e,s):"array-contains-any"===r?new Dm(e,s):new dr(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new fd(e,s):new Zl(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Ys(r,this.value)):null!==r&&Fs(this.value)===Fs(r)&&this.matchesComparison(Ys(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return An()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends yl{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new bi(e,r)}matches(e){return _l(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function _l(o){return"and"===o.op}function Yl(o){return"or"===o.op}function hd(o){return Kl(o)&&_l(o)}function Kl(o){for(const e of o.filters)if(e instanceof bi)return!1;return!0}function Oc(o){if(o instanceof dr)return o.field.canonicalString()+o.op.toString()+bc(o.value);if(hd(o))return o.filters.map(e=>Oc(e)).join(",");{const e=o.filters.map(r=>Oc(r)).join(",");return`${o.op}(${e})`}}function vl(o,e){return o instanceof dr?(s=o,(c=e)instanceof dr&&s.op===c.op&&s.field.isEqual(c.field)&&qs(s.value,c.value)):o instanceof bi?function(s,c){return c instanceof bi&&s.op===c.op&&s.filters.length===c.filters.length&&s.filters.reduce((d,p,w)=>d&&vl(p,c.filters[w]),!0)}(o,e):void An();var s,c}function El(o,e){const r=o.filters.concat(e);return bi.create(r,o.op)}function Il(o){return o instanceof dr?`${(r=o).field.canonicalString()} ${r.op} ${bc(r.value)}`:o instanceof bi?function(r){return r.op.toString()+" {"+r.getFilters().map(Il).join(" ,")+"}"}(o):"Filter";var r}class _h extends dr{constructor(e,r,s){super(e,r,s),this.key=pn.fromName(s.referenceValue)}matches(e){const r=pn.comparator(e.key,this.key);return this.matchesComparison(r)}}class fd extends dr{constructor(e,r){super(e,"in",r),this.keys=mp(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Zl extends dr{constructor(e,r){super(e,"not-in",r),this.keys=mp(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function mp(o,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>pn.fromName(s.referenceValue))}class pd extends dr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Sc(r)&&fa(r.arrayValue,this.value)}}class yp extends dr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&fa(this.value.arrayValue,r)}}class Tm extends dr{constructor(e,r){super(e,"not-in",r)}matches(e){if(fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!fa(this.value.arrayValue,r)}}class Dm extends dr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Sc(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>fa(this.value.arrayValue,s))}}class Cm{constructor(e,r=null,s=[],c=[],d=null,p=null,w=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=c,this.limit=d,this.startAt=p,this.endAt=w,this.ce=null}}function vh(o,e=null,r=[],s=[],c=null,d=null,p=null){return new Cm(o,e,r,s,c,d,p)}function Tl(o){const e=vn(o);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Oc(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),Ga(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>bc(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>bc(s)).join(",")),e.ce=r}return e.ce}function ga(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<o.orderBy.length;r++)if(!ql(o.orderBy[r],e.orderBy[r]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let r=0;r<o.filters.length;r++)if(!vl(o.filters[r],e.filters[r]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!xc(o.startAt,e.startAt)&&xc(o.endAt,e.endAt)}function fu(o){return pn.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function pu(o,e){return o.filters.filter(r=>r instanceof dr&&r.field.isEqual(e))}function fo(o,e,r){let s=Xa,c=!0;for(const d of pu(o,e)){let p=Xa,w=!0;switch(d.op){case"<":case"<=":p=ad(d.value);break;case"==":case"in":case">=":p=d.value;break;case">":p=d.value,w=!1;break;case"!=":case"not-in":p=Xa}Pc({value:s,inclusive:c},{value:p,inclusive:w})<0&&(s=p,c=w)}if(null!==r)for(let d=0;d<o.orderBy.length;++d)if(o.orderBy[d].field.isEqual(e)){const p=r.position[d];Pc({value:s,inclusive:c},{value:p,inclusive:r.inclusive})<0&&(s=p,c=r.inclusive);break}return{value:s,inclusive:c}}function Eh(o,e,r){let s=Na,c=!0;for(const d of pu(o,e)){let p=Na,w=!0;switch(d.op){case">=":case">":p=ld(d.value),w=!1;break;case"==":case"in":case"<=":p=d.value;break;case"<":p=d.value,w=!1;break;case"!=":case"not-in":p=Na}cd({value:s,inclusive:c},{value:p,inclusive:w})>0&&(s=p,c=w)}if(null!==r)for(let d=0;d<o.orderBy.length;++d)if(o.orderBy[d].field.isEqual(e)){const p=r.position[d];cd({value:s,inclusive:c},{value:p,inclusive:r.inclusive})>0&&(s=p,c=r.inclusive);break}return{value:s,inclusive:c}}class Qo{constructor(e,r=null,s=[],c=[],d=null,p="F",w=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=c,this.limit=d,this.limitType=p,this.startAt=w,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function gu(o,e,r,s,c,d,p,w){return new Qo(o,e,r,s,c,d,p,w)}function _o(o){return new Qo(o)}function ka(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function mu(o){return null!==o.collectionGroup}function ma(o){const e=vn(o);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let w=new Mi(Di.comparator);return p.filters.forEach(R=>{R.getFlattenedFilters().forEach(L=>{L.isInequality()&&(w=w.add(L.field))})}),w})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new Wl(d,s))}),r.has(Di.keyField().canonicalString())||e.le.push(new Wl(Di.keyField(),s))}return e.le}function Ao(o){const e=vn(o);return e.he||(e.he=function Xl(o,e){if("F"===o.limitType)return vh(o.path,o.collectionGroup,e,o.filters,o.limit,o.startAt,o.endAt);{e=e.map(c=>new Wl(c.field,"desc"===c.dir?"asc":"desc"));const r=o.endAt?new ds(o.endAt.position,o.endAt.inclusive):null,s=o.startAt?new ds(o.startAt.position,o.startAt.inclusive):null;return vh(o.path,o.collectionGroup,e,o.filters,o.limit,r,s)}}(e,ma(o))),e.he}function Ih(o,e){const r=o.filters.concat([e]);return new Qo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),r,o.limit,o.limitType,o.startAt,o.endAt)}function yu(o,e,r){return new Qo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,r,o.startAt,o.endAt)}function Ql(o,e){return ga(Ao(o),Ao(e))&&o.limitType===e.limitType}function Jo(o){return`${Tl(Ao(o))}|lt:${o.limitType}`}function Ks(o){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(c=>Il(c)).join(", ")}]`),Ga(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(c=>{return`${(p=c).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(c=>bc(c)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(c=>bc(c)).join(",")),`Target(${s})`}(Ao(o))}; limitType=${o.limitType})`}function Zs(o,e){return e.isFoundDocument()&&function(s,c){const d=c.key.path;return null!==s.collectionGroup?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):pn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(o,e)&&function(s,c){for(const d of ma(s))if(!d.field.isKeyField()&&null===c.data.field(d.field))return!1;return!0}(o,e)&&function(s,c){for(const d of s.filters)if(!d.matches(c))return!1;return!0}(o,e)&&(c=e,!((s=o).startAt&&!function(p,w,R){const L=dd(p,w,R);return p.inclusive?L<=0:L<0}(s.startAt,ma(s),c)||s.endAt&&!function(p,w,R){const L=dd(p,w,R);return p.inclusive?L>=0:L>0}(s.endAt,ma(s),c)));var s,c}function Th(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function gd(o){return(e,r)=>{let s=!1;for(const c of ma(o)){const d=_p(c,e,r);if(0!==d)return d;s=s||c.field.isKeyField()}return 0}}function _p(o,e,r){const s=o.field.isKeyField()?pn.comparator(e.key,r.key):function(d,p,w){const R=p.data.field(d),L=w.data.field(d);return null!==R&&null!==L?Ys(R,L):An()}(o.field,e,r);switch(o.dir){case"asc":return s;case"desc":return-1*s;default:return An()}}class Fa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[c,d]of s)if(this.equalsFn(c,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[r]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,(r,s)=>{for(const[c,d]of s)e(c,d)})}isEmpty(){return xa(this.inner)}size(){return this.innerSize}}const vp=new Ci(pn.comparator);function hs(){return vp}const md=new Ci(pn.comparator);function Nc(...o){let e=md;for(const r of o)e=e.insert(r.key,r);return e}function _u(o){let e=md;return o.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function v(){return m()}function f(){return m()}function m(){return new Fa(o=>o.toString(),(o,e)=>o.isEqual(e))}const D=new Ci(pn.comparator),H=new Mi(pn.comparator);function Q(...o){let e=H;for(const r of o)e=e.add(r);return e}const at=new Mi(Tr);function St(){return at}function nn(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(e)?"-0":e}}function qn(o){return{integerValue:""+o}}function hr(o,e){return au(e)?qn(e):nn(o,e)}class Xr{constructor(){this._=void 0}}function vo(o,e,r){return o instanceof Jl?function(c,d){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return d&&jl(d)&&(d=Za(d)),d&&(p.fields.__previous_value__=d),{mapValue:p}}(r,e):o instanceof ya?yd(o,e):o instanceof Dl?vu(o,e):function(c,d){const p=kc(c,d),w=_d(p)+_d(c.Ie);return us(p)&&us(c.Ie)?qn(w):nn(c.serializer,w)}(o,e)}function Ls(o,e,r){return o instanceof ya?yd(o,e):o instanceof Dl?vu(o,e):r}function kc(o,e){return o instanceof Cl?us(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class Jl extends Xr{}class ya extends Xr{constructor(e){super(),this.elements=e}}function yd(o,e){const r=_a(e);for(const s of o.elements)r.some(c=>qs(c,s))||r.push(s);return{arrayValue:{values:r}}}class Dl extends Xr{constructor(e){super(),this.elements=e}}function vu(o,e){let r=_a(e);for(const s of o.elements)r=r.filter(c=>!qs(c,s));return{arrayValue:{values:r}}}class Cl extends Xr{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function _d(o){return Pi(o.integerValue||o.doubleValue)}function _a(o){return Sc(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class wl{constructor(e,r){this.field=e,this.transform=r}}class ec{constructor(e,r){this.version=e,this.transformResults=r}}class Oi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class Ed{}function Ep(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new rc(o.key,Oi.none()):new tc(o.key,o.data,Oi.none());{const r=o.data,s=yo.empty();let c=new Mi(Di.comparator);for(let d of e.fields)if(!c.has(d)){let p=r.field(d);null===p&&d.length>1&&(d=d.popLast(),p=r.field(d)),null===p?s.delete(d):s.set(d,p),c=c.add(d)}return new Qa(o.key,s,new Oo(c.toArray()),Oi.none())}}function Ch(o,e,r){o instanceof tc?function(c,d,p){const w=c.value.clone(),R=nc(c.fieldTransforms,d,p.transformResults);w.setAll(R),d.convertToFoundDocument(p.version,w).setHasCommittedMutations()}(o,e,r):o instanceof Qa?function(c,d,p){if(!Dh(c.precondition,d))return void d.convertToUnknownDocument(p.version);const w=nc(c.fieldTransforms,d,p.transformResults),R=d.data;R.setAll(Tp(c)),R.setAll(w),d.convertToFoundDocument(p.version,R).setHasCommittedMutations()}(o,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function wh(o,e,r,s){return o instanceof tc?function(d,p,w,R){if(!Dh(d.precondition,p))return w;const L=d.value.clone(),X=bm(d.fieldTransforms,R,p);return L.setAll(X),p.convertToFoundDocument(p.version,L).setHasLocalMutations(),null}(o,e,r,s):o instanceof Qa?function(d,p,w,R){if(!Dh(d.precondition,p))return w;const L=bm(d.fieldTransforms,R,p),X=p.data;return X.setAll(Tp(d)),X.setAll(L),p.convertToFoundDocument(p.version,X).setHasLocalMutations(),null===w?null:w.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(De=>De.field))}(o,e,r,s):(w=r,Dh(o.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):w);var p,w}function Ip(o,e){let r=null;for(const s of o.fieldTransforms){const c=e.data.field(s.field),d=kc(s.transform,c||null);null!=d&&(null===r&&(r=yo.empty()),r.set(s.field,d))}return r||null}function wm(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(s=o.fieldTransforms)&&void 0===c||s&&c&&Zo(s,c,(d,p)=>function vd(o,e){return o.field.isEqual(e.field)&&(c=e.transform,(s=o.transform)instanceof ya&&c instanceof ya||s instanceof Dl&&c instanceof Dl?Zo(s.elements,c.elements,qs):s instanceof Cl&&c instanceof Cl?qs(s.Ie,c.Ie):s instanceof Jl&&c instanceof Jl);var s,c}(d,p))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var s,c}class tc extends Ed{constructor(e,r,s,c=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Qa extends Ed{constructor(e,r,s,c,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Tp(o){const e=new Map;return o.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=o.data.field(r);e.set(r,s)}}),e}function nc(o,e,r){const s=new Map;Nn(o.length===r.length);for(let c=0;c<r.length;c++){const d=o[c],p=d.transform,w=e.data.field(d.field);s.set(d.field,Ls(p,w,r[c]))}return s}function bm(o,e,r){const s=new Map;for(const c of o){const d=c.transform,p=r.data.field(c.field);s.set(c.field,vo(d,p,e))}return s}class rc extends Ed{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eu extends Ed{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dp{constructor(e,r,s,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(e.key)&&Ch(d,e,s[c])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=wh(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=wh(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=f();return this.mutations.forEach(c=>{const d=e.get(c.key),p=d.overlayedDocument;let w=this.applyToLocalView(p,d.mutatedFields);w=r.has(c.key)?null:w;const R=Ep(p,w);null!==R&&s.set(c.key,R),p.isValidDocument()||p.convertToNoDocument(tr.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Q())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(r,s)=>wm(r,s))&&Zo(this.baseMutations,e.baseMutations,(r,s)=>wm(r,s))}}class Id{constructor(e,r,s,c){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=c}static from(e,r,s){Nn(e.mutations.length===s.length);let c=function(){return D}();const d=e.mutations;for(let p=0;p<d.length;p++)c=c.insert(d[p].key,s[p].version);return new Id(e,r,s,c)}}class Iu{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tu{constructor(e,r){this.count=e,this.unchangedNames=r}}var po,hi;function Am(o){switch(o){default:return An();case Mt.CANCELLED:case Mt.UNKNOWN:case Mt.DEADLINE_EXCEEDED:case Mt.RESOURCE_EXHAUSTED:case Mt.INTERNAL:case Mt.UNAVAILABLE:case Mt.UNAUTHENTICATED:return!1;case Mt.INVALID_ARGUMENT:case Mt.NOT_FOUND:case Mt.ALREADY_EXISTS:case Mt.PERMISSION_DENIED:case Mt.FAILED_PRECONDITION:case Mt.ABORTED:case Mt.OUT_OF_RANGE:case Mt.UNIMPLEMENTED:case Mt.DATA_LOSS:return!0}}function Cp(o){if(void 0===o)return pi("GRPC error has no .code"),Mt.UNKNOWN;switch(o){case po.OK:return Mt.OK;case po.CANCELLED:return Mt.CANCELLED;case po.UNKNOWN:return Mt.UNKNOWN;case po.DEADLINE_EXCEEDED:return Mt.DEADLINE_EXCEEDED;case po.RESOURCE_EXHAUSTED:return Mt.RESOURCE_EXHAUSTED;case po.INTERNAL:return Mt.INTERNAL;case po.UNAVAILABLE:return Mt.UNAVAILABLE;case po.UNAUTHENTICATED:return Mt.UNAUTHENTICATED;case po.INVALID_ARGUMENT:return Mt.INVALID_ARGUMENT;case po.NOT_FOUND:return Mt.NOT_FOUND;case po.ALREADY_EXISTS:return Mt.ALREADY_EXISTS;case po.PERMISSION_DENIED:return Mt.PERMISSION_DENIED;case po.FAILED_PRECONDITION:return Mt.FAILED_PRECONDITION;case po.ABORTED:return Mt.ABORTED;case po.OUT_OF_RANGE:return Mt.OUT_OF_RANGE;case po.UNIMPLEMENTED:return Mt.UNIMPLEMENTED;case po.DATA_LOSS:return Mt.DATA_LOSS;default:return An()}}(hi=po||(po={}))[hi.OK=0]="OK",hi[hi.CANCELLED=1]="CANCELLED",hi[hi.UNKNOWN=2]="UNKNOWN",hi[hi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hi[hi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hi[hi.NOT_FOUND=5]="NOT_FOUND",hi[hi.ALREADY_EXISTS=6]="ALREADY_EXISTS",hi[hi.PERMISSION_DENIED=7]="PERMISSION_DENIED",hi[hi.UNAUTHENTICATED=16]="UNAUTHENTICATED",hi[hi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hi[hi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hi[hi.ABORTED=10]="ABORTED",hi[hi.OUT_OF_RANGE=11]="OUT_OF_RANGE",hi[hi.UNIMPLEMENTED=12]="UNIMPLEMENTED",hi[hi.INTERNAL=13]="INTERNAL",hi[hi.UNAVAILABLE=14]="UNAVAILABLE",hi[hi.DATA_LOSS=15]="DATA_LOSS";function Sm(){return new TextEncoder}const Y_=new Fr([4294967295,4294967295],0);function Rm(o){const e=Sm().encode(o),r=new Ti;return r.update(e),new Uint8Array(r.digest())}function bh(o){const e=new DataView(o.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Fr([r,s],0),new Fr([c,d],0)]}class wp{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Fc(`Invalid padding: ${r}`);if(s<0)throw new Fc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Fc(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Fc(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=Fr.fromNumber(this.Te)}de(e,r,s){let c=e.add(r.multiply(Fr.fromNumber(s)));return 1===c.compare(Y_)&&(c=new Fr([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=Rm(e),[s,c]=bh(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,c,d);if(!this.Ae(p))return!1}return!0}static create(e,r,s){const c=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),p=new wp(d,c,r);return s.forEach(w=>p.insert(w)),p}insert(e){if(0===this.Te)return;const r=Rm(e),[s,c]=bh(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,c,d);this.Re(p)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Du{constructor(e,r,s,c,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const c=new Map;return c.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Du(tr.min(),c,new Ci(Tr),hs(),Q())}}class Td{constructor(e,r,s,c,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Td(s,r,Q(),Q(),Q())}}class Ah{constructor(e,r,s,c){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=c}}class bp{constructor(e,r){this.targetId=e,this.fe=r}}class Mm{constructor(e,r,s=ho.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=c}}class Ap{constructor(){this.ge=0,this.pe=Z_(),this.ye=ho.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Q(),r=Q(),s=Q();return this.pe.forEach((c,d)=>{switch(d){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:s=s.add(c);break;default:An()}}),new Td(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=Z_()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Nn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class K_{constructor(e){this.Le=e,this.ke=new Map,this.qe=hs(),this.Qe=Pm(),this.Ke=new Ci(Tr)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:An()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,c)=>{this.je(c)&&r(c)})}Je(e){const r=e.targetId,s=e.fe.count,c=this.Ye(r);if(c){const d=c.target;if(fu(d))if(0===s){const p=new pn(d.path);this.We(r,p,wi.newNoDocument(p,tr.min()))}else Nn(1===s);else{const p=this.Ze(r);if(p!==s){const w=this.Xe(e),R=w?this.et(w,e,p):1;0!==R&&(this.He(r),this.Ke=this.Ke.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:d=0}=r;let p,w;try{p=Ws(s).toUint8Array()}catch(R){if(R instanceof du)return Vi("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{w=new wp(p,c,d)}catch(R){return Vi(R instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===w.Te?null:w}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let c=0;return s.forEach(d=>{const p=this.Le.nt(),w=`projects/${p.projectId}/databases/${p.database}/documents/${d.path.canonicalString()}`;e.mightContain(w)||(this.We(r,d,null),c++)}),c}it(e){const r=new Map;this.ke.forEach((d,p)=>{const w=this.Ye(p);if(w){if(d.current&&fu(w.target)){const R=new pn(w.target.path);null!==this.qe.get(R)||this.st(p,R)||this.We(p,R,wi.newNoDocument(R,e))}d.De&&(r.set(p,d.ve()),d.Fe())}});let s=Q();this.Qe.forEach((d,p)=>{let w=!0;p.forEachWhile(R=>{const L=this.Ye(R);return!L||"TargetPurposeLimboResolution"===L.purpose||(w=!1,!1)}),w&&(s=s.add(d))}),this.qe.forEach((d,p)=>p.setReadTime(e));const c=new Du(e,r,this.Ke,this.qe,s);return this.qe=hs(),this.Qe=Pm(),this.Ke=new Ci(Tr),c}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const c=this.ze(e);this.st(e,r)?c.Me(r,1):c.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new Ap,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new Mi(Tr),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||Ht("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ap),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Pm(){return new Ci(pn.comparator)}function Z_(){return new Ci(pn.comparator)}const xm={asc:"ASCENDING",desc:"DESCENDING"},Om={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},va={and:"AND",or:"OR"};class Sp{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function el(o,e){return o.useProto3Json||Ga(e)?e:{value:e}}function Al(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rp(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function Dd(o,e){return Al(o,e.toTimestamp())}function Eo(o){return Nn(!!o),tr.fromTimestamp(function(r){const s=Is(r);return new ri(s.seconds,s.nanos)}(o))}function Mp(o,e){return Cd(o,e).canonicalString()}function Cd(o,e){const r=(c=o,new Wr(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===e?r:r.child(e)}function Nm(o){const e=Wr.fromString(o);return Nn(tv(e)),e}function Ea(o,e){return Mp(o.databaseId,e.path)}function La(o,e){const r=Nm(e);if(r.get(1)!==o.databaseId.projectId)throw new rn(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+o.databaseId.projectId);if(r.get(3)!==o.databaseId.database)throw new rn(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+o.databaseId.database);return new pn(X_(r))}function km(o,e){return Mp(o.databaseId,e)}function Pp(o){const e=Nm(o);return 4===e.length?Wr.emptyPath():X_(e)}function wd(o){return new Wr(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function X_(o){return Nn(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function Q_(o,e,r){return{name:Ea(o,e),fields:r.value.mapValue.fields}}function Fm(o,e,r){const s=La(o,e.name),c=Eo(e.updateTime),d=e.createTime?Eo(e.createTime):tr.min(),p=new yo({mapValue:{fields:e.fields}}),w=wi.newFoundDocument(s,c,d,p);return r&&w.setHasCommittedMutations(),r?w.setHasCommittedMutations():w}function bd(o,e){let r;if(e instanceof tc)r={update:Q_(o,e.key,e.value)};else if(e instanceof rc)r={delete:Ea(o,e.key)};else if(e instanceof Qa)r={update:Q_(o,e.key,e.data),updateMask:Bm(e.fieldMask)};else{if(!(e instanceof Eu))return An();r={verify:Ea(o,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,p){const w=p.transform;if(w instanceof Jl)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof ya)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Dl)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Cl)return{fieldPath:p.field.canonicalString(),increment:w.Ie};throw An()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Dd(o,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:An()),r;var d}function xp(o,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Oi.updateTime(Eo(d.updateTime)):void 0!==d.exists?Oi.exists(d.exists):Oi.none():Oi.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(p,w){let R=null;"setToServerValue"in w?(Nn("REQUEST_TIME"===w.setToServerValue),R=new Jl):"appendMissingElements"in w?R=new ya(w.appendMissingElements.values||[]):"removeAllFromArray"in w?R=new Dl(w.removeAllFromArray.values||[]):"increment"in w?R=new Cl(p,w.increment):An();const L=Di.fromServerFormat(w.fieldPath);return new wl(L,R)}(o,c)):[];var d;if(e.update){const c=La(o,e.update.name),d=new yo({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Oo((e.updateMask.fieldPaths||[]).map(X=>Di.fromServerFormat(X)));return new Qa(c,d,p,r,s)}return new tc(c,d,r,s)}if(e.delete){const c=La(o,e.delete);return new rc(c,r)}if(e.verify){const c=La(o,e.verify);return new Eu(c,r)}return An()}function Lc(o,e){return{documents:[km(o,e.path)]}}function Ts(o,e){const r={structuredQuery:{}},s=e.path;let c;null!==e.collectionGroup?(c=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=km(o,c);const d=function(L){if(0!==L.length)return Vm(bi.create(L,"and"))}(e.filters);d&&(r.structuredQuery.where=d);const p=function(L){if(0!==L.length)return L.map(X=>{return{field:Va((et=X).field),direction:ic(et.dir)};var et})}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const w=el(o,e.limit);return null!==w&&(r.structuredQuery.limit=w),e.startAt&&(r.structuredQuery.startAt={before:(L=e.startAt).inclusive,values:L.position}),e.endAt&&(r.structuredQuery.endAt=function(L){return{before:!L.inclusive,values:L.position}}(e.endAt)),{ut:r,parent:c};var L}function Sl(o){let e=Pp(o.parent);const r=o.structuredQuery,s=r.from?r.from.length:0;let c=null;if(s>0){Nn(1===s);const X=r.from[0];X.allDescendants?c=X.collectionId:e=e.child(X.collectionId)}let d=[];r.where&&(d=function(De){const et=Np(De);return et instanceof bi&&hd(et)?et.getFilters():[et]}(r.where));let p=[];r.orderBy&&(p=r.orderBy.map(et=>{return new Wl(Vc((hn=et).field),function(En){switch(En){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(hn.direction));var hn}));let w=null;r.limit&&(w=function(De){let et;return et="object"==typeof De?De.value:De,Ga(et)?null:et}(r.limit));let R=null;var De;r.startAt&&(R=new ds((De=r.startAt).values||[],!!De.before));let L=null;return r.endAt&&(L=function(De){return new ds(De.values||[],!De.before)}(r.endAt)),gu(e,c,p,d,w,"F",R,L)}function Np(o){return void 0!==o.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Vc(r.unaryFilter.field);return dr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=Vc(r.unaryFilter.field);return dr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Vc(r.unaryFilter.field);return dr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Vc(r.unaryFilter.field);return dr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return An()}}(o):void 0!==o.fieldFilter?dr.create(Vc((r=o).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return An()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==o.compositeFilter?function(r){return bi.create(r.compositeFilter.filters.map(s=>Np(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return An()}}(r.compositeFilter.op))}(o):An();var r}function ic(o){return xm[o]}function Ad(o){return Om[o]}function VI(o){return va[o]}function Va(o){return{fieldPath:o.canonicalString()}}function Vc(o){return Di.fromServerFormat(o.fieldPath)}function Vm(o){return o instanceof dr?function(r){if("=="===r.op){if(Hl(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NAN"}};if(Rc(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Hl(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NOT_NAN"}};if(Rc(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(r.field),op:Ad(r.op),value:r.value}}}(o):o instanceof bi?function(r){const s=r.getFilters().map(c=>Vm(c));return 1===s.length?s[0]:{compositeFilter:{op:VI(r.op),filters:s}}}(o):An()}function Bm(o){const e=[];return o.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function tv(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}class tl{constructor(e,r,s,c,d=tr.min(),p=tr.min(),w=ho.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=w,this.expectedCount=R}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nv{constructor(e){this.ct=e}}function $m(o,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Cu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ea(d=o.ct,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Al(d,p.version.toTimestamp()),createTime:Al(d,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:wu(e.version)};else{if(!e.isUnknownDocument())return An();s.unknownDocument={path:r.path.toArray(),version:wu(e.version)}}var d,p;return s}function Cu(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function wu(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bu(o){const e=new ri(o.seconds,o.nanoseconds);return tr.fromTimestamp(e)}function Rl(o,e){const r=(e.baseMutations||[]).map(d=>xp(o.ct,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>xp(o.ct,d)),c=ri.fromMillis(e.localWriteTimeMs);return new Dp(e.batchId,c,r,s)}function Sh(o){const e=bu(o.readTime),r=void 0!==o.lastLimboFreeSnapshotVersion?bu(o.lastLimboFreeSnapshotVersion):tr.min();let s;return s=void 0!==o.query.documents?(Nn(1===(d=o.query).documents.length),Ao(_o(Pp(d.documents[0])))):function(d){return Ao(Sl(d))}(o.query),new tl(s,o.targetId,"TargetPurposeListen",o.lastListenSequenceNumber,e,r,ho.fromBase64String(o.resumeToken));var d}function iv(o,e){const r=wu(e.snapshotVersion),s=wu(e.lastLimboFreeSnapshotVersion);let c;c=fu(e.target)?Lc(o.ct,e.target):Ts(o.ct,e.target).ut;const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tl(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function Um(o){const e=Sl({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?yu(e,e.limit,"L"):e}function jm(o,e){return new Iu(e.largestBatchId,xp(o.ct,e.overlayMutation))}function ov(o,e){const r=e.path.lastSegment();return[o,zo(e.path.popLast()),r]}function zm(o,e,r,s){return{indexId:o,uid:e,sequenceNumber:r,readTime:wu(s.readTime),documentKey:zo(s.documentKey.path),largestBatchId:s.largestBatchId}}class Rh{getBundleMetadata(e,r){return Sd(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:bu(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return Sd(e).put({bundleId:(c=r).id,createTime:wu(Eo(c.createTime)),version:c.version});var c}getNamedQuery(e,r){return Mh(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:Um(d.bundledQuery),readTime:bu(d.readTime)};var d})}saveNamedQuery(e,r){return Mh(e).put({name:(c=r).name,readTime:wu(Eo(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Sd(o){return bo(o,"bundles")}function Mh(o){return bo(o,"namedQueries")}class Rd{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Rd(e,r.uid||"")}getOverlay(e,r){return Au(e).get(ov(this.userId,r)).next(s=>s?jm(this.serializer,s):null)}getOverlays(e,r){const s=v();return vt.forEach(r,c=>this.getOverlay(e,c).next(d=>{null!==d&&s.set(c,d)})).next(()=>s)}saveOverlays(e,r,s){const c=[];return s.forEach((d,p)=>{const w=new Iu(r,p);c.push(this.ht(e,w))}),vt.waitFor(c)}removeOverlaysForBatchId(e,r,s){const c=new Set;r.forEach(p=>c.add(zo(p.getCollectionPath())));const d=[];return c.forEach(p=>{const w=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);d.push(Au(e).H("collectionPathOverlayIndex",w))}),vt.waitFor(d)}getOverlaysForCollection(e,r,s){const c=v(),d=zo(r),p=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Au(e).W("collectionPathOverlayIndex",p).next(w=>{for(const R of w){const L=jm(this.serializer,R);c.set(L.getKey(),L)}return c})}getOverlaysForCollectionGroup(e,r,s,c){const d=v();let p;const w=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Au(e).Y({index:"collectionGroupOverlayIndex",range:w},(R,L,X)=>{const De=jm(this.serializer,L);d.size()<c||De.largestBatchId===p?(d.set(De.getKey(),De),p=De.largestBatchId):X.done()}).next(()=>d)}ht(e,r){return Au(e).put(function(c,d,p){const[w,R,L]=ov(d,p.mutation.key);return{userId:d,collectionPath:R,documentId:L,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:bd(c.ct,p.mutation)}}(this.serializer,this.userId,r))}}function Au(o){return bo(o,"documentOverlays")}class Ba{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Pi(e.integerValue));else if("doubleValue"in e){const s=Pi(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),fl(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(r,20),"string"==typeof s?r.At(s):(r.At(`${s.seconds||""}`),r.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ws(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Gl(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):An()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const c of Object.keys(s))this.Rt(c,r),this.It(s[c],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const c of s)this.It(c,r)}gt(e,r){this.Et(r,37),pn.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function sv(o){if(0===o)return 8;let e=0;return!(o>>4)&&(e+=4,o<<=4),!(o>>6)&&(e+=2,o<<=2),!(o>>7)&&(e+=1),e}function kp(o){const e=64-function(s){let c=0;for(let d=0;d<8;++d){const p=sv(255&s[d]);if(c+=p,8!==p)break}return c}(o);return Math.ceil(e/8)}Ba.bt=new Ba;class Hm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const c=r.codePointAt(0);this.Ct(240|c>>>18),this.Ct(128|63&c>>>12),this.Ct(128|63&c>>>6),this.Ct(128|63&c)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const c=r.codePointAt(0);this.Mt(240|c>>>18),this.Mt(128|63&c>>>12),this.Mt(128|63&c>>>6),this.Mt(128|63&c)}}this.xt()}Bt(e){const r=this.Lt(e),s=kp(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let c=r.length-s;c<r.length;++c)this.buffer[this.position++]=255&r[c]}qt(e){const r=this.Lt(e),s=kp(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let c=r.length-s;c<r.length;++c)this.buffer[this.position++]=~(255&r[c])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const r=function(d){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,d,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let c=1;c<r.length;++c)r[c]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class Ph{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class xh{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class oc{constructor(){this.Gt=new Hm,this.zt=new Ph(this.Gt),this.jt=new xh(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Bc{constructor(e,r,s,c){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=c}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Bc(this.indexId,this.documentKey,this.arrayValue,s)}}function sc(o,e){let r=o.indexId-e.indexId;return 0!==r?r:(r=Gm(o.arrayValue,e.arrayValue),0!==r?r:(r=Gm(o.directionalValue,e.directionalValue),0!==r?r:pn.comparator(o.documentKey,e.documentKey)))}function Gm(o,e){for(let r=0;r<o.length&&r<e.length;++r){const s=o[r]-e[r];if(0!==s)return s}return o.length-e.length}class Fp{constructor(e){this.Yt=new Mi((r,s)=>Di.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Nn(e.collectionGroup===this.collectionId),this.en)return!1;const r=su(e);if(void 0!==r&&!this.nn(r))return!1;const s=ks(e);let c=new Set,d=0,p=0;for(;d<s.length&&this.nn(s[d]);++d)c=c.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Yt.size>0){const w=this.Yt.getIterator().getNext();if(!c.has(w.field.canonicalString())){const R=s[d];if(!this.rn(w,R)||!this.sn(this.Zt[p++],R))return!1}++d}for(;d<s.length;++d)if(p>=this.Zt.length||!this.sn(this.Zt[p++],s[d]))return!1;return!0}on(){if(this.en)return null;let e=new Mi(Di.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Es(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Es(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Es(s.field,"asc"===s.dir?0:1)));return new oa(oa.UNKNOWN_ID,this.collectionId,r,jo.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Oh(o){var e,r;if(Nn(o instanceof dr||o instanceof bi),o instanceof dr){if(o instanceof yp){const c=(null===(r=null===(e=o.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>dr.create(o.field,"==",d)))||[];return bi.create(c,"or")}return o}const s=o.filters.map(c=>Oh(c));return bi.create(s,o.op)}function av(o){if(0===o.getFilters().length)return[];const e=$p(Oh(o));return Nn(Bp(e)),Lp(e)||Vp(e)?[e]:e.getFilters()}function Lp(o){return o instanceof dr}function Vp(o){return o instanceof bi&&hd(o)}function Bp(o){return Lp(o)||Vp(o)||function(r){if(r instanceof bi&&Yl(r)){for(const s of r.getFilters())if(!Lp(s)&&!Vp(s))return!1;return!0}return!1}(o)}function $p(o){if(Nn(o instanceof dr||o instanceof bi),o instanceof dr)return o;if(1===o.filters.length)return $p(o.filters[0]);const e=o.filters.map(s=>$p(s));let r=bi.create(e,o.op);return r=Su(r),Bp(r)?r:(Nn(r instanceof bi),Nn(_l(r)),Nn(r.filters.length>1),r.filters.reduce((s,c)=>Up(s,c)))}function Up(o,e){let r;return Nn(o instanceof dr||o instanceof bi),Nn(e instanceof dr||e instanceof bi),r=o instanceof dr?e instanceof dr?bi.create([o,e],"and"):Ds(o,e):e instanceof dr?Ds(e,o):function(c,d){if(Nn(c.filters.length>0&&d.filters.length>0),_l(c)&&_l(d))return El(c,d.getFilters());const p=Yl(c)?c:d,w=Yl(c)?d:c,R=p.filters.map(L=>Up(L,w));return bi.create(R,"or")}(o,e),Su(r)}function Ds(o,e){if(_l(e))return El(e,o.getFilters());{const r=e.filters.map(s=>Up(o,s));return bi.create(r,"or")}}function Su(o){if(Nn(o instanceof dr||o instanceof bi),o instanceof dr)return o;const e=o.getFilters();if(1===e.length)return Su(e[0]);if(Kl(o))return o;const r=e.map(c=>Su(c)),s=[];return r.forEach(c=>{c instanceof dr?s.push(c):c instanceof bi&&(c.op===o.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:bi.create(s,o.op)}class Wm{constructor(){this._n=new Md}addToCollectionParentIndex(e,r){return this._n.add(r),vt.resolve()}getCollectionParents(e,r){return vt.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return vt.resolve()}deleteFieldIndex(e,r){return vt.resolve()}deleteAllFieldIndexes(e){return vt.resolve()}createTargetIndexes(e,r){return vt.resolve()}getDocumentsMatchingTarget(e,r){return vt.resolve(null)}getIndexType(e,r){return vt.resolve(0)}getFieldIndexes(e,r){return vt.resolve([])}getNextCollectionGroupToUpdate(e){return vt.resolve(null)}getMinOffset(e,r){return vt.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,r){return vt.resolve(Xo.min())}updateCollectionGroup(e,r,s){return vt.resolve()}updateIndexEntries(e,r){return vt.resolve()}}class Md{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),c=this.index[r]||new Mi(Wr.comparator),d=!c.has(s);return this.index[r]=c.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),c=this.index[r];return c&&c.has(s)}getEntries(e){return(this.index[e]||new Mi(Wr.comparator)).toArray()}}const No=new Uint8Array(0);class Pd{constructor(e,r){this.databaseId=r,this.an=new Md,this.un=new Fa(s=>Tl(s),(s,c)=>ga(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),c=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const d={collectionId:s,parent:zo(c)};return jp(e).put(d)}return vt.resolve()}getCollectionParents(e,r){const s=[],c=IDBKeyRange.bound([r,""],[zs(r),""],!1,!0);return jp(e).W(c).next(d=>{for(const p of d){if(p.collectionId!==r)break;s.push(_(p.parent))}return s})}addFieldIndex(e,r){const s=xd(e),c={indexId:(w=r).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var w;delete c.indexId;const d=s.add(c);if(r.indexState){const p=Uc(e);return d.next(w=>{p.put(zm(w,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=xd(e),c=Uc(e),d=$c(e);return s.delete(r.indexId).next(()=>c.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=xd(e),s=$c(e),c=Uc(e);return r.H().next(()=>s.H()).next(()=>c.H())}createTargetIndexes(e,r){return vt.forEach(this.cn(r),s=>this.getIndexType(e,s).next(c=>{if(0===c||1===c){const d=new Fp(s).on();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=$c(e);let c=!0;const d=new Map;return vt.forEach(this.cn(r),p=>this.ln(e,p).next(w=>{c&&(c=!!w),d.set(p,w)})).next(()=>{if(c){let p=Q();const w=[];return vt.forEach(d,(R,L)=>{var gr;Ht("IndexedDbIndexManager",`Using index ${gr=R,`id=${gr.indexId}|cg=${gr.collectionGroup}|f=${gr.fields.map(jr=>`${jr.fieldPath}:${jr.kind}`).join(",")}`} to execute ${Tl(r)}`);const X=function(gr,jr){const Bi=su(jr);if(void 0===Bi)return null;for(const ki of pu(gr,Bi.fieldPath))switch(ki.op){case"array-contains-any":return ki.value.arrayValue.values||[];case"array-contains":return[ki.value]}return null}(L,R),De=function(gr,jr){const Bi=new Map;for(const ki of ks(jr))for(const Lo of pu(gr,ki.fieldPath))switch(Lo.op){case"==":case"in":Bi.set(ki.fieldPath.canonicalString(),Lo.value);break;case"not-in":case"!=":return Bi.set(ki.fieldPath.canonicalString(),Lo.value),Array.from(Bi.values())}return null}(L,R),et=function(gr,jr){const Bi=[];let ki=!0;for(const Lo of ks(jr)){const wa=0===Lo.kind?fo(gr,Lo.fieldPath,gr.startAt):Eh(gr,Lo.fieldPath,gr.startAt);Bi.push(wa.value),ki&&(ki=wa.inclusive)}return new ds(Bi,ki)}(L,R),Dt=function(gr,jr){const Bi=[];let ki=!0;for(const Lo of ks(jr)){const wa=0===Lo.kind?Eh(gr,Lo.fieldPath,gr.endAt):fo(gr,Lo.fieldPath,gr.endAt);Bi.push(wa.value),ki&&(ki=wa.inclusive)}return new ds(Bi,ki)}(L,R),hn=this.hn(R,L,et),Sn=this.hn(R,L,Dt),En=this.Pn(R,L,De),pr=this.In(R.indexId,X,hn,et.inclusive,Sn,Dt.inclusive,En);return vt.forEach(pr,Or=>s.j(Or,r.limit).next(gr=>{gr.forEach(jr=>{const Bi=pn.fromSegments(jr.documentKey);p.has(Bi)||(p=p.add(Bi),w.push(Bi))})}))}).next(()=>w)}return vt.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:av(bi.create(e.filters,"and")).map(s=>vh(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,c,d,p,w){const R=(null!=r?r.length:1)*Math.max(s.length,d.length),L=R/(null!=r?r.length:1),X=[];for(let De=0;De<R;++De){const et=r?this.Tn(r[De/L]):No,Dt=this.En(e,et,s[De%L],c),hn=this.dn(e,et,d[De%L],p),Sn=w.map(En=>this.En(e,et,En,!0));X.push(...this.createRange(Dt,hn,Sn))}return X}En(e,r,s,c){const d=new Bc(e,pn.empty(),r,s);return c?d:d.Jt()}dn(e,r,s,c){const d=new Bc(e,pn.empty(),r,s);return c?d.Jt():d}ln(e,r){const s=new Fp(r),c=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,c).next(d=>{let p=null;for(const w of d)s.tn(w)&&(!p||w.fields.length>p.fields.length)&&(p=w);return p})}getIndexType(e,r){let s=2;const c=this.cn(r);return vt.forEach(c,d=>this.ln(e,d).next(p=>{p?0!==s&&p.fields.length<function(R){let L=new Mi(Di.comparator),X=!1;for(const De of R.filters)for(const et of De.getFlattenedFilters())et.field.isKeyField()||("array-contains"===et.op||"array-contains-any"===et.op?X=!0:L=L.add(et.field));for(const De of R.orderBy)De.field.isKeyField()||(L=L.add(De.field));return L.size+(X?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&c.length>1&&2===s?1:s)}An(e,r){const s=new oc;for(const c of ks(e)){const d=r.data.field(c.fieldPath);if(null==d)return null;const p=s.Ht(c.kind);Ba.bt.Pt(d,p)}return s.Wt()}Tn(e){const r=new oc;return Ba.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new oc;return Ba.bt.Pt(ml(this.databaseId,r),s.Ht(function(d){const p=ks(d);return 0===p.length?0:p[p.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let c=[];c.push(new oc);let d=0;for(const p of ks(e)){const w=s[d++];for(const R of c)if(this.Vn(r,p.fieldPath)&&Sc(w))c=this.mn(c,p,w);else{const L=R.Ht(p.kind);Ba.bt.Pt(w,L)}}return this.fn(c)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const c=[...e],d=[];for(const p of s.arrayValue.values||[])for(const w of c){const R=new oc;R.seed(w.Wt()),Ba.bt.Pt(p,R.Ht(r.kind)),d.push(R)}return d}Vn(e,r){return!!e.filters.find(s=>s instanceof dr&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=xd(e),c=Uc(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const p=[];return vt.forEach(d,w=>c.get([w.indexId,this.uid]).next(R=>{p.push(function(X,De){const et=De?new jo(De.sequenceNumber,new Xo(bu(De.readTime),new pn(_(De.documentKey)),De.largestBatchId)):jo.empty(),Dt=X.fields.map(([hn,Sn])=>new Es(Di.fromServerFormat(hn),Sn));return new oa(X.indexId,X.collectionGroup,Dt,et)}(w,R))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,c)=>{const d=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==d?d:Tr(s.collectionGroup,c.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const c=xd(e),d=Uc(e);return this.gn(e).next(p=>c.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(w=>vt.forEach(w,R=>d.put(zm(R.indexId,this.uid,p,s)))))}updateIndexEntries(e,r){const s=new Map;return vt.forEach(r,(c,d)=>{const p=s.get(c.collectionGroup);return(p?vt.resolve(p):this.getFieldIndexes(e,c.collectionGroup)).next(w=>(s.set(c.collectionGroup,w),vt.forEach(w,R=>this.pn(e,c,R).next(L=>{const X=this.yn(d,R);return L.isEqual(X)?vt.resolve():this.wn(e,d,R,L,X)}))))})}Sn(e,r,s,c){return $c(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,c){return $c(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const c=$c(e);let d=new Mi(sc);return c.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(p,w)=>{d=d.add(new Bc(s.indexId,r,w.arrayValue,w.directionalValue))}).next(()=>d)}yn(e,r){let s=new Mi(sc);const c=this.An(r,e);if(null==c)return s;const d=su(r);if(null!=d){const p=e.data.field(d.fieldPath);if(Sc(p))for(const w of p.arrayValue.values||[])s=s.add(new Bc(r.indexId,e.key,this.Tn(w),c))}else s=s.add(new Bc(r.indexId,e.key,No,c));return s}wn(e,r,s,c,d){Ht("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const p=[];return function(R,L,X,De,et){const Dt=R.getIterator(),hn=L.getIterator();let Sn=ha(Dt),En=ha(hn);for(;Sn||En;){let pr=!1,Or=!1;if(Sn&&En){const gr=X(Sn,En);gr<0?Or=!0:gr>0&&(pr=!0)}else null!=Sn?Or=!0:pr=!0;pr?(De(En),En=ha(hn)):Or?(et(Sn),Sn=ha(Dt)):(Sn=ha(Dt),En=ha(hn))}}(c,d,sc,w=>{p.push(this.Sn(e,r,s,w))},w=>{p.push(this.bn(e,r,s,w))}),vt.waitFor(p)}gn(e){let r=1;return Uc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,d)=>{d.done(),r=c.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((p,w)=>sc(p,w)).filter((p,w,R)=>!w||0!==sc(p,R[w-1]));const c=[];c.push(e);for(const p of s){const w=sc(p,e),R=sc(p,r);if(0===w)c[0]=e.Jt();else if(w>0&&R<0)c.push(p),c.push(p.Jt());else if(R>0)break}c.push(r);const d=[];for(let p=0;p<c.length;p+=2){if(this.Dn(c[p],c[p+1]))return[];d.push(IDBKeyRange.bound([c[p].indexId,this.uid,c[p].arrayValue,c[p].directionalValue,No,[]],[c[p+1].indexId,this.uid,c[p+1].arrayValue,c[p+1].directionalValue,No,[]]))}return d}Dn(e,r){return sc(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(qm)}getMinOffset(e,r){return vt.mapArray(this.cn(r),s=>this.ln(e,s).next(c=>c||An())).next(qm)}}function jp(o){return bo(o,"collectionParents")}function $c(o){return bo(o,"indexEntries")}function xd(o){return bo(o,"indexConfiguration")}function Uc(o){return bo(o,"indexState")}function qm(o){Nn(0!==o.length);let e=o[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<o.length;s++){const c=o[s].indexState.offset;Bl(c,e)<0&&(e=c),r<c.largestBatchId&&(r=c.largestBatchId)}return new Xo(e.readTime,e.documentKey,r)}const zp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fs{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hp(o,e,r){const s=o.store("mutations"),c=o.store("documentMutations"),d=[],p=IDBKeyRange.only(r.batchId);let w=0;const R=s.Y({range:p},(X,De,et)=>(w++,et.delete()));d.push(R.next(()=>{Nn(1===w)}));const L=[];for(const X of r.mutations){const De=A(e,X.key.path,r.batchId);d.push(c.delete(De)),L.push(X.key)}return vt.waitFor(d).next(()=>L)}function Nh(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw An();e=o.noDocument}return JSON.stringify(e).length}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class kh{constructor(e,r,s,c){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=c,this.Cn={}}static lt(e,r,s,c){Nn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new kh(d,r,s,c)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).Y({index:"userMutationsIndex",range:s},(c,d,p)=>{r=!1,p.done()}).next(()=>r)}addMutationBatch(e,r,s,c){const d=Ru(e),p=nl(e);return p.add({}).next(w=>{Nn("number"==typeof w);const R=new Dp(w,r,s,c),L=function(Dt,hn,Sn){const En=Sn.baseMutations.map(Or=>bd(Dt.ct,Or)),pr=Sn.mutations.map(Or=>bd(Dt.ct,Or));return{userId:hn,batchId:Sn.batchId,localWriteTimeMs:Sn.localWriteTime.toMillis(),baseMutations:En,mutations:pr}}(this.serializer,this.userId,R),X=[];let De=new Mi((et,Dt)=>Tr(et.canonicalString(),Dt.canonicalString()));for(const et of c){const Dt=A(this.userId,et.key.path,w);De=De.add(et.key.path.popLast()),X.push(p.put(L)),X.push(d.put(Dt,B))}return De.forEach(et=>{X.push(this.indexManager.addToCollectionParentIndex(e,et))}),e.addOnCommittedListener(()=>{this.Cn[w]=R.keys()}),vt.waitFor(X).next(()=>R)})}lookupMutationBatch(e,r){return nl(e).get(r).next(s=>s?(Nn(s.userId===this.userId),Rl(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?vt.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const c=s.keys();return this.Cn[r]=c,c}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,c=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return nl(e).Y({index:"userMutationsIndex",range:c},(p,w,R)=>{w.userId===this.userId&&(Nn(w.batchId>=s),d=Rl(this.serializer,w)),R.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return nl(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(c,d,p)=>{s=d.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).W("userMutationsIndex",r).next(s=>s.map(c=>Rl(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=E(this.userId,r.path),c=IDBKeyRange.lowerBound(s),d=[];return Ru(e).Y({range:c},(p,w,R)=>{const[L,X,De]=p,et=_(X);if(L===this.userId&&r.path.isEqual(et))return nl(e).get(De).next(Dt=>{if(!Dt)throw An();Nn(Dt.userId===this.userId),d.push(Rl(this.serializer,Dt))});R.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Mi(Tr);const c=[];return r.forEach(d=>{const p=E(this.userId,d.path),w=IDBKeyRange.lowerBound(p),R=Ru(e).Y({range:w},(L,X,De)=>{const[et,Dt,hn]=L,Sn=_(Dt);et===this.userId&&d.path.isEqual(Sn)?s=s.add(hn):De.done()});c.push(R)}),vt.waitFor(c).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,c=s.length+1,d=E(this.userId,s),p=IDBKeyRange.lowerBound(d);let w=new Mi(Tr);return Ru(e).Y({range:p},(R,L,X)=>{const[De,et,Dt]=R,hn=_(et);De===this.userId&&s.isPrefixOf(hn)?hn.length===c&&(w=w.add(Dt)):X.done()}).next(()=>this.Fn(e,w))}Fn(e,r){const s=[],c=[];return r.forEach(d=>{c.push(nl(e).get(d).next(p=>{if(null===p)throw An();Nn(p.userId===this.userId),s.push(Rl(this.serializer,p))}))}),vt.waitFor(c).next(()=>s)}removeMutationBatch(e,r){return Hp(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),vt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return vt.resolve();const s=IDBKeyRange.lowerBound(function(p){return[p]}(this.userId)),c=[];return Ru(e).Y({range:s},(d,p,w)=>{if(d[0]===this.userId){const R=_(d[1]);c.push(R)}else w.done()}).next(()=>{Nn(0===c.length)})})}containsKey(e,r){return Fh(e,this.userId,r)}xn(e){return jc(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fh(o,e,r){const s=E(e,r.path),c=s[1],d=IDBKeyRange.lowerBound(s);let p=!1;return Ru(o).Y({range:d,J:!0},(w,R,L)=>{const[X,De,et]=w;X===e&&De===c&&(p=!0),L.done()}).next(()=>p)}function nl(o){return bo(o,"mutations")}function Ru(o){return bo(o,"documentMutations")}function jc(o){return bo(o,"mutationQueues")}class rl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new rl(0)}static Bn(){return new rl(-1)}}class Ym{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Ln(e).next(r=>{const s=new rl(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(r=>tr.fromTimestamp(new ri(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Ln(e).next(c=>(c.highestListenSequenceNumber=r,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.kn(e,c)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Ln(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>ac(e).delete(r.targetId)).next(()=>this.Ln(e)).next(s=>(Nn(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let c=0;const d=[];return ac(e).Y((p,w)=>{const R=Sh(w);R.sequenceNumber<=r&&null===s.get(R.targetId)&&(c++,d.push(this.removeTargetData(e,R)))}).next(()=>vt.waitFor(d)).next(()=>c)}forEachTarget(e,r){return ac(e).Y((s,c)=>{const d=Sh(c);r(d)})}Ln(e){return Od(e).get("targetGlobalKey").next(r=>(Nn(null!==r),r))}kn(e,r){return Od(e).put("targetGlobalKey",r)}qn(e,r){return ac(e).put(iv(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ln(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Tl(r),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return ac(e).Y({range:c,index:"queryTargetsIndex"},(p,w,R)=>{const L=Sh(w);ga(r,L.target)&&(d=L,R.done())}).next(()=>d)}addMatchingKeys(e,r,s){const c=[],d=lc(e);return r.forEach(p=>{const w=zo(p.path);c.push(d.put({targetId:s,path:w})),c.push(this.referenceDelegate.addReference(e,s,p))}),vt.waitFor(c)}removeMatchingKeys(e,r,s){const c=lc(e);return vt.forEach(r,d=>{const p=zo(d.path);return vt.waitFor([c.delete([s,p]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=lc(e),c=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),c=lc(e);let d=Q();return c.Y({range:s,J:!0},(p,w,R)=>{const L=_(p[1]),X=new pn(L);d=d.add(X)}).next(()=>d)}containsKey(e,r){const s=zo(r.path),c=IDBKeyRange.bound([s],[zs(s)],!1,!0);let d=0;return lc(e).Y({index:"documentTargetsIndex",J:!0,range:c},([p,w],R,L)=>{0!==p&&(d++,L.done())}).next(()=>d>0)}_t(e,r){return ac(e).get(r).next(s=>s?Sh(s):null)}}function ac(o){return bo(o,"targets")}function Od(o){return bo(o,"targetGlobal")}function lc(o){return bo(o,"targetDocuments")}function Km([o,e],[r,s]){const c=Tr(o,r);return 0===c?Tr(e,s):c}class Zm{constructor(e){this.Kn=e,this.buffer=new Mi(Km),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Km(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Xm{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Ht("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Bt(s)?Ht("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield aa(s)}yield r.zn(3e5)}))}}class lv{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return vt.resolve(Gi._e);const s=new Zm(r);return this.jn.forEachTarget(e,c=>s.Wn(c.sequenceNumber)).next(()=>this.jn.Jn(e,c=>s.Wn(c))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ht("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(zp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zp):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,c,d,p,w,R,L;const X=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(De=>(De>this.params.maximumSequenceNumbersToCollect?(Ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${De}`),c=this.params.maximumSequenceNumbersToCollect):c=De,p=Date.now(),this.nthSequenceNumber(e,c))).next(De=>(s=De,w=Date.now(),this.removeTargets(e,s,r))).next(De=>(d=De,R=Date.now(),this.removeOrphanedDocuments(e,s))).next(De=>(L=Date.now(),xi()<=le.in.DEBUG&&Ht("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-X}ms\n\tDetermined least recently used ${c} in `+(w-p)+`ms\n\tRemoved ${d} targets in `+(R-w)+`ms\n\tRemoved ${De} documents in `+(L-R)+`ms\nTotal Duration: ${L-X}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:De})))}}class Jm{constructor(e,r){this.db=e,this.garbageCollector=function Qm(o,e){return new lv(o,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(c=>s+c))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,c)=>r(c))}addReference(e,r,s){return cc(e,s)}removeReference(e,r,s){return cc(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return cc(e,r)}er(e,r){return function(c,d){let p=!1;return jc(c).Z(w=>Fh(c,w,d).next(R=>(R&&(p=!0),vt.resolve(!R)))).next(()=>p)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let d=0;return this.Xn(e,(p,w)=>{if(w<=r){const R=this.er(e,p).next(L=>{if(!L)return d++,s.getEntry(e,p).next(()=>(s.removeEntry(p,tr.min()),lc(e).delete([0,zo(p.path)])))});c.push(R)}}).next(()=>vt.waitFor(c)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return cc(e,r)}Xn(e,r){const s=lc(e);let c,d=Gi._e;return s.Y({index:"documentTargetsIndex"},([p,w],{path:R,sequenceNumber:L})=>{0===p?(d!==Gi._e&&r(new pn(_(c)),d),d=L,c=R):d=Gi._e}).next(()=>{d!==Gi._e&&r(new pn(_(c)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cc(o,e){return lc(o).put((c=o.currentSequenceNumber,{targetId:0,path:zo(e.path),sequenceNumber:c}));var c}class Nd{constructor(){this.changes=new Fa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?vt.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return uc(e).put(s)}removeEntry(e,r,s){return uc(e).delete(function(d,p){const w=d.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],Cu(p),w[w.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=wi.newInvalidDocument(r);return uc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only($a(r))},(c,d)=>{s=this.nr(r,d)}).next(()=>s)}rr(e,r){let s={size:0,document:wi.newInvalidDocument(r)};return uc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only($a(r))},(c,d)=>{s={document:this.nr(r,d),size:Nh(d)}}).next(()=>s)}getEntries(e,r){let s=hs();return this.ir(e,r,(c,d)=>{const p=this.nr(c,d);s=s.insert(c,p)}).next(()=>s)}sr(e,r){let s=hs(),c=new Ci(pn.comparator);return this.ir(e,r,(d,p)=>{const w=this.nr(d,p);s=s.insert(d,w),c=c.insert(d,Nh(p))}).next(()=>({documents:s,_r:c}))}ir(e,r,s){if(r.isEmpty())return vt.resolve();let c=new Mi(qp);r.forEach(R=>c=c.add(R));const d=IDBKeyRange.bound($a(c.first()),$a(c.last())),p=c.getIterator();let w=p.getNext();return uc(e).Y({index:"documentKeyIndex",range:d},(R,L,X)=>{const De=pn.fromSegments([...L.prefixPath,L.collectionGroup,L.documentId]);for(;w&&qp(w,De)<0;)s(w,null),w=p.getNext();w&&w.isEqual(De)&&(s(w,L),w=p.hasNext()?p.getNext():null),w?X.U($a(w)):X.done()}).next(()=>{for(;w;)s(w,null),w=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,r,s,c,d){const p=r.path,w=[p.popLast().toArray(),p.lastSegment(),Cu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uc(e).W(IDBKeyRange.bound(w,R,!0)).next(L=>{d?.incrementDocumentReadCount(L.length);let X=hs();for(const De of L){const et=this.nr(pn.fromSegments(De.prefixPath.concat(De.collectionGroup,De.documentId)),De);et.isFoundDocument()&&(Zs(r,et)||c.has(et.key))&&(X=X.insert(et.key,et))}return X})}getAllFromCollectionGroup(e,r,s,c){let d=hs();const p=Wp(r,s),w=Wp(r,Xo.max());return uc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,w,!0)},(R,L,X)=>{const De=this.nr(pn.fromSegments(L.prefixPath.concat(L.collectionGroup,L.documentId)),L);d=d.insert(De.key,De),d.size===c&&X.done()}).next(()=>d)}newChangeBuffer(e){return new cv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Lh(e).get("remoteDocumentGlobalKey").next(r=>(Nn(!!r),r))}tr(e,r){return Lh(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function rv(o,e){let r;if(e.document)r=Fm(o.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=pn.fromSegments(e.noDocument.path),c=bu(e.noDocument.readTime);r=wi.newNoDocument(s,c),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return An();{const s=pn.fromSegments(e.unknownDocument.path),c=bu(e.unknownDocument.version);r=wi.newUnknownDocument(s,c)}}return e.readTime&&r.setReadTime(function(c){const d=new ri(c[0],c[1]);return tr.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(tr.min()))return s}return wi.newInvalidDocument(e)}}function ey(o){return new Gp(o)}class cv extends Nd{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Fa(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const r=[];let s=0,c=new Mi((d,p)=>Tr(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const w=this.ur.get(d);if(r.push(this.ar.removeEntry(e,d,w.readTime)),p.isValidDocument()){const R=$m(this.ar.serializer,p);c=c.add(d.path.popLast());const L=Nh(R);s+=L-w.size,r.push(this.ar.addEntry(e,d,R))}else if(s-=w.size,this.trackRemovals){const R=$m(this.ar.serializer,p.convertToNoDocument(tr.min()));r.push(this.ar.addEntry(e,d,R))}}),c.forEach(d=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,d))}),r.push(this.ar.updateMetadata(e,s)),vt.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:c})=>(c.forEach((d,p)=>{this.ur.set(d,{size:p,readTime:s.get(d).readTime})}),s))}}function Lh(o){return bo(o,"remoteDocumentGlobal")}function uc(o){return bo(o,"remoteDocumentsV14")}function $a(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Wp(o,e){const r=e.documentKey.path.toArray();return[o,Cu(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function qp(o,e){const r=o.path.toArray(),s=e.path.toArray();let c=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(c=Tr(r[d],s[d]),c)return c;return c=Tr(r.length,s.length),c||(c=Tr(r[r.length-2],s[s.length-2]),c||Tr(r[r.length-1],s[s.length-1]))}class uv{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class dv{constructor(e,r,s,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,r))).next(c=>(null!==s&&wh(s.mutation,c,Oo.empty(),ri.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,Q()).next(()=>s))}getLocalViewOfDocuments(e,r,s=Q()){const c=v();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,s).next(d=>{let p=Nc();return d.forEach((w,R)=>{p=p.insert(w,R.overlayedDocument)}),p}))}getOverlayedDocuments(e,r){const s=v();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,Q()))}populateOverlays(e,r,s){const c=[];return s.forEach(d=>{r.has(d)||c.push(d)}),this.documentOverlayCache.getOverlays(e,c).next(d=>{d.forEach((p,w)=>{r.set(p,w)})})}computeViews(e,r,s,c){let d=hs();const p=m(),w=m();return r.forEach((R,L)=>{const X=s.get(L.key);c.has(L.key)&&(void 0===X||X.mutation instanceof Qa)?d=d.insert(L.key,L):void 0!==X?(p.set(L.key,X.mutation.getFieldMask()),wh(X.mutation,L,X.mutation.getFieldMask(),ri.now())):p.set(L.key,Oo.empty())}),this.recalculateAndSaveOverlays(e,d).next(R=>(R.forEach((L,X)=>p.set(L,X)),r.forEach((L,X)=>{var De;return w.set(L,new uv(X,null!==(De=p.get(L))&&void 0!==De?De:null))}),w))}recalculateAndSaveOverlays(e,r){const s=m();let c=new Ci((p,w)=>p-w),d=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(p=>{for(const w of p)w.keys().forEach(R=>{const L=r.get(R);if(null===L)return;let X=s.get(R)||Oo.empty();X=w.applyToLocalView(L,X),s.set(R,X);const De=(c.get(w.batchId)||Q()).add(R);c=c.insert(w.batchId,De)})}).next(()=>{const p=[],w=c.getReverseIterator();for(;w.hasNext();){const R=w.getNext(),L=R.key,X=R.value,De=f();X.forEach(et=>{if(!d.has(et)){const Dt=Ep(r.get(et),s.get(et));null!==Dt&&De.set(et,Dt),d=d.add(et)}}),p.push(this.documentOverlayCache.saveOverlays(e,L,De))}return vt.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,c){return pn.isDocumentKey((p=r).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):mu(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,c):this.getDocumentsMatchingCollectionQuery(e,r,s,c);var p}getNextDocuments(e,r,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,c).next(d=>{const p=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,c-d.size):vt.resolve(v());let w=-1,R=d;return p.next(L=>vt.forEach(L,(X,De)=>(w<De.largestBatchId&&(w=De.largestBatchId),d.get(X)?vt.resolve():this.remoteDocumentCache.getEntry(e,X).next(et=>{R=R.insert(X,et)}))).next(()=>this.populateOverlays(e,L,d)).next(()=>this.computeViews(e,R,L,Q())).next(X=>({batchId:w,changes:_u(X)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new pn(r)).next(s=>{let c=Nc();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,s,c){const d=r.collectionGroup;let p=Nc();return this.indexManager.getCollectionParents(e,d).next(w=>vt.forEach(w,R=>{const L=(De=r,et=R.child(d),new Qo(et,null,De.explicitOrderBy.slice(),De.filters.slice(),De.limit,De.limitType,De.startAt,De.endAt));var De,et;return this.getDocumentsMatchingCollectionQuery(e,L,s,c).next(X=>{X.forEach((De,et)=>{p=p.insert(De,et)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,s,c){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(p=>(d=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,c))).next(p=>{d.forEach((R,L)=>{const X=L.getKey();null===p.get(X)&&(p=p.insert(X,wi.newInvalidDocument(X)))});let w=Nc();return p.forEach((R,L)=>{const X=d.get(R);void 0!==X&&wh(X.mutation,L,Oo.empty(),ri.now()),Zs(r,L)&&(w=w.insert(R,L))}),w})}}class Vh{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return vt.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(c=r).id,version:c.version,createTime:Eo(c.createTime)}),vt.resolve();var c}getNamedQuery(e,r){return vt.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(c=r).name,query:Um(c.bundledQuery),readTime:Eo(c.readTime)}),vt.resolve();var c}}class hv{constructor(){this.overlays=new Ci(pn.comparator),this.hr=new Map}getOverlay(e,r){return vt.resolve(this.overlays.get(r))}getOverlays(e,r){const s=v();return vt.forEach(r,c=>this.getOverlay(e,c).next(d=>{null!==d&&s.set(c,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((c,d)=>{this.ht(e,r,d)}),vt.resolve()}removeOverlaysForBatchId(e,r,s){const c=this.hr.get(s);return void 0!==c&&(c.forEach(d=>this.overlays=this.overlays.remove(d)),this.hr.delete(s)),vt.resolve()}getOverlaysForCollection(e,r,s){const c=v(),d=r.length+1,p=new pn(r.child("")),w=this.overlays.getIteratorFrom(p);for(;w.hasNext();){const R=w.getNext().value,L=R.getKey();if(!r.isPrefixOf(L.path))break;L.path.length===d&&R.largestBatchId>s&&c.set(R.getKey(),R)}return vt.resolve(c)}getOverlaysForCollectionGroup(e,r,s,c){let d=new Ci((L,X)=>L-X);const p=this.overlays.getIterator();for(;p.hasNext();){const L=p.getNext().value;if(L.getKey().getCollectionGroup()===r&&L.largestBatchId>s){let X=d.get(L.largestBatchId);null===X&&(X=v(),d=d.insert(L.largestBatchId,X)),X.set(L.getKey(),L)}}const w=v(),R=d.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((L,X)=>w.set(L,X)),!(w.size()>=c)););return vt.resolve(w)}ht(e,r,s){const c=this.overlays.get(s.key);if(null!==c){const p=this.hr.get(c.largestBatchId).delete(s.key);this.hr.set(c.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Iu(r,s));let d=this.hr.get(r);void 0===d&&(d=Q(),this.hr.set(r,d)),this.hr.set(r,d.add(s.key))}}class Bh{constructor(){this.Pr=new Mi(ko.Ir),this.Tr=new Mi(ko.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new ko(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new ko(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new pn(new Wr([])),s=new ko(r,e),c=new ko(r,e+1),d=[];return this.Tr.forEachInRange([s,c],p=>{this.Ar(p),d.push(p.key)}),d}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new pn(new Wr([])),s=new ko(r,e),c=new ko(r,e+1);let d=Q();return this.Tr.forEachInRange([s,c],p=>{d=d.add(p.key)}),d}containsKey(e){const r=new ko(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class ko{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return pn.comparator(e.key,r.key)||Tr(e.pr,r.pr)}static Er(e,r){return Tr(e.pr,r.pr)||pn.comparator(e.key,r.key)}}class ty{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Mi(ko.Ir)}checkEmpty(e){return vt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,c){const d=this.yr;this.yr++;const p=new Dp(d,r,s,c);this.mutationQueue.push(p);for(const w of c)this.wr=this.wr.add(new ko(w.key,d)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return vt.resolve(p)}lookupMutationBatch(e,r){return vt.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.br(r+1),d=c<0?0:c;return vt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new ko(r,0),c=new ko(r,Number.POSITIVE_INFINITY),d=[];return this.wr.forEachInRange([s,c],p=>{const w=this.Sr(p.pr);d.push(w)}),vt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Mi(Tr);return r.forEach(c=>{const d=new ko(c,0),p=new ko(c,Number.POSITIVE_INFINITY);this.wr.forEachInRange([d,p],w=>{s=s.add(w.pr)})}),vt.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,c=s.length+1;let d=s;pn.isDocumentKey(d)||(d=d.child(""));const p=new ko(new pn(d),0);let w=new Mi(Tr);return this.wr.forEachWhile(R=>{const L=R.key.path;return!!s.isPrefixOf(L)&&(L.length===c&&(w=w.add(R.pr)),!0)},p),vt.resolve(this.Dr(w))}Dr(e){const r=[];return e.forEach(s=>{const c=this.Sr(s);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){Nn(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return vt.forEach(r.mutations,c=>{const d=new ko(c.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new ko(r,0),c=this.wr.firstAfterOrEqual(s);return vt.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return vt.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Yp{constructor(e){this.vr=e,this.docs=new Ci(pn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,c=this.docs.get(s),d=c?c.size:0,p=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return vt.resolve(s?s.document.mutableCopy():wi.newInvalidDocument(r))}getEntries(e,r){let s=hs();return r.forEach(c=>{const d=this.docs.get(c);s=s.insert(c,d?d.document.mutableCopy():wi.newInvalidDocument(c))}),vt.resolve(s)}getDocumentsMatchingQuery(e,r,s,c){let d=hs();const p=r.path,w=new pn(p.child("")),R=this.docs.getIteratorFrom(w);for(;R.hasNext();){const{key:L,value:{document:X}}=R.getNext();if(!p.isPrefixOf(L.path))break;L.path.length>p.length+1||Bl(Tc(X),s)<=0||(c.has(X.key)||Zs(r,X))&&(d=d.insert(X.key,X.mutableCopy()))}return vt.resolve(d)}getAllFromCollectionGroup(e,r,s,c){An()}Fr(e,r){return vt.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new ny(this)}getSize(e){return vt.resolve(this.size)}}class ny extends Nd{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?r.push(this.ar.addEntry(e,c)):this.ar.removeEntry(s)}),vt.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class $h{constructor(e){this.persistence=e,this.Mr=new Fa(r=>Tl(r),ga),this.lastRemoteSnapshotVersion=tr.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Bh,this.targetCount=0,this.Br=rl.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,c)=>r(c)),vt.resolve()}getLastRemoteSnapshotVersion(e){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vt.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),vt.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Br=new rl(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,vt.resolve()}updateTargetData(e,r){return this.qn(r),vt.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,vt.resolve()}removeTargets(e,r,s){let c=0;const d=[];return this.Mr.forEach((p,w)=>{w.sequenceNumber<=r&&null===s.get(w.targetId)&&(this.Mr.delete(p),d.push(this.removeMatchingKeysForTargetId(e,w.targetId)),c++)}),vt.waitFor(d).next(()=>c)}getTargetCount(e){return vt.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return vt.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),vt.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const c=this.persistence.referenceDelegate,d=[];return c&&r.forEach(p=>{d.push(c.markPotentiallyOrphaned(e,p))}),vt.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),vt.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return vt.resolve(s)}containsKey(e,r){return vt.resolve(this.Nr.containsKey(r))}}class zc{constructor(e,r){this.Lr={},this.overlays={},this.kr=new Gi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new $h(this),this.indexManager=new Wm,this.remoteDocumentCache=new Yp(s=>this.referenceDelegate.Kr(s)),this.serializer=new nv(r),this.$r=new Vh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new hv,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Lr[e.toKey()];return s||(s=new ty(r,this.referenceDelegate),this.Lr[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Ht("MemoryPersistence","Starting transaction:",e);const c=new ry(this.kr.next());return this.referenceDelegate.Ur(),s(c).next(d=>this.referenceDelegate.Wr(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Gr(e,r){return vt.or(Object.values(this.Lr).map(s=>()=>s.containsKey(e,r)))}}class ry extends rd{constructor(e){super(),this.currentSequenceNumber=e}}class Mu{constructor(e){this.persistence=e,this.zr=new Bh,this.jr=null}static Hr(e){return new Mu(e)}get Jr(){if(this.jr)return this.jr;throw An()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),vt.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),vt.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),vt.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(c=>this.Jr.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(d=>this.Jr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.Jr,s=>{const c=pn.fromPath(s);return this.Yr(e,c).next(d=>{d||r.removeEntry(c,tr.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return vt.or([()=>vt.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class iy{constructor(e){this.serializer=e}N(e,r,s,c){const d=new Ra("createOrUpgrade",r);var R;s<1&&c>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",b,{unique:!0}),R.createObjectStore("documentMutations"),Uh(e),function(R){R.createObjectStore("remoteDocuments")}(e));let p=vt.resolve();return s<3&&c>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),Uh(e)),p=p.next(()=>function(R){const L=R.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:tr.min().toTimestamp(),targetCount:0};return L.put("targetGlobalKey",X)}(d))),s<4&&c>=4&&(0!==s&&(p=p.next(()=>function(R,L){return L.store("mutations").W().next(X=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",b,{unique:!0});const De=L.store("mutations"),et=X.map(Dt=>De.put(Dt));return vt.waitFor(et)})}(e,d))),p=p.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(p=p.next(()=>this.Xr(d))),s<6&&c>=6&&(p=p.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.ei(d)))),s<7&&c>=7&&(p=p.next(()=>this.ti(d))),s<8&&c>=8&&(p=p.next(()=>this.ni(e,d))),s<9&&c>=9&&(p=p.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(p=p.next(()=>this.ri(d))),s<11&&c>=11&&(p=p.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(p=p.next(()=>{!function(R){const L=R.createObjectStore("documentOverlays",{keyPath:Ya});L.createIndex("collectionPathOverlayIndex",ua,{unique:!1}),L.createIndex("collectionGroupOverlayIndex",lu,{unique:!1})}(e)})),s<13&&c>=13&&(p=p.next(()=>function(R){const L=R.createObjectStore("remoteDocumentsV14",{keyPath:re});L.createIndex("documentKeyIndex",Ve),L.createIndex("collectionGroupIndex",wt)}(e)).next(()=>this.ii(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(p=p.next(()=>this.si(e,d))),s<15&&c>=15&&(p=p.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Ki}).createIndex("sequenceNumberIndex",Wa,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Pa}).createIndex("documentKeyIndex",qa,{unique:!1})}(e))),p}ei(e){let r=0;return e.store("remoteDocuments").Y((s,c)=>{r+=Nh(c)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(c=>vt.forEach(c,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(w=>vt.forEach(w,R=>{Nn(R.userId===d.userId);const L=Rl(this.serializer,R);return Hp(e,d.userId,L).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const d=[];return s.Y((p,w)=>{const R=new Wr(p),L=[0,zo(R)];d.push(r.get(L).next(X=>X?vt.resolve():r.put({targetId:0,path:zo(R),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>vt.waitFor(d))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Br});const s=r.store("collectionParents"),c=new Md,d=p=>{if(c.add(p)){const w=p.lastSegment(),R=p.popLast();return s.put({collectionId:w,parent:zo(R)})}};return r.store("remoteDocuments").Y({J:!0},(p,w)=>{const R=new Wr(p);return d(R.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([p,w,R],L)=>{const X=_(w);return d(X.popLast())}))}ri(e){const r=e.store("targets");return r.Y((s,c)=>{const d=Sh(c),p=iv(this.serializer,d);return r.put(p)})}ii(e,r){const s=r.store("remoteDocuments"),c=[];return s.Y((d,p)=>{const w=r.store("remoteDocumentsV14"),R=(De=p,De.document?new pn(Wr.fromString(De.document.name).popFirst(5)):De.noDocument?pn.fromSegments(De.noDocument.path):De.unknownDocument?pn.fromSegments(De.unknownDocument.path):An()).path.toArray(),L={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};var De;c.push(w.put(L))}).next(()=>vt.waitFor(c))}si(e,r){const s=r.store("mutations"),c=ey(this.serializer),d=new zc(Mu.Hr,this.serializer.ct);return s.W().next(p=>{const w=new Map;return p.forEach(R=>{var L;let X=null!==(L=w.get(R.userId))&&void 0!==L?L:Q();Rl(this.serializer,R).keys().forEach(De=>X=X.add(De)),w.set(R.userId,X)}),vt.forEach(w,(R,L)=>{const X=new Yn(L),De=Rd.lt(this.serializer,X),et=d.getIndexManager(X),Dt=kh.lt(X,this.serializer,et,d.referenceDelegate);return new dv(c,Dt,De,et).recalculateAndSaveOverlaysForDocumentKeys(new Dc(r,Gi._e),R).next()})})}}function Uh(o){o.createObjectStore("targetDocuments",{keyPath:Pn}).createIndex("documentTargetsIndex",xr,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tt,{unique:!0}),o.createObjectStore("targetGlobal")}const Pu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Kp{constructor(e,r,s,c,d,p,w,R,L,X,De=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=d,this.window=p,this.document=w,this._i=L,this.ai=X,this.ui=De,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=et=>Promise.resolve(),!Kp.D())throw new rn(Mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jm(this,c),this.Ti=r+"main",this.serializer=new nv(R),this.Ei=new cs(this.Ti,this.ui,new iy(this.serializer)),this.Qr=new Ym(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ey(this.serializer),this.$r=new Rh,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===X&&pi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rn(Mt.FAILED_PRECONDITION,Pu);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Gi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,l.Z)(function*(c){if(r.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,l.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,l.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Bt(e))return Ht("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ht("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return xu(e).get("owner").next(r=>vt.resolve(this.Si(r)))}bi(e){return jh(e).delete(this.clientId)}Di(){var e=this;return(0,l.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=bo(s,"clientMetadata");return c.W().next(d=>{const p=e.vi(d,18e5),w=d.filter(R=>-1===p.indexOf(R));return vt.forEach(w,R=>c.delete(R.clientId)).next(()=>w)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?vt.resolve(!0):xu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new rn(Mt.FAILED_PRECONDITION,Pu);return!1}}return!(!this.networkEnabled||!this.inForeground)||jh(e).W().next(s=>void 0===this.vi(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ht("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Dc(r,Gi._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Bi()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>jh(e).W().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return kh.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Pd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Rd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){Ht("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===r?"readonly":"readwrite",d=15===(R=this.ui)?Ri:14===R?da:13===R?xo:12===R?od:11===R?cu:void An();var R;let p;return this.Ei.runTransaction(e,c,d,w=>(p=new Dc(w,this.kr?this.kr.next():Gi._e),"readwrite-primary"===r?this.gi(p).next(R=>!!R||this.pi(p)).next(R=>{if(!R)throw pi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new rn(Mt.FAILED_PRECONDITION,$l);return s(p)}).next(R=>this.wi(p).next(()=>R)):this.ki(p).next(()=>s(p)))).then(w=>(p.raiseOnCommittedEvent(),w))}ki(e){return xu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new rn(Mt.FAILED_PRECONDITION,Pu)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xu(e).put("owner",r)}static D(){return cs.D()}yi(e){const r=xu(e);return r.get("owner").next(s=>this.Si(s)?(Ht("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):vt.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(pi(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,Ee.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Ht("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return pi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){pi("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xu(o){return bo(o,"owner")}function jh(o){return bo(o,"clientMetadata")}function Zp(o,e){let r=o.projectId;return o.isDefaultDatabase||(r+="."+o.database),"firestore/"+e+"/"+r+"/"}class Xp{constructor(e,r,s,c){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=c}static Ki(e,r){let s=Q(),c=Q();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new Xp(e,r.fromCache,s,c)}}class oy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Qp{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Ee.G6)()?8:cs.v((0,Ee.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,c){const d={result:null};return this.ji(e,r).next(p=>{d.result=p}).next(()=>{if(!d.result)return this.Hi(e,r,c,s).next(p=>{d.result=p})}).next(()=>{if(d.result)return;const p=new oy;return this.Ji(e,r,p).next(w=>{if(d.result=w,this.Ui)return this.Yi(e,r,p,w.size)})}).next(()=>d.result)}Yi(e,r,s,c){return s.documentReadCount<this.Wi?(xi()<=le.in.DEBUG&&Ht("QueryEngine","SDK will not create cache indexes for query:",Ks(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),vt.resolve()):(xi()<=le.in.DEBUG&&Ht("QueryEngine","Query:",Ks(r),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.Gi*c?(xi()<=le.in.DEBUG&&Ht("QueryEngine","The SDK decides to create cache indexes for query:",Ks(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ao(r))):vt.resolve())}ji(e,r){if(ka(r))return vt.resolve(null);let s=Ao(r);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=yu(r,null,"F"),s=Ao(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const p=Q(...d);return this.zi.getDocuments(e,p).next(w=>this.indexManager.getMinOffset(e,s).next(R=>{const L=this.Zi(r,w);return this.Xi(r,L,p,R.readTime)?this.ji(e,yu(r,null,"F")):this.es(e,L,r,R)}))})))}Hi(e,r,s,c){return ka(r)||c.isEqual(tr.min())?vt.resolve(null):this.zi.getDocuments(e,s).next(d=>{const p=this.Zi(r,d);return this.Xi(r,p,s,c)?vt.resolve(null):(xi()<=le.in.DEBUG&&Ht("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ks(r)),this.es(e,p,r,zn(c,-1)).next(w=>w))})}Zi(e,r){let s=new Mi(gd(e));return r.forEach((c,d)=>{Zs(e,d)&&(s=s.add(d))}),s}Xi(e,r,s,c){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Ji(e,r,s){return xi()<=le.in.DEBUG&&Ht("QueryEngine","Using full collection scan to execute query:",Ks(r)),this.zi.getDocumentsMatchingQuery(e,r,Xo.min(),s)}es(e,r,s,c){return this.zi.getDocumentsMatchingQuery(e,s,c).next(d=>(r.forEach(p=>{d=d.insert(p.key,p)}),d))}}class zh{constructor(e,r,s,c){this.persistence=e,this.ts=r,this.serializer=c,this.ns=new Ci(Tr),this.rs=new Fa(d=>Tl(d),ga),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Hh(o,e,r,s){return new zh(o,e,r,s)}function Gc(o,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,l.Z)(function*(o,e){const r=vn(o);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let c;return r.mutationQueue.getAllMutationBatches(s).next(d=>(c=d,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const p=[],w=[];let R=Q();for(const L of c){p.push(L.batchId);for(const X of L.mutations)R=R.add(X.key)}for(const L of d){w.push(L.batchId);for(const X of L.mutations)R=R.add(X.key)}return r.localDocuments.getDocuments(s,R).next(L=>({us:L,removedBatchIds:p,addedBatchIds:w}))})})}),Jp.apply(this,arguments)}function pv(o){const e=vn(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function kd(o,e,r){let s=Q(),c=Q();return r.forEach(d=>s=s.add(d)),e.getEntries(o,s).next(d=>{let p=hs();return r.forEach((w,R)=>{const L=d.get(w);R.isFoundDocument()!==L.isFoundDocument()&&(c=c.add(w)),R.isNoDocument()&&R.version.isEqual(tr.min())?(e.removeEntry(w,R.readTime),p=p.insert(w,R)):!L.isValidDocument()||R.version.compareTo(L.version)>0||0===R.version.compareTo(L.version)&&L.hasPendingWrites?(e.addEntry(R),p=p.insert(w,R)):Ht("LocalStore","Ignoring outdated watch update for ",w,". Current version:",L.version," Watch version:",R.version)}),{cs:p,ls:c}})}function eg(o,e){const r=vn(o);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Wc(o,e){const r=vn(o);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return r.Qr.getTargetData(s,e).next(d=>d?(c=d,vt.resolve(c)):r.Qr.allocateTargetId(s).next(p=>(c=new tl(e,p,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=r.ns.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function qc(o,e,r){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,l.Z)(function*(o,e,r){const s=vn(o),c=s.ns.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,c)))}catch(p){if(!Bt(p))throw p;Ht("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.ns=s.ns.remove(e),s.rs.delete(c.target)}),Gh.apply(this,arguments)}function Fd(o,e,r){const s=vn(o);let c=tr.min(),d=Q();return s.persistence.runTransaction("Execute query","readwrite",p=>function(R,L,X){const De=vn(R),et=De.rs.get(X);return void 0!==et?vt.resolve(De.ns.get(et)):De.Qr.getTargetData(L,X)}(s,p,Ao(e)).next(w=>{if(w)return c=w.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(p,w.targetId).next(R=>{d=R})}).next(()=>s.ts.getDocumentsMatchingQuery(p,e,r?c:tr.min(),r?d:Q())).next(w=>(ly(s,Th(e),w),{documents:w,hs:d})))}function sy(o,e){const r=vn(o),s=vn(r.Qr),c=r.ns.get(e);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(p=>p?p.target:null))}function ay(o,e){const r=vn(o),s=r.ss.get(e)||tr.min();return r.persistence.runTransaction("Get new document changes","readonly",c=>r.os.getAllFromCollectionGroup(c,e,zn(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(ly(r,e,c),c))}function ly(o,e,r){let s=o.ss.get(e)||tr.min();r.forEach((c,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),o.ss.set(e,s)}function tg(){return tg=(0,l.Z)(function*(o,e,r,s){const c=vn(o);let d=Q(),p=hs();for(const L of r){const X=e.Ps(L.metadata.name);L.document&&(d=d.add(X));const De=e.Is(L);De.setReadTime(e.Ts(L.metadata.readTime)),p=p.insert(X,De)}const w=c.os.newChangeBuffer({trackRemovals:!0}),R=yield Wc(c,(X=s,Ao(_o(Wr.fromString(`__bundle__/docs/${X}`)))));var X;return c.persistence.runTransaction("Apply bundle documents","readwrite",L=>kd(L,w,p).next(X=>(w.apply(L),X)).next(X=>c.Qr.removeMatchingKeysForTargetId(L,R.targetId).next(()=>c.Qr.addMatchingKeys(L,d,R.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(L,X.cs,X.ls)).next(()=>X.cs)))}),tg.apply(this,arguments)}function dc(o,e){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,l.Z)(function*(o,e,r=Q()){const s=yield Wc(o,Ao(Um(e.bundledQuery))),c=vn(o);return c.persistence.runTransaction("Save named query","readwrite",d=>{const p=Eo(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return c.$r.saveNamedQuery(d,e);const w=s.withResumeToken(ho.EMPTY_BYTE_STRING,p);return c.ns=c.ns.insert(w.targetId,w),c.Qr.updateTargetData(d,w).next(()=>c.Qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>c.Qr.addMatchingKeys(d,r,s.targetId)).next(()=>c.$r.saveNamedQuery(d,e))})}),Yc.apply(this,arguments)}function cy(o,e){return`firestore_clients_${o}_${e}`}function yv(o,e,r){let s=`firestore_mutations_${o}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function uy(o,e){return`firestore_targets_${o}_${e}`}class ng{constructor(e,r,s,c){this.user=e,this.batchId=r,this.state=s,this.error=c}static Es(e,r,s){const c=JSON.parse(s);let d,p="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return p&&c.error&&(p="string"==typeof c.error.message&&"string"==typeof c.error.code,p&&(d=new rn(c.error.code,c.error.message))),p?new ng(e,r,c.state,d):(pi("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wh{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let c,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(c=new rn(s.error.code,s.error.message))),d?new Wh(e,s.state,c):(pi("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rg{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let c="object"==typeof s&&s.activeTargetIds instanceof Array,d=St();for(let p=0;c&&p<s.activeTargetIds.length;++p)c=au(s.activeTargetIds[p]),d=d.add(s.activeTargetIds[p]);return c?new rg(e,d):(pi("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class qh{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new qh(r.clientId,r.onlineState):(pi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ig{constructor(){this.activeTargetIds=St()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class og{constructor(e,r,s,c,d){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ci(Tr),this.started=!1,this.ys=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ws=cy(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new ig),this.bs=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.Z)(function*(){const r=yield e.syncEngine.Li();for(const c of r){if(c===e.Vs)continue;const d=e.getItem(cy(e.persistenceKey,c));if(d){const p=rg.Es(c,d);p&&(e.ps=e.ps.insert(p.clientId,p))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const c=e.xs(s);c&&e.Os(c)}for(const c of e.ys)e.gs(c);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,c)=>{c.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,r,s){this.Bs(e,r,s),this.Ls(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(uy(this.persistenceKey,e));if(s){const c=Wh.Es(e,s);c&&(r=c.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uy(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(c=>{this.Ls(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ht("SharedClientState","READ",e,r),r}setItem(e,r){Ht("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ht("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Ht("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void pi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,l.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const c=r.$s(s.key);return r.Us(c,null)}{const c=r.Ws(s.key,s.newValue);if(c)return r.Us(c.clientId,c)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const c=r.Gs(s.key,s.newValue);if(c)return r.zs(c)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const c=r.js(s.key,s.newValue);if(c)return r.Hs(c)}}else if(s.key===r.vs){if(null!==s.newValue){const c=r.xs(s.newValue);if(c)return r.Os(c)}}else if(s.key===r.Ss){const c=function(p){let w=Gi._e;if(null!=p)try{const R=JSON.parse(p);Nn("number"==typeof R),w=R}catch(R){pi("SharedClientState","Failed to read sequence number from WebStorage",R)}return w}(s.newValue);c!==Gi._e&&r.sequenceNumberHandler(c)}else if(s.key===r.Fs){const c=r.Js(s.newValue);yield Promise.all(c.map(d=>r.syncEngine.Ys(d)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,r,s){const c=new ng(this.currentUser,e,r,s),d=yv(this.persistenceKey,this.currentUser,e);this.setItem(d,c.ds())}Ls(e){const r=yv(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const c=uy(this.persistenceKey,e),d=new Wh(e,r,s);this.setItem(c,d.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return rg.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),c=Number(s[1]);return ng.Es(new Yn(void 0!==s[2]?s[2]:null),c,r)}js(e,r){const s=this.Cs.exec(e),c=Number(s[1]);return Wh.Es(c,r)}xs(e){return qh.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,l.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Ht("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),c=this.Ns(this.ps),d=this.Ns(s),p=[],w=[];return d.forEach(R=>{c.has(R)||p.push(R)}),c.forEach(R=>{d.has(R)||w.push(R)}),this.syncEngine.eo(p,w).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=St();return e.forEach((s,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class dy{constructor(){this.no=new ig,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ig,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _v{io(e){}shutdown(){}}class Yh{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ia=null;function Kc(){return null===Ia?Ia=268435456+Math.round(2147483648*Math.random()):Ia++,"0x"+Ia.toString(16)}const hy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fy{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const es="WebChannelConnection";class BI extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+r.host,this.po=`projects/${c}/databases/${d}`,this.yo="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${d}`}get wo(){return!1}So(r,s,c,d,p){const w=Kc(),R=this.bo(r,s.toUriEncodedString());Ht("RestConnection",`Sending RPC '${r}' ${w}:`,R,c);const L={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(L,d,p),this.Co(r,R,L,c).then(X=>(Ht("RestConnection",`Received RPC '${r}' ${w}: `,X),X),X=>{throw Vi("RestConnection",`RPC '${r}' ${w} failed with error: `,X,"url: ",R,"request:",c),X})}vo(r,s,c,d,p,w){return this.So(r,s,c,d,p)}Do(r,s,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+fi,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,p)=>r[p]=d),c&&c.headers.forEach((d,p)=>r[p]=d)}bo(r,s){return`${this.fo}/v1/${s}:${hy[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,r,s,c){const d=Kc();return new Promise((p,w)=>{const R=new jn;R.setWithCredentials(!0),R.listenOnce(O.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case K.NO_ERROR:const X=R.getResponseJson();Ht(es,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(X)),p(X);break;case K.TIMEOUT:Ht(es,`RPC '${e}' ${d} timed out`),w(new rn(Mt.DEADLINE_EXCEEDED,"Request time out"));break;case K.HTTP_ERROR:const De=R.getStatus();if(Ht(es,`RPC '${e}' ${d} failed with status:`,De,"response text:",R.getResponseText()),De>0){let et=R.getResponseJson();Array.isArray(et)&&(et=et[0]);const Dt=et?.error;if(Dt&&Dt.status&&Dt.message){const hn=function(En){const pr=En.toLowerCase().replace(/_/g,"-");return Object.values(Mt).indexOf(pr)>=0?pr:Mt.UNKNOWN}(Dt.status);w(new rn(hn,Dt.message))}else w(new rn(Mt.UNKNOWN,"Server responded with status "+R.getStatus()))}else w(new rn(Mt.UNAVAILABLE,"Connection failed."));break;default:An()}}finally{Ht(es,`RPC '${e}' ${d} completed.`)}});const L=JSON.stringify(c);Ht(es,`RPC '${e}' ${d} sending request:`,c),R.send(r,"POST",L,s,15)})}Fo(e,r,s){const c=Kc(),d=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Os(),w=C(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},L=this.longPollingOptions.timeoutSeconds;void 0!==L&&(R.longPollingTimeout=Math.round(1e3*L)),this.useFetchStreams&&(R.useFetchStreams=!0),this.Do(R.initMessageHeaders,r,s),R.encodeInitMessageHeaders=!0;const X=d.join("");Ht(es,`Creating RPC '${e}' stream ${c}: ${X}`,R);const De=p.createWebChannel(X,R);let et=!1,Dt=!1;const hn=new fy({lo:En=>{Dt?Ht(es,`Not sending because RPC '${e}' stream ${c} is closed:`,En):(et||(Ht(es,`Opening RPC '${e}' stream ${c} transport.`),De.open(),et=!0),Ht(es,`RPC '${e}' stream ${c} sending:`,En),De.send(En))},ho:()=>De.close()}),Sn=(En,pr,Or)=>{En.listen(pr,gr=>{try{Or(gr)}catch(jr){setTimeout(()=>{throw jr},0)}})};return Sn(De,Wt.EventType.OPEN,()=>{Dt||Ht(es,`RPC '${e}' stream ${c} transport opened.`)}),Sn(De,Wt.EventType.CLOSE,()=>{Dt||(Dt=!0,Ht(es,`RPC '${e}' stream ${c} transport closed`),hn.Vo())}),Sn(De,Wt.EventType.ERROR,En=>{Dt||(Dt=!0,Vi(es,`RPC '${e}' stream ${c} transport errored:`,En),hn.Vo(new rn(Mt.UNAVAILABLE,"The operation could not be completed")))}),Sn(De,Wt.EventType.MESSAGE,En=>{var pr;if(!Dt){const Or=En.data[0];Nn(!!Or);const jr=Or.error||(null===(pr=Or[0])||void 0===pr?void 0:pr.error);if(jr){Ht(es,`RPC '${e}' stream ${c} received error:`,jr);const Bi=jr.status;let ki=function(cl){const Ju=po[cl];if(void 0!==Ju)return Cp(Ju)}(Bi),Lo=jr.message;void 0===ki&&(ki=Mt.INTERNAL,Lo="Unknown error status: "+Bi+" with message "+jr.message),Dt=!0,hn.Vo(new rn(ki,Lo)),De.close()}else Ht(es,`RPC '${e}' stream ${c} received:`,Or),hn.mo(Or)}}),Sn(w,z.STAT_EVENT,En=>{En.stat===Le.PROXY?Ht(es,`RPC '${e}' stream ${c} detected buffering proxy`):En.stat===Le.NOPROXY&&Ht(es,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{hn.Ro()},0),hn}}function vv(){return typeof window<"u"?window:null}function sg(){return typeof document<"u"?document:null}function Zc(o){return new Sp(o,!0)}class Ld{constructor(e,r,s=1e3,c=1.5,d=6e4){this.oi=e,this.timerId=r,this.Mo=s,this.xo=c,this.Oo=d,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const r=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Lo),c=Math.max(0,r-s);c>0&&Ht("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.No} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,c,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Ev{constructor(e,r,s,c,d,p,w,R){this.oi=e,this.$o=s,this.Uo=c,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=w,this.listener=R,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Ld(e,r)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,l.Z)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,l.Z)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,r){var s=this;return(0,l.Z)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():r&&r.code===Mt.RESOURCE_EXHAUSTED?(pi(r.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):r&&r.code===Mt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(r)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),r=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Wo===r&&this.o_(s,c)},s=>{e(()=>{const c=new rn(Mt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(c)})})}o_(e,r){const s=this.s_(this.Wo);this.stream=this.a_(e,r),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(c=>{s(()=>this.__(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Yo(){var e=this;this.state=5,this.jo.qo((0,l.Z)(function*(){e.state=0,e.start()}))}__(e){return Ht("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return r=>{this.oi.enqueueAndForget(()=>this.Wo===e?r():(Ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $I extends Ev{constructor(e,r,s,c,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,c,p),this.serializer=d}a_(e,r){return this.connection.Fo("Listen",e,r)}onMessage(e){this.jo.reset();const r=function ev(o,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:An(),c=e.targetChange.targetIds||[],d=function(L,X){return L.useProto3Json?(Nn(void 0===X||"string"==typeof X),ho.fromBase64String(X||"")):(Nn(void 0===X||X instanceof Uint8Array),ho.fromUint8Array(X||new Uint8Array))}(o,e.targetChange.resumeToken),p=e.targetChange.cause,w=p&&function(L){const X=void 0===L.code?Mt.UNKNOWN:Cp(L.code);return new rn(X,L.message||"")}(p);r=new Mm(s,c,d,w||null)}else if("documentChange"in e){const s=e.documentChange,c=La(o,s.document.name),d=Eo(s.document.updateTime),p=s.document.createTime?Eo(s.document.createTime):tr.min(),w=new yo({mapValue:{fields:s.document.fields}}),R=wi.newFoundDocument(c,d,p,w);r=new Ah(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,c=La(o,s.document),d=s.readTime?Eo(s.readTime):tr.min(),p=wi.newNoDocument(c,d);r=new Ah([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,c=La(o,s.document);r=new Ah([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return An();{const s=e.filter,{count:c=0,unchangedNames:d}=s,p=new Tu(c,d);r=new bp(s.targetId,p)}}var L;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return tr.min();const p=d.targetChange;return p.targetIds&&p.targetIds.length?tr.min():p.readTime?Eo(p.readTime):tr.min()}(e);return this.listener.u_(r,s)}c_(e){const r={};r.database=wd(this.serializer),r.addTarget=function(d,p){let w;const R=p.target;if(w=fu(R)?{documents:Lc(d,R)}:{query:Ts(d,R).ut},w.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){w.resumeToken=Rp(d,p.resumeToken);const L=el(d,p.expectedCount);null!==L&&(w.expectedCount=L)}else if(p.snapshotVersion.compareTo(tr.min())>0){w.readTime=Al(d,p.snapshotVersion.toTimestamp());const L=el(d,p.expectedCount);null!==L&&(w.expectedCount=L)}return w}(this.serializer,e);const s=function Op(o,e){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return An()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.t_(r)}l_(e){const r={};r.database=wd(this.serializer),r.removeTarget=e,this.t_(r)}}class py extends Ev{constructor(e,r,s,c,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,c,p),this.serializer=d,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,r){return this.connection.Fo("Write",e,r)}onMessage(e){if(Nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const r=function Lm(o,e){return o&&o.length>0?(Nn(void 0!==e),o.map(r=>function(c,d){let p=Eo(c.updateTime?c.updateTime:d);return p.isEqual(tr.min())&&(p=Eo(d)),new ec(p,c.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Eo(e.commitTime);return this.listener.T_(s,r)}return Nn(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=wd(this.serializer),this.t_(e)}I_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>bd(this.serializer,s))};this.t_(r)}}class Iv extends class{}{constructor(e,r,s,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=c,this.A_=!1}R_(){if(this.A_)throw new rn(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,s,c){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.So(e,Cd(r,s),c,d,p)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rn(Mt.UNKNOWN,d.toString())})}vo(e,r,s,c,d){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,w])=>this.connection.vo(e,Cd(r,s),c,p,w,d)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new rn(Mt.UNKNOWN,p.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Dv{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(pi(r),this.g_=!1):Ht("OnlineStateTracker",r)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class gy{constructor(e,r,s,c,d){var p=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=d,this.M_.io(w=>{s.enqueueAndForget((0,l.Z)(function*(){var R;pc(p)&&(Ht("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,l.Z)(function*(X){const De=vn(X);De.v_.add(4),yield fc(De),De.x_.set("Unknown"),De.v_.delete(4),yield hc(De)}),function L(X){return R.apply(this,arguments)})(p))}))}),this.x_=new Dv(s,c)}}function hc(o){return lg.apply(this,arguments)}function lg(){return lg=(0,l.Z)(function*(o){if(pc(o))for(const e of o.F_)yield e(!0)}),lg.apply(this,arguments)}function fc(o){return cg.apply(this,arguments)}function cg(){return cg=(0,l.Z)(function*(o){for(const e of o.F_)yield e(!1)}),cg.apply(this,arguments)}function Ml(o,e){const r=vn(o);r.C_.has(e.targetId)||(r.C_.set(e.targetId,e),dg(r)?Zh(r):Bu(r).Jo()&&ug(r,e))}function Vd(o,e){const r=vn(o),s=Bu(r);r.C_.delete(e),s.Jo()&&Kh(r,e),0===r.C_.size&&(s.Jo()?s.Xo():pc(r)&&r.x_.set("Unknown"))}function ug(o,e){if(o.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tr.min())>0){const r=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Bu(o).c_(e)}function Kh(o,e){o.O_.Oe(e),Bu(o).l_(e)}function Zh(o){o.O_=new K_({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>o.C_.get(e)||null,nt:()=>o.datastore.serializer.databaseId}),Bu(o).start(),o.x_.p_()}function dg(o){return pc(o)&&!Bu(o).Ho()&&o.C_.size>0}function pc(o){return 0===vn(o).v_.size}function my(o){o.O_=void 0}function Cv(o){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,l.Z)(function*(o){o.C_.forEach((e,r)=>{ug(o,e)})}),Xh.apply(this,arguments)}function UI(o,e){return yy.apply(this,arguments)}function yy(){return yy=(0,l.Z)(function*(o,e){my(o),dg(o)?(o.x_.S_(e),Zh(o)):o.x_.set("Unknown")}),yy.apply(this,arguments)}function Bd(o,e,r){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,l.Z)(function*(o,e,r){if(o.x_.set("Online"),e instanceof Mm&&2===e.state&&e.cause)try{yield(s=(0,l.Z)(function*(d,p){const w=p.cause;for(const R of p.targetIds)d.C_.has(R)&&(yield d.remoteSyncer.rejectListen(R,w),d.C_.delete(R),d.O_.removeTarget(R))}),function c(d,p){return s.apply(this,arguments)})(o,e)}catch(s){Ht("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield hg(o,s)}else if(e instanceof Ah?o.O_.$e(e):e instanceof bp?o.O_.Je(e):o.O_.Ge(e),!r.isEqual(tr.min()))try{const s=yield pv(o.localStore);r.compareTo(s)>=0&&(yield function(d,p){const w=d.O_.it(p);return w.targetChanges.forEach((R,L)=>{if(R.resumeToken.approximateByteSize()>0){const X=d.C_.get(L);X&&d.C_.set(L,X.withResumeToken(R.resumeToken,p))}}),w.targetMismatches.forEach((R,L)=>{const X=d.C_.get(R);if(!X)return;d.C_.set(R,X.withResumeToken(ho.EMPTY_BYTE_STRING,X.snapshotVersion)),Kh(d,R);const De=new tl(X.target,R,L,X.sequenceNumber);ug(d,De)}),d.remoteSyncer.applyRemoteEvent(w)}(o,r))}catch(s){Ht("RemoteStore","Failed to raise snapshot:",s),yield hg(o,s)}var s}),Qh.apply(this,arguments)}function hg(o,e,r){return _y.apply(this,arguments)}function _y(){return _y=(0,l.Z)(function*(o,e,r){if(!Bt(e))throw e;o.v_.add(1),yield fc(o),o.x_.set("Offline"),r||(r=()=>pv(o.localStore)),o.asyncQueue.enqueueRetryable((0,l.Z)(function*(){Ht("RemoteStore","Retrying IndexedDB access"),yield r(),o.v_.delete(1),yield hc(o)}))}),_y.apply(this,arguments)}function $d(o,e){return e().catch(r=>hg(o,r,e))}function Ou(o){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,l.Z)(function*(o){const e=vn(o),r=il(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;fg(e);)try{const c=yield eg(e.localStore,s);if(null===c){0===e.D_.length&&r.Xo();break}s=c.batchId,Nu(e,c)}catch(c){yield hg(e,c)}Jh(e)&&ef(e)}),Ud.apply(this,arguments)}function fg(o){return pc(o)&&o.D_.length<10}function Nu(o,e){o.D_.push(e);const r=il(o);r.Jo()&&r.P_&&r.I_(e.mutations)}function Jh(o){return pc(o)&&!il(o).Ho()&&o.D_.length>0}function ef(o){il(o).start()}function jd(o){return ku.apply(this,arguments)}function ku(){return ku=(0,l.Z)(function*(o){il(o).d_()}),ku.apply(this,arguments)}function Fu(o){return zd.apply(this,arguments)}function zd(){return zd=(0,l.Z)(function*(o){const e=il(o);for(const r of o.D_)e.I_(r.mutations)}),zd.apply(this,arguments)}function pg(o,e,r){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,l.Z)(function*(o,e,r){const s=o.D_.shift(),c=Id.from(s,e,r);yield $d(o,()=>o.remoteSyncer.applySuccessfulWrite(c)),yield Ou(o)}),Lu.apply(this,arguments)}function jI(o,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,l.Z)(function*(o,e){var r;e&&il(o).P_&&(yield(r=(0,l.Z)(function*(c,d){if(Am(w=d.code)&&w!==Mt.ABORTED){const p=c.D_.shift();il(c).Zo(),yield $d(c,()=>c.remoteSyncer.rejectFailedWrite(p.batchId,d)),yield Ou(c)}var w}),function s(c,d){return r.apply(this,arguments)})(o,e)),Jh(o)&&ef(o)}),Hd.apply(this,arguments)}function Vu(o,e){return gg.apply(this,arguments)}function gg(){return gg=(0,l.Z)(function*(o,e){const r=vn(o);r.asyncQueue.verifyOperationInProgress(),Ht("RemoteStore","RemoteStore received new credentials");const s=pc(r);r.v_.add(3),yield fc(r),s&&r.x_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.v_.delete(3),yield hc(r)}),gg.apply(this,arguments)}function tf(o,e){return mg.apply(this,arguments)}function mg(){return mg=(0,l.Z)(function*(o,e){const r=vn(o);e?(r.v_.delete(2),yield hc(r)):e||(r.v_.add(2),yield fc(r),r.x_.set("Unknown"))}),mg.apply(this,arguments)}function Bu(o){return o.N_||(o.N_=function(r,s,c){const d=vn(r);return d.R_(),new $I(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(o.datastore,o.asyncQueue,{Po:Cv.bind(null,o),To:UI.bind(null,o),u_:Bd.bind(null,o)}),o.F_.push(function(){var e=(0,l.Z)(function*(r){r?(o.N_.Zo(),dg(o)?Zh(o):o.x_.set("Unknown")):(yield o.N_.stop(),my(o))});return function(r){return e.apply(this,arguments)}}())),o.N_}function il(o){return o.B_||(o.B_=function(r,s,c){const d=vn(r);return d.R_(),new py(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(o.datastore,o.asyncQueue,{Po:jd.bind(null,o),To:jI.bind(null,o),E_:Fu.bind(null,o),T_:pg.bind(null,o)}),o.F_.push(function(){var e=(0,l.Z)(function*(r){r?(o.B_.Zo(),yield Ou(o)):(yield o.B_.stop(),o.D_.length>0&&(Ht("RemoteStore",`Stopping write stream with ${o.D_.length} pending writes`),o.D_=[]))});return function(r){return e.apply(this,arguments)}}())),o.B_}class nf{constructor(e,r,s,c,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=c,this.removalCallback=d,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,c,d){const p=Date.now()+s,w=new nf(e,r,p,c,d);return w.start(s),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rn(Mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $u(o,e){if(pi("AsyncQueue",`${e}: ${o}`),Bt(o))return new rn(Mt.UNAVAILABLE,`${e}: ${o}`);throw o}class Uu{constructor(e){this.comparator=e?(r,s)=>e(r,s)||pn.comparator(r.key,s.key):(r,s)=>pn.comparator(r.key,s.key),this.keyedMap=Nc(),this.sortedSet=new Ci(this.comparator)}static emptySet(e){return new Uu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Uu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=s.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Uu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class wv{constructor(){this.L_=new Ci(pn.comparator)}track(e){const r=e.doc.key,s=this.L_.get(r);s?0!==e.type&&3===s.type?this.L_=this.L_.insert(r,e):3===e.type&&1!==s.type?this.L_=this.L_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.L_=this.L_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.L_=this.L_.remove(r):1===e.type&&2===s.type?this.L_=this.L_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):An():this.L_=this.L_.insert(r,e)}k_(){const e=[];return this.L_.inorderTraversal((r,s)=>{e.push(s)}),e}}class ju{constructor(e,r,s,c,d,p,w,R,L){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=w,this.excludesMetadataChanges=R,this.hasCachedResults=L}static fromInitialDocuments(e,r,s,c,d){const p=[];return r.forEach(w=>{p.push({type:0,doc:w})}),new ju(e,r,Uu.emptySet(r),p,s,c,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==s[c].type||!r[c].doc.isEqual(s[c].doc))return!1;return!0}}class rf{constructor(){this.q_=void 0,this.Q_=[]}}class yg{constructor(){this.queries=new Fa(e=>Jo(e),Ql),this.onlineState="Unknown",this.K_=new Set}}function _g(o,e){return sf.apply(this,arguments)}function sf(){return sf=(0,l.Z)(function*(o,e){const r=vn(o),s=e.query;let c=!1,d=r.queries.get(s);if(d||(c=!0,d=new rf),c)try{d.q_=yield r.onListen(s)}catch(p){const w=$u(p,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(w)}r.queries.set(s,d),d.Q_.push(e),e.U_(r.onlineState),d.q_&&e.W_(d.q_)&&vg(r)}),sf.apply(this,arguments)}function Gd(o,e){return zu.apply(this,arguments)}function zu(){return zu=(0,l.Z)(function*(o,e){const r=vn(o),s=e.query;let c=!1;const d=r.queries.get(s);if(d){const p=d.Q_.indexOf(e);p>=0&&(d.Q_.splice(p,1),c=0===d.Q_.length)}if(c)return r.queries.delete(s),r.onUnlisten(s)}),zu.apply(this,arguments)}function bv(o,e){const r=vn(o);let s=!1;for(const c of e){const p=r.queries.get(c.query);if(p){for(const w of p.Q_)w.W_(c)&&(s=!0);p.q_=c}}s&&vg(r)}function vy(o,e,r){const s=vn(o),c=s.queries.get(e);if(c)for(const d of c.Q_)d.onError(r);s.queries.delete(e)}function vg(o){o.K_.forEach(e=>{e.next()})}class af{constructor(e,r,s){this.query=e,this.G_=r,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=s||{}}W_(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new ju(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.z_?this.H_(e)&&(this.G_.next(e),r=!0):this.J_(e,this.onlineState)&&(this.Y_(e),r=!0),this.j_=e,r}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let r=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),r=!0),r}J_(e,r){return!e.fromCache||(!this.options.Z_||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class zI{constructor(e,r){this.X_=e,this.byteLength=r}ea(){return"metadata"in this.X_}}class Ey{constructor(e){this.serializer=e}Ps(e){return La(this.serializer,e)}Is(e){return e.metadata.exists?Fm(this.serializer,e.document,!1):wi.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Eo(e)}}class lf{constructor(e,r,s){this.ta=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Iy(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++r;const s=Wr.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ra(e){const r=new Map,s=new Ey(this.serializer);for(const c of e)if(c.metadata.queries){const d=s.Ps(c.metadata.name);for(const p of c.metadata.queries){const w=(r.get(p)||Q()).add(d);r.set(p,w)}}return r}complete(){var e=this;return(0,l.Z)(function*(){const r=yield function mv(o,e,r,s){return tg.apply(this,arguments)}(e.localStore,new Ey(e.serializer),e.documents,e.ta.id),s=e.ra(e.documents);for(const c of e.queries)yield dc(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:r}})()}}function Iy(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class Xc{constructor(e){this.key=e}}class Hu{constructor(e){this.key=e}}class Ty{constructor(e,r){this.query=e,this.oa=r,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Q(),this.mutatedKeys=Q(),this.ua=gd(e),this.ca=new Uu(this.ua)}get la(){return this.oa}ha(e,r){const s=r?r.Pa:new wv,c=r?r.ca:this.ca;let d=r?r.mutatedKeys:this.mutatedKeys,p=c,w=!1;const R="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,L="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((X,De)=>{const et=c.get(X),Dt=Zs(this.query,De)?De:null,hn=!!et&&this.mutatedKeys.has(et.key),Sn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let En=!1;et&&Dt?et.data.isEqual(Dt.data)?hn!==Sn&&(s.track({type:3,doc:Dt}),En=!0):this.Ia(et,Dt)||(s.track({type:2,doc:Dt}),En=!0,(R&&this.ua(Dt,R)>0||L&&this.ua(Dt,L)<0)&&(w=!0)):!et&&Dt?(s.track({type:0,doc:Dt}),En=!0):et&&!Dt&&(s.track({type:1,doc:et}),En=!0,(R||L)&&(w=!0)),En&&(Dt?(p=p.add(Dt),d=Sn?d.add(X):d.delete(X)):(p=p.delete(X),d=d.delete(X)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const X="F"===this.query.limitType?p.last():p.first();p=p.delete(X.key),d=d.delete(X.key),s.track({type:1,doc:X})}return{ca:p,Pa:s,Xi:w,mutatedKeys:d}}Ia(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,c){const d=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const p=e.Pa.k_();p.sort((X,De)=>function(Dt,hn){const Sn=En=>{switch(En){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return An()}};return Sn(Dt)-Sn(hn)}(X.type,De.type)||this.ua(X.doc,De.doc)),this.Ta(s),c=null!=c&&c;const w=r&&!c?this.Ea():[],R=0===this.aa.size&&this.current&&!c?1:0,L=R!==this._a;return this._a=R,0!==p.length||L?{snapshot:new ju(this.query,e.ca,d,p,e.mutatedKeys,0===R,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),da:w}:{da:w}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new wv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(r=>this.oa=this.oa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.oa=this.oa.delete(r)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Q(),this.ca.forEach(s=>{this.Aa(s.key)&&(this.aa=this.aa.add(s.key))});const r=[];return e.forEach(s=>{this.aa.has(s)||r.push(new Hu(s))}),this.aa.forEach(s=>{e.has(s)||r.push(new Xc(s))}),r}Ra(e){this.oa=e.hs,this.aa=Q();const r=this.ha(e.documents);return this.applyChanges(r,!0)}Va(){return ju.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Dy{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Av{constructor(e){this.key=e,this.ma=!1}}class Sv{constructor(e,r,s,c,d,p){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.fa={},this.ga=new Fa(w=>Jo(w),Ql),this.pa=new Map,this.ya=new Set,this.wa=new Ci(pn.comparator),this.Sa=new Map,this.ba=new Bh,this.Da={},this.Ca=new Map,this.va=rl.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function Rv(o,e){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,l.Z)(function*(o,e){const r=vf(o);let s,c;const d=r.ga.get(e);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),c=d.view.Va();else{const p=yield Wc(r.localStore,Ao(e)),w=r.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,c=yield Cy(r,e,s,"current"===w,p.resumeToken),r.isPrimaryClient&&Ml(r.remoteStore,p)}return c}),Wd.apply(this,arguments)}function Cy(o,e,r,s,c){return wy.apply(this,arguments)}function wy(){return wy=(0,l.Z)(function*(o,e,r,s,c){o.Ma=(De,et,Dt)=>{return(hn=(0,l.Z)(function*(En,pr,Or,gr){let jr=pr.view.ha(Or);jr.Xi&&(jr=yield Fd(En.localStore,pr.query,!1).then(({documents:wa})=>pr.view.ha(wa,jr)));const Bi=gr&&gr.targetChanges.get(pr.targetId),ki=gr&&null!=gr.targetMismatches.get(pr.targetId),Lo=pr.view.applyChanges(jr,En.isPrimaryClient,Bi,ki);return Yd(En,pr.targetId,Lo.da),Lo.snapshot}),function Sn(En,pr,Or,gr){return hn.apply(this,arguments)})(o,De,et,Dt);var hn};const d=yield Fd(o.localStore,e,!0),p=new Ty(e,d.hs),w=p.ha(d.documents),R=Td.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==o.onlineState,c),L=p.applyChanges(w,o.isPrimaryClient,R);Yd(o,r,L.da);const X=new Dy(e,r,p);return o.ga.set(e,X),o.pa.has(r)?o.pa.get(r).push(e):o.pa.set(r,[e]),L.snapshot}),wy.apply(this,arguments)}function HI(o,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,l.Z)(function*(o,e){const r=vn(o),s=r.ga.get(e),c=r.pa.get(s.targetId);if(c.length>1)return r.pa.set(s.targetId,c.filter(d=>!Ql(d,e))),void r.ga.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield qc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),Vd(r.remoteStore,s.targetId),Gu(r,s.targetId)}).catch(aa))):(Gu(r,s.targetId),yield qc(r.localStore,s.targetId,!0))}),Eg.apply(this,arguments)}function by(){return by=(0,l.Z)(function*(o,e,r){const s=Og(o);try{const c=yield function(p,w){const R=vn(p),L=ri.now(),X=w.reduce((Dt,hn)=>Dt.add(hn.key),Q());let De,et;return R.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let hn=hs(),Sn=Q();return R.os.getEntries(Dt,X).next(En=>{hn=En,hn.forEach((pr,Or)=>{Or.isValidDocument()||(Sn=Sn.add(pr))})}).next(()=>R.localDocuments.getOverlayedDocuments(Dt,hn)).next(En=>{De=En;const pr=[];for(const Or of w){const gr=Ip(Or,De.get(Or.key).overlayedDocument);null!=gr&&pr.push(new Qa(Or.key,gr,ud(gr.value.mapValue),Oi.exists(!0)))}return R.mutationQueue.addMutationBatch(Dt,L,pr,w)}).next(En=>{et=En;const pr=En.applyToLocalDocumentSet(De,Sn);return R.documentOverlayCache.saveOverlays(Dt,En.batchId,pr)})}).then(()=>({batchId:et.batchId,changes:_u(De)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(p,w,R){let L=p.Da[p.currentUser.toKey()];L||(L=new Ci(Tr)),L=L.insert(w,R),p.Da[p.currentUser.toKey()]=L}(s,c.batchId,r),yield Ua(s,c.changes),yield Ou(s.remoteStore)}catch(c){const d=$u(c,"Failed to persist write");r.reject(d)}}),by.apply(this,arguments)}function qd(o,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,l.Z)(function*(o,e){const r=vn(o);try{const s=yield function gv(o,e){const r=vn(o),s=e.snapshotVersion;let c=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=r.os.newChangeBuffer({trackRemovals:!0});c=r.ns;const w=[];e.targetChanges.forEach((X,De)=>{const et=c.get(De);if(!et)return;w.push(r.Qr.removeMatchingKeys(d,X.removedDocuments,De).next(()=>r.Qr.addMatchingKeys(d,X.addedDocuments,De)));let Dt=et.withSequenceNumber(d.currentSequenceNumber);var Sn,En,pr;null!==e.targetMismatches.get(De)?Dt=Dt.withResumeToken(ho.EMPTY_BYTE_STRING,tr.min()).withLastLimboFreeSnapshotVersion(tr.min()):X.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(X.resumeToken,s)),c=c.insert(De,Dt),En=Dt,pr=X,(0===(Sn=et).resumeToken.approximateByteSize()||En.snapshotVersion.toMicroseconds()-Sn.snapshotVersion.toMicroseconds()>=3e8||pr.addedDocuments.size+pr.modifiedDocuments.size+pr.removedDocuments.size>0)&&w.push(r.Qr.updateTargetData(d,Dt))});let R=hs(),L=Q();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(d,X))}),w.push(kd(d,p,e.documentUpdates).next(X=>{R=X.cs,L=X.ls})),!s.isEqual(tr.min())){const X=r.Qr.getLastRemoteSnapshotVersion(d).next(De=>r.Qr.setTargetsMetadata(d,d.currentSequenceNumber,s));w.push(X)}return vt.waitFor(w).next(()=>p.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,R,L)).next(()=>R)}).then(d=>(r.ns=c,d))}(r.localStore,e);e.targetChanges.forEach((c,d)=>{const p=r.Sa.get(d);p&&(Nn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?p.ma=!0:c.modifiedDocuments.size>0?Nn(p.ma):c.removedDocuments.size>0&&(Nn(p.ma),p.ma=!1))}),yield Ua(r,s,e)}catch(s){yield aa(s)}}),Ig.apply(this,arguments)}function Ay(o,e,r){const s=vn(o);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const c=[];s.ga.forEach((d,p)=>{const w=p.view.U_(e);w.snapshot&&c.push(w.snapshot)}),function(p,w){const R=vn(p);R.onlineState=w;let L=!1;R.queries.forEach((X,De)=>{for(const et of De.Q_)et.U_(w)&&(L=!0)}),L&&vg(R)}(s.eventManager,e),c.length&&s.fa.u_(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Tg(o,e,r){return cf.apply(this,arguments)}function cf(){return cf=(0,l.Z)(function*(o,e,r){const s=vn(o);s.sharedClientState.updateQueryState(e,"rejected",r);const c=s.Sa.get(e),d=c&&c.key;if(d){let p=new Ci(pn.comparator);p=p.insert(d,wi.newNoDocument(d,tr.min()));const w=Q().add(d),R=new Du(tr.min(),new Map,new Ci(Tr),p,w);yield qd(s,R),s.wa=s.wa.remove(d),s.Sa.delete(e),hf(s)}else yield qc(s.localStore,e,!1).then(()=>Gu(s,e,r)).catch(aa)}),cf.apply(this,arguments)}function Pv(o,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,l.Z)(function*(o,e){const r=vn(o),s=e.batch.batchId;try{const c=yield function fv(o,e){const r=vn(o);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),d=r.os.newChangeBuffer({trackRemovals:!0});return function(w,R,L,X){const De=L.batch,et=De.keys();let Dt=vt.resolve();return et.forEach(hn=>{Dt=Dt.next(()=>X.getEntry(R,hn)).next(Sn=>{const En=L.docVersions.get(hn);Nn(null!==En),Sn.version.compareTo(En)<0&&(De.applyToRemoteDocument(Sn,L),Sn.isValidDocument()&&(Sn.setReadTime(L.commitVersion),X.addEntry(Sn)))})}),Dt.next(()=>w.mutationQueue.removeMutationBatch(R,De))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let R=Q();for(let L=0;L<w.mutationResults.length;++L)w.mutationResults[L].transformResults.length>0&&(R=R.add(w.batch.mutations[L].key));return R}(e))).next(()=>r.localDocuments.getDocuments(s,c))})}(r.localStore,e);wg(r,s,null),df(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Ua(r,c)}catch(c){yield aa(c)}}),Dg.apply(this,arguments)}function xv(o,e,r){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,l.Z)(function*(o,e,r){const s=vn(o);try{const c=yield function(p,w){const R=vn(p);return R.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let X;return R.mutationQueue.lookupMutationBatch(L,w).next(De=>(Nn(null!==De),X=De.keys(),R.mutationQueue.removeMutationBatch(L,De))).next(()=>R.mutationQueue.performConsistencyCheck(L)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(L,X,w)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,X)).next(()=>R.localDocuments.getDocuments(L,X))})}(s.localStore,e);wg(s,e,r),df(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Ua(s,c)}catch(c){yield aa(c)}}),Cg.apply(this,arguments)}function uf(){return uf=(0,l.Z)(function*(o,e){const r=vn(o);pc(r.remoteStore)||Ht("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const w=vn(p);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>w.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===s)return void e.resolve();const c=r.Ca.get(s)||[];c.push(e),r.Ca.set(s,c)}catch(s){const c=$u(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),uf.apply(this,arguments)}function df(o,e){(o.Ca.get(e)||[]).forEach(r=>{r.resolve()}),o.Ca.delete(e)}function wg(o,e,r){const s=vn(o);let c=s.Da[s.currentUser.toKey()];if(c){const d=c.get(e);d&&(r?d.reject(r):d.resolve(),c=c.remove(e)),s.Da[s.currentUser.toKey()]=c}}function Gu(o,e,r=null){o.sharedClientState.removeLocalQueryTarget(e);for(const s of o.pa.get(e))o.ga.delete(s),r&&o.fa.xa(s,r);o.pa.delete(e),o.isPrimaryClient&&o.ba.Vr(e).forEach(s=>{o.ba.containsKey(s)||bg(o,s)})}function bg(o,e){o.ya.delete(e.path.canonicalString());const r=o.wa.get(e);null!==r&&(Vd(o.remoteStore,r),o.wa=o.wa.remove(e),o.Sa.delete(r),hf(o))}function Yd(o,e,r){for(const s of r)s instanceof Xc?(o.ba.addReference(s.key,e),GI(o,s)):s instanceof Hu?(Ht("SyncEngine","Document no longer in limbo: "+s.key),o.ba.removeReference(s.key,e),o.ba.containsKey(s.key)||bg(o,s.key)):An()}function GI(o,e){const r=e.key,s=r.path.canonicalString();o.wa.get(r)||o.ya.has(s)||(Ht("SyncEngine","New document in limbo: "+r),o.ya.add(s),hf(o))}function hf(o){for(;o.ya.size>0&&o.wa.size<o.maxConcurrentLimboResolutions;){const e=o.ya.values().next().value;o.ya.delete(e);const r=new pn(Wr.fromString(e)),s=o.va.next();o.Sa.set(s,new Av(r)),o.wa=o.wa.insert(r,s),Ml(o.remoteStore,new tl(Ao(_o(r.path)),s,"TargetPurposeLimboResolution",Gi._e))}}function Ua(o,e,r){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,l.Z)(function*(o,e,r){const s=vn(o),c=[],d=[],p=[];var w;s.ga.isEmpty()||(s.ga.forEach((w,R)=>{p.push(s.Ma(R,e,r).then(L=>{if((L||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(R.targetId,L?.fromCache?"not-current":"current"),L){c.push(L);const X=Xp.Ki(R.targetId,L);d.push(X)}}))}),yield Promise.all(p),s.fa.u_(c),yield(w=(0,l.Z)(function*(L,X){const De=vn(L);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",et=>vt.forEach(X,Dt=>vt.forEach(Dt.qi,hn=>De.persistence.referenceDelegate.addReference(et,Dt.targetId,hn)).next(()=>vt.forEach(Dt.Qi,hn=>De.persistence.referenceDelegate.removeReference(et,Dt.targetId,hn)))))}catch(et){if(!Bt(et))throw et;Ht("LocalStore","Failed to update sequence numbers: "+et)}for(const et of X){const Dt=et.targetId;if(!et.fromCache){const hn=De.ns.get(Dt),En=hn.withLastLimboFreeSnapshotVersion(hn.snapshotVersion);De.ns=De.ns.insert(Dt,En)}}}),function R(L,X){return w.apply(this,arguments)})(s.localStore,d))}),Ag.apply(this,arguments)}function Kd(o,e){return ff.apply(this,arguments)}function ff(){return ff=(0,l.Z)(function*(o,e){const r=vn(o);if(!r.currentUser.isEqual(e)){Ht("SyncEngine","User change. New user:",e.toKey());const s=yield Gc(r.localStore,e);r.currentUser=e,(d=r).Ca.forEach(w=>{w.forEach(R=>{R.reject(new rn(Mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ca.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ua(r,s.us)}var d}),ff.apply(this,arguments)}function Ry(o,e){const r=vn(o),s=r.Sa.get(e);if(s&&s.ma)return Q().add(s.key);{let c=Q();const d=r.pa.get(e);if(!d)return c;for(const p of d){const w=r.ga.get(p);c=c.unionWith(w.view.la)}return c}}function Ov(o,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,l.Z)(function*(o,e){const r=vn(o),s=yield Fd(r.localStore,e.query,!0),c=e.view.Ra(s);return r.isPrimaryClient&&Yd(r,e.targetId,c.da),c}),Sg.apply(this,arguments)}function Nv(o,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,l.Z)(function*(o,e){const r=vn(o);return ay(r.localStore,e).then(s=>Ua(r,s))}),Rg.apply(this,arguments)}function kv(o,e,r,s){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,l.Z)(function*(o,e,r,s){const c=vn(o),d=yield function(w,R){const L=vn(w),X=vn(L.mutationQueue);return L.persistence.runTransaction("Lookup mutation documents","readonly",De=>X.vn(De,R).next(et=>et?L.localDocuments.getDocuments(De,et):vt.resolve(null)))}(c.localStore,e);var R;null!==d?("pending"===r?yield Ou(c.remoteStore):"acknowledged"===r||"rejected"===r?(wg(c,e,s||null),df(c,e),R=e,vn(vn(c.localStore).mutationQueue).Mn(R)):An(),yield Ua(c,d)):Ht("SyncEngine","Cannot apply mutation batch with id: "+e)}),Mg.apply(this,arguments)}function pf(){return pf=(0,l.Z)(function*(o,e){const r=vn(o);if(vf(r),Og(r),!0===e&&!0!==r.Fa){const s=r.sharedClientState.getAllActiveQueryTargets(),c=yield Pg(r,s.toArray());r.Fa=!0,yield tf(r.remoteStore,!0);for(const d of c)Ml(r.remoteStore,d)}else if(!1===e&&!1!==r.Fa){const s=[];let c=Promise.resolve();r.pa.forEach((d,p)=>{r.sharedClientState.isLocalQueryTarget(p)?s.push(p):c=c.then(()=>(Gu(r,p),qc(r.localStore,p,!0))),Vd(r.remoteStore,p)}),yield c,yield Pg(r,s),function(p){const w=vn(p);w.Sa.forEach((R,L)=>{Vd(w.remoteStore,L)}),w.ba.mr(),w.Sa=new Map,w.wa=new Ci(pn.comparator)}(r),r.Fa=!1,yield tf(r.remoteStore,!1)}}),pf.apply(this,arguments)}function Pg(o,e,r){return gf.apply(this,arguments)}function gf(){return gf=(0,l.Z)(function*(o,e,r){const s=vn(o),c=[],d=[];for(const p of e){let w;const R=s.pa.get(p);if(R&&0!==R.length){w=yield Wc(s.localStore,Ao(R[0]));for(const L of R){const X=s.ga.get(L),De=yield Ov(s,X);De.snapshot&&d.push(De.snapshot)}}else{const L=yield sy(s.localStore,p);w=yield Wc(s.localStore,L),yield Cy(s,Fv(L),p,!1,w.resumeToken)}c.push(w)}return s.fa.u_(d),c}),gf.apply(this,arguments)}function Fv(o){return gu(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function xg(o){return r=vn(o).localStore,vn(vn(r).persistence).Li();var r}function gc(o,e,r,s){return mf.apply(this,arguments)}function mf(){return mf=(0,l.Z)(function*(o,e,r,s){const c=vn(o);if(c.Fa)return void Ht("SyncEngine","Ignoring unexpected query state notification.");const d=c.pa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const p=yield ay(c.localStore,Th(d[0])),w=Du.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,ho.EMPTY_BYTE_STRING);yield Ua(c,p,w);break}case"rejected":yield qc(c.localStore,e,!0),Gu(c,e,s);break;default:An()}}),mf.apply(this,arguments)}function yf(o,e,r){return _f.apply(this,arguments)}function _f(){return _f=(0,l.Z)(function*(o,e,r){const s=vf(o);if(s.Fa){for(const c of e){if(s.pa.has(c)){Ht("SyncEngine","Adding an already active target "+c);continue}const d=yield sy(s.localStore,c),p=yield Wc(s.localStore,d);yield Cy(s,Fv(d),p.targetId,!1,p.resumeToken),Ml(s.remoteStore,p)}for(const c of r)s.pa.has(c)&&(yield qc(s.localStore,c,!1).then(()=>{Vd(s.remoteStore,c),Gu(s,c)}).catch(aa))}}),_f.apply(this,arguments)}function vf(o){const e=vn(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=qd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ry.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tg.bind(null,e),e.fa.u_=bv.bind(null,e.eventManager),e.fa.xa=vy.bind(null,e.eventManager),e}function Og(o){const e=vn(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xv.bind(null,e),e}class Zd{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.Z)(function*(){r.serializer=Zc(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Hh(this.persistence,new Qp,e.initialUser,this.serializer)}createPersistence(e){return new zc(Mu.Hr,this.serializer)}createSharedClientState(e){return new dy}terminate(){var e=this;return(0,l.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ef extends Zd{constructor(e,r,s){super(),this.Na=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,l.Z)(function*(){yield r().call(s,e),yield s.Na.initialize(s,e),yield Og(s.Na.syncEngine),yield Ou(s.Na.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Hh(this.persistence,new Qp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Xm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new Ma(r,this.persistence);return new Ul(e.asyncQueue,s)}createPersistence(e){const r=Zp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new Kp(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,vv(),sg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dy}}class Bv extends Ef{constructor(e,r){super(e,r,!1),this.Na=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,l.Z)(function*(){yield r().call(s,e);const c=s.Na.syncEngine;s.sharedClientState instanceof og&&(s.sharedClientState.syncEngine={Zs:kv.bind(null,c),Xs:gc.bind(null,c),eo:yf.bind(null,c),Li:xg.bind(null,c),Ys:Nv.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var d=(0,l.Z)(function*(p){yield function My(o,e){return pf.apply(this,arguments)}(s.Na.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=vv();if(!og.D(r))throw new rn(Mt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Zp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new og(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Wu{initialize(e,r){var s=this;return(0,l.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>Ay(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=Kd.bind(null,s.syncEngine),yield tf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yg}createDatastore(e){const r=Zc(e.databaseInfo.databaseId),s=new BI(e.databaseInfo);return new Iv(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,c=this.datastore,d=e.asyncQueue,p=r=>Ay(this.syncEngine,r,0),w=Yh.D()?new Yh:new _v,new gy(s,c,d,p,w);var s,c,d,p,w}createSyncEngine(e,r){return function(c,d,p,w,R,L,X){const De=new Sv(c,d,p,w,R,L);return X&&(De.Fa=!0),De}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,l.Z)(function*(){var r,s;yield(s=(0,l.Z)(function*(d){const p=vn(d);Ht("RemoteStore","RemoteStore shutting down."),p.v_.add(5),yield fc(p),p.M_.shutdown(),p.x_.set("Unknown")}),function c(d){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function $v(o,e=10240){let r=0;return{read:()=>(0,l.Z)(function*(){if(r<o.byteLength){const s={value:o.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,l.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Py{constructor(e,r){this.ka=e,this.serializer=r,this.metadata=new Yi,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(s=>{s&&s.ea()?this.metadata.resolve(s.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.X_)}`))},s=>this.metadata.reject(s))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,l.Z)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,l.Z)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,l.Z)(function*(){const r=yield e.Ka();if(null===r)return null;const s=e.qa.decode(r),c=Number(s);isNaN(c)&&e.$a(`length string (${s}) is not valid number`);const d=yield e.Ua(c);return new zI(JSON.parse(d),r.length+c)})()}Wa(){return this.buffer.findIndex(e=>123===e)}Ka(){var e=this;return(0,l.Z)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const r=e.Wa();r<0&&e.$a("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ua(e){var r=this;return(0,l.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ga())&&r.$a("Reached the end of bundle when more is expected.");const s=r.qa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,l.Z)(function*(){const r=yield e.ka.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class xy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new rn(Mt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(c=(0,l.Z)(function*(p,w){const R=vn(p),L={documents:w.map(Dt=>Ea(R.serializer,Dt))},X=yield R.vo("BatchGetDocuments",R.serializer.databaseId,Wr.emptyPath(),L,w.length),De=new Map;X.forEach(Dt=>{const hn=function J_(o,e){return"found"in e?function(s,c){Nn(!!c.found);const d=La(s,c.found.name),p=Eo(c.found.updateTime),w=c.found.createTime?Eo(c.found.createTime):tr.min(),R=new yo({mapValue:{fields:c.found.fields}});return wi.newFoundDocument(d,p,w,R)}(o,e):"missing"in e?function(s,c){Nn(!!c.missing),Nn(!!c.readTime);const d=La(s,c.missing),p=Eo(c.readTime);return wi.newNoDocument(d,p)}(o,e):An()}(R.serializer,Dt);De.set(hn.key.toString(),hn)});const et=[];return w.forEach(Dt=>{const hn=De.get(Dt.toString());Nn(!!hn),et.push(hn)}),et}),function d(p,w){return c.apply(this,arguments)})(r.datastore,e);var c;return s.forEach(c=>r.recordVersion(c)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new rc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,c)=>{const d=pn.fromPath(c);e.mutations.push(new Eu(d,e.precondition(d)))}),yield(s=(0,l.Z)(function*(d,p){const w=vn(d),R={writes:p.map(L=>bd(w.serializer,L))};yield w.So("Commit",w.serializer.databaseId,Wr.emptyPath(),R)}),function c(d,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw An();r=tr.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new rn(Mt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(tr.min())?Oi.exists(!1):Oi.updateTime(r):Oi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(tr.min()))throw new rn(Mt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oi.updateTime(r)}return Oi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class WI{constructor(e,r,s,c,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=c,this.deferred=d,this.za=s.maxAttempts,this.jo=new Ld(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,l.Z)(function*(){const r=new xy(e.datastore),s=e.Ja(r);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(c)}).catch(d=>{e.Ya(d)}))}).catch(c=>{e.Ya(c)})}))}Ja(e){try{const r=this.updateFunction(e);return!Ga(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Am(r)}return!1}}class Lr{constructor(e,r,s,c){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=c,this.user=Yn.UNAUTHENTICATED,this.clientId=wo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,l.Z)(function*(w){Ht("FirestoreClient","Received user=",w.uid),yield d.authCredentialListener(w),d.user=w});return function(w){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(Ht("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rn(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const c=$u(s,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function Xd(o,e){return If.apply(this,arguments)}function If(){return If=(0,l.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),Ht("FirestoreClient","Initializing OfflineComponentProvider");const r=o.configuration;yield e.initialize(r);let s=r.initialUser;o.setCredentialChangeListener(function(){var c=(0,l.Z)(function*(d){s.isEqual(d)||(yield Gc(e.localStore,d),s=d)});return function(d){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}),If.apply(this,arguments)}function mc(o,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,l.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const r=yield Fg(o);Ht("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,o.configuration),o.setCredentialChangeListener(s=>Vu(e.remoteStore,s)),o.setAppCheckTokenChangeListener((s,c)=>Vu(e.remoteStore,c)),o._onlineComponents=e}),Tf.apply(this,arguments)}function kg(o){return"FirebaseError"===o.name?o.code===Mt.FAILED_PRECONDITION||o.code===Mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code}function Fg(o){return qu.apply(this,arguments)}function qu(){return qu=(0,l.Z)(function*(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){Ht("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xd(o,o._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!kg(r))throw r;Vi("Error using user provided cache. Falling back to memory cache: "+r),yield Xd(o,new Zd)}}else Ht("FirestoreClient","Using default OfflineComponentProvider"),yield Xd(o,new Zd);return o._offlineComponents}),qu.apply(this,arguments)}function Pl(o){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,l.Z)(function*(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(Ht("FirestoreClient","Using user provided OnlineComponentProvider"),yield mc(o,o._uninitializedComponentsProvider._online)):(Ht("FirestoreClient","Using default OnlineComponentProvider"),yield mc(o,new Wu))),o._onlineComponents}),Qd.apply(this,arguments)}function Yu(o){return Fg(o).then(e=>e.persistence)}function Qc(o){return Fg(o).then(e=>e.localStore)}function Df(o){return Pl(o).then(e=>e.remoteStore)}function Jd(o){return Pl(o).then(e=>e.syncEngine)}function Jc(o){return eh.apply(this,arguments)}function eh(){return eh=(0,l.Z)(function*(o){const e=yield Pl(o),r=e.eventManager;return r.onListen=Rv.bind(null,e.syncEngine),r.onUnlisten=HI.bind(null,e.syncEngine),r}),eh.apply(this,arguments)}function Lg(o,e,r={}){const s=new Yi;return o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(d,p,w,R,L){const X=new Ng({next:et=>{p.enqueueAndForget(()=>Gd(d,De));const Dt=et.docs.has(w);!Dt&&et.fromCache?L.reject(new rn(Mt.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&et.fromCache&&R&&"server"===R.source?L.reject(new rn(Mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(et)},error:et=>L.reject(et)}),De=new af(_o(w.path),X,{includeMetadataChanges:!0,Z_:!0});return _g(d,De)}(yield Jc(o),o.asyncQueue,e,r,s)})),s.promise}function Oy(o,e,r={}){const s=new Yi;return o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(d,p,w,R,L){const X=new Ng({next:et=>{p.enqueueAndForget(()=>Gd(d,De)),et.fromCache&&"server"===R.source?L.reject(new rn(Mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(et)},error:et=>L.reject(et)}),De=new af(w,X,{includeMetadataChanges:!0,Z_:!0});return _g(d,De)}(yield Jc(o),o.asyncQueue,e,r,s)})),s.promise}function Vs(o){const e={};return void 0!==o.timeoutSeconds&&(e.timeoutSeconds=o.timeoutSeconds),e}const Fy=new Map;function Vg(o,e,r){if(!r)throw new rn(Mt.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function Kv(o,e,r,s){if(!0===e&&!0===s)throw new rn(Mt.INVALID_ARGUMENT,`${o} and ${r} cannot be used together.`)}function wf(o){if(!pn.isDocumentKey(o))throw new rn(Mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function Bg(o){if(pn.isDocumentKey(o))throw new rn(Mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function bf(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(s=o).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof o?"a function":An()}function ai(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new rn(Mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=bf(o);throw new rn(Mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return o}function Ly(o,e){if(e<=0)throw new rn(Mt.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}class $g{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new rn(Mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rn(Mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Vs(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new rn(Mt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new rn(Mt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new rn(Mt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,r,s,c){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $g({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rn(Mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rn(Mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $g(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Ko;switch(s.type){case"firstParty":return new Ic(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rn(Mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Fy.get(r);s&&(Ht("ComponentProvider","Removing Datastore"),Fy.delete(r),s.terminate())}(this),Promise.resolve()}}function Vy(o,e,r,s={}){var c;const d=(o=ai(o,th))._getSettings(),p=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==p&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),o._setSettings(Object.assign(Object.assign({},d),{host:p,ssl:!1})),s.mockUserToken){let w,R;if("string"==typeof s.mockUserToken)w=s.mockUserToken,R=Yn.MOCK_USER;else{w=(0,Ee.Sg)(s.mockUserToken,null===(c=o._app)||void 0===c?void 0:c.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new rn(Mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Yn(L)}o._authCredentials=new iu(new ru(w,R))}}class Fo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class go{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new go(this.firestore,e,this._key)}}class ol extends Fo{constructor(e,r,s){super(e,r,_o(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new go(this.firestore,null,new pn(e))}withConverter(e){return new ol(this.firestore,e,this._path)}}function Zv(o,e,...r){if(o=(0,Ee.m9)(o),Vg("collection","path",e),o instanceof th){const s=Wr.fromString(e,...r);return Bg(s),new ol(o,null,s)}{if(!(o instanceof go||o instanceof ol))throw new rn(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=o._path.child(Wr.fromString(e,...r));return Bg(s),new ol(o.firestore,null,s)}}function Xv(o,e){if(o=ai(o,th),Vg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rn(Mt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fo(o,null,(s=e,new Qo(Wr.emptyPath(),s)));var s}function By(o,e,...r){if(o=(0,Ee.m9)(o),1===arguments.length&&(e=wo.newId()),Vg("doc","path",e),o instanceof th){const s=Wr.fromString(e,...r);return wf(s),new go(o,null,new pn(s))}{if(!(o instanceof go||o instanceof ol))throw new rn(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=o._path.child(Wr.fromString(e,...r));return wf(s),new go(o.firestore,o instanceof ol?o.converter:null,new pn(s))}}function sl(o,e){return o=(0,Ee.m9)(o),e=(0,Ee.m9)(e),(o instanceof go||o instanceof ol)&&(e instanceof go||e instanceof ol)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function nh(o,e){return o=(0,Ee.m9)(o),e=(0,Ee.m9)(e),o instanceof Fo&&e instanceof Fo&&o.firestore===e.firestore&&Ql(o._query,e._query)&&o.converter===e.converter}class Qv{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Ld(this,"async_queue_retry"),this._u=()=>{const r=sg();r&&Ht("AsyncQueue","Visibility state changed to "+r.visibilityState),this.jo.Ko()};const e=sg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const r=sg();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const r=new Yi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,l.Z)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(r){if(!Bt(r))throw r;Ht("AsyncQueue","Operation failed with retryable error: "+r)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const r=this.Xa.then(()=>(this.iu=!0,e().catch(s=>{throw this.ru=s,this.iu=!1,pi("INTERNAL UNHANDLED ERROR: ",function(p){let w=p.message||"";return p.stack&&(w=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),w}(s)),s}).then(s=>(this.iu=!1,s))));return this.Xa=r,r}enqueueAfterDelay(e,r,s){this.au(),this.ou.indexOf(e)>-1&&(r=0);const c=nf.createAndSchedule(this,e,r,s,d=>this.lu(d));return this.nu.push(c),c}au(){this.ru&&An()}verifyOperationInProgress(){}hu(){var e=this;return(0,l.Z)(function*(){let r;do{r=e.Xa,yield r}while(r!==e.Xa)})()}Pu(e){for(const r of this.nu)if(r.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.nu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const r=this.nu.indexOf(e);this.nu.splice(r,1)}}function Ug(o){return function(r,s){if("object"!=typeof r||null===r)return!1;const c=r;for(const d of["next","error","complete"])if(d in c&&"function"==typeof c[d])return!0;return!1}(o)}class $y{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Uy=-1;class Ni extends th{constructor(e,r,s,c){super(e,r,s,c),this.type="firestore",this._queue=new Qv,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jg(this),this._firestoreClient.terminate()}}function qI(o,e){const r="object"==typeof o?o:(0,P.getApp)(),s="string"==typeof o?o:e||"(default)",c=(0,P._getProvider)(r,"firestore").getImmediate({identifier:s});if(!c._initialized){const d=(0,Ee.P0)("firestore");d&&Vy(c,...d)}return c}function oo(o){return o._firestoreClient||jg(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function jg(o){var e,r,s;const c=o._freezeSettings(),d=(R=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new gp(o._databaseId,R,o._persistenceKey,(X=c).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,Vs(X.experimentalLongPollingOptions),X.useFetchStreams));var R,X;o._firestoreClient=new Lr(o._authCredentials,o._appCheckCredentials,o._queue,d),null!==(r=c.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=c.localCache)&&void 0!==s&&s._onlineComponentProvider&&(o._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}function zy(o,e){Hg(o=ai(o,Ni));const r=oo(o);if(r._uninitializedComponentsProvider)throw new rn(Mt.FAILED_PRECONDITION,"SDK cache is already specified.");Vi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=o._freezeSettings(),c=new Wu;return Sf(r,c,new Ef(c,s.cacheSizeBytes,e?.forceOwnership))}function Af(o){Hg(o=ai(o,Ni));const e=oo(o);if(e._uninitializedComponentsProvider)throw new rn(Mt.FAILED_PRECONDITION,"SDK cache is already specified.");Vi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=o._freezeSettings(),s=new Wu;return Sf(e,s,new Bv(s,r.cacheSizeBytes))}function Sf(o,e,r){const s=new Yi;return o.asyncQueue.enqueue((0,l.Z)(function*(){try{yield Xd(o,r),yield mc(o,e),s.resolve()}catch(c){const d=c;if(!kg(d))throw d;Vi("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function xl(o){if(o._initialized&&!o._terminated)throw new rn(Mt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yi;return o._queue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{yield(r=(0,l.Z)(function*(c){if(!cs.D())return Promise.resolve();const d=c+"main";yield cs.delete(d)}),function s(c){return r.apply(this,arguments)})(Zp(o._databaseId,o._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Jv(o){return function(r){const s=new Yi;return r.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Sy(o,e){return uf.apply(this,arguments)}(yield Jd(r),s)})),s.promise}(oo(o=ai(o,Ni)))}function zg(o){return function Uv(o){return o.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield Yu(o),r=yield Df(o);return e.setNetworkEnabled(!0),function(c){const d=vn(c);return d.v_.delete(0),hc(d)}(r)}))}(oo(o=ai(o,Ni)))}function eE(o){return function jv(o){return o.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield Yu(o),r=yield Df(o);return e.setNetworkEnabled(!1),(s=(0,l.Z)(function*(d){const p=vn(d);p.v_.add(0),yield fc(p),p.x_.set("Offline")}),function c(d){return s.apply(this,arguments)})(r);var s}))}(oo(o=ai(o,Ni)))}function tE(o,e){const r=oo(o=ai(o,Ni)),s=new $y;return function Wv(o,e,r,s){const c=function(p,w){let R;return R="string"==typeof p?Sm().encode(p):p,X=function(X,De){if(X instanceof Uint8Array)return $v(X,void 0);if(X instanceof ArrayBuffer)return $v(new Uint8Array(X),void 0);if(X instanceof ReadableStream)return X.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new Py(X,w);var X}(r,Zc(e));o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){!function Lv(o,e,r){const s=vn(o);var c;(c=(0,l.Z)(function*(p,w,R){try{const L=yield w.getMetadata();if(yield function(hn,Sn){const En=vn(hn),pr=Eo(Sn.createTime);return En.persistence.runTransaction("hasNewerBundle","readonly",Or=>En.$r.getBundleMetadata(Or,Sn.id)).then(Or=>!!Or&&Or.createTime.compareTo(pr)>=0)}(p.localStore,L))return yield w.close(),R._completeWith({taskState:"Success",documentsLoaded:(hn=L).totalDocuments,bytesLoaded:hn.totalBytes,totalDocuments:hn.totalDocuments,totalBytes:hn.totalBytes}),Promise.resolve(new Set);R._updateProgress(Iy(L));const X=new lf(L,p.localStore,w.serializer);let De=yield w.Oa();for(;De;){const Dt=yield X.na(De);Dt&&R._updateProgress(Dt),De=yield w.Oa()}const et=yield X.complete();return yield Ua(p,et.sa,void 0),yield function(hn,Sn){const En=vn(hn);return En.persistence.runTransaction("Save bundle","readwrite",pr=>En.$r.saveBundleMetadata(pr,Sn))}(p.localStore,L),R._completeWith(et.progress),Promise.resolve(et.ia)}catch(L){return Vi("SyncEngine",`Loading bundle failed with ${L}`),R._failWith(L),Promise.resolve(new Set)}var hn}),function d(p,w,R){return c.apply(this,arguments)})(s,e,r).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield Jd(o),c,s)}))}(r,o._databaseId,e,s),s}function nE(o,e){return function Ny(o,e){return o.asyncQueue.enqueue((0,l.Z)(function*(){return function(s,c){const d=vn(s);return d.persistence.runTransaction("Get named query","readonly",p=>d.$r.getNamedQuery(p,c))}(yield Qc(o),e)}))}(oo(o=ai(o,Ni)),e).then(r=>r?new Fo(o,null,r.query):null)}function Hg(o){if(o._initialized||o._terminated)throw new rn(Mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(ho.fromBase64String(e))}catch(r){throw new rn(Mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ol(ho.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class al{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new rn(Mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ja{constructor(e){this._methodName=e}}class yc{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new rn(Mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new rn(Mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tr(this._lat,e._lat)||Tr(this._long,e._long)}}const Hy=/^__.*__$/;class oE{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Qa(e,this.data,this.fieldMask,r,this.fieldTransforms):new tc(e,this.data,r,this.fieldTransforms)}}class Gy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Qa(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Wy(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw An()}}class Rf{constructor(e,r,s,c,d,p){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===d&&this.Eu(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Au({path:s,Vu:!1});return c.mu(e),c}fu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Au({path:s,Vu:!1});return c.Eu(),c}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Ji(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(Wy(this.du)&&Hy.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class YI{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Zc(e)}Su(e,r,s,c=!1){return new Rf({du:e,methodName:r,wu:s,path:Di.emptyPath(),Vu:!1,yu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(o){const e=o._freezeSettings(),r=Zc(o._databaseId);return new YI(o._databaseId,!!e.ignoreUndefinedProperties,r)}function eu(o,e,r,s,c,d={}){const p=o.Su(d.merge||d.mergeFields?2:0,e,r,c);Ta("Data must be an object, but it was:",p,s);const w=Ky(s,p);let R,L;if(d.merge)R=new Oo(p.fieldMask),L=p.fieldTransforms;else if(d.mergeFields){const X=[];for(const De of d.mergeFields){const et=Zu(e,De,r);if(!p.contains(et))throw new rn(Mt.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);Zy(X,et)||X.push(et)}R=new Oo(X),L=p.fieldTransforms.filter(De=>R.covers(De.field))}else R=null,L=p.fieldTransforms;return new oE(new yo(w),R,L)}class ih extends ja{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ih}}function qy(o,e,r){return new Rf({du:3,wu:e.settings.wu,methodName:o._methodName,Vu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Yy extends ja{_toFieldTransform(e){return new wl(e.path,new Jl)}isEqual(e){return e instanceof Yy}}class Gg extends ja{constructor(e,r){super(e),this.bu=r}_toFieldTransform(e){const r=qy(this,e,!0),s=this.bu.map(d=>Xs(d,r)),c=new ya(s);return new wl(e.path,c)}isEqual(e){return e instanceof Gg&&(0,Ee.vZ)(this.bu,e.bu)}}class Wg extends ja{constructor(e,r){super(e),this.bu=r}_toFieldTransform(e){const r=qy(this,e,!0),s=this.bu.map(d=>Xs(d,r)),c=new Dl(s);return new wl(e.path,c)}isEqual(e){return e instanceof Wg&&(0,Ee.vZ)(this.bu,e.bu)}}class qg extends ja{constructor(e,r){super(e),this.Du=r}_toFieldTransform(e){const r=new Cl(e.serializer,hr(e.serializer,this.Du));return new wl(e.path,r)}isEqual(e){return e instanceof qg&&this.Du===e.Du}}function Yg(o,e,r,s){const c=o.Su(1,e,r);Ta("Data must be an object, but it was:",c,s);const d=[],p=yo.empty();Ka(s,(R,L)=>{const X=Xg(e,R,r);L=(0,Ee.m9)(L);const De=c.fu(X);if(L instanceof ih)d.push(X);else{const et=Xs(L,De);null!=et&&(d.push(X),p.set(X,et))}});const w=new Oo(d);return new Gy(p,w,c.fieldTransforms)}function Kg(o,e,r,s,c,d){const p=o.Su(1,e,r),w=[Zu(e,s,r)],R=[c];if(d.length%2!=0)throw new rn(Mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let et=0;et<d.length;et+=2)w.push(Zu(e,d[et])),R.push(d[et+1]);const L=[],X=yo.empty();for(let et=w.length-1;et>=0;--et)if(!Zy(L,w[et])){const Dt=w[et];let hn=R[et];hn=(0,Ee.m9)(hn);const Sn=p.fu(Dt);if(hn instanceof ih)L.push(Dt);else{const En=Xs(hn,Sn);null!=En&&(L.push(Dt),X.set(Dt,En))}}const De=new Oo(L);return new Gy(X,De,p.fieldTransforms)}function Zg(o,e,r,s=!1){return Xs(r,o.Su(s?4:3,e))}function Xs(o,e){if(Mf(o=(0,Ee.m9)(o)))return Ta("Unsupported field value:",e,o),Ky(o,e);if(o instanceof ja)return function(s,c){if(!Wy(c.du))throw c.pu(`${s._methodName}() can only be used with update() and set()`);if(!c.path)throw c.pu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(c);d&&c.fieldTransforms.push(d)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(s,c){const d=[];let p=0;for(const w of s){let R=Xs(w,c.gu(p));null==R&&(R={nullValue:"NULL_VALUE"}),d.push(R),p++}return{arrayValue:{values:d}}}(o,e)}return function(s,c){if(null===(s=(0,Ee.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return hr(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=ri.fromDate(s);return{timestampValue:Al(c.serializer,d)}}if(s instanceof ri){const d=new ri(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Al(c.serializer,d)}}if(s instanceof yc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ol)return{bytesValue:Rp(c.serializer,s._byteString)};if(s instanceof go){const d=c.databaseId,p=s.firestore._databaseId;if(!p.isEqual(d))throw c.pu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Mp(s.firestore._databaseId||c.databaseId,s._key.path)}}throw c.pu(`Unsupported field value: ${bf(s)}`)}(o,e)}function Ky(o,e){const r={};return xa(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(o,(s,c)=>{const d=Xs(c,e.Ru(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function Mf(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof ri||o instanceof yc||o instanceof Ol||o instanceof go||o instanceof ja)}function Ta(o,e,r){if(!Mf(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const s=bf(r);throw e.pu("an object"===s?o+" a custom object":o+" "+s)}var c}function Zu(o,e,r){if((e=(0,Ee.m9)(e))instanceof al)return e._internalPath;if("string"==typeof e)return Xg(o,e);throw Ji("Field path arguments must be of type string or ",o,!1,void 0,r)}const sE=new RegExp("[~\\*/\\[\\]]");function Xg(o,e,r){if(e.search(sE)>=0)throw Ji(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,r);try{return new al(...e.split("."))._internalPath}catch{throw Ji(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,r)}}function Ji(o,e,r,s,c){const d=s&&!s.isEmpty(),p=void 0!==c;let w=`Function ${e}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let R="";return(d||p)&&(R+=" (found",d&&(R+=` in field ${s}`),p&&(R+=` in document ${c}`),R+=")"),new rn(Mt.INVALID_ARGUMENT,w+o+R)}function Zy(o,e){return o.some(r=>r.isEqual(e))}class tu{constructor(e,r,s,c,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new go(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Pf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class aE extends tu{data(){return super.data()}}function Pf(o,e){return"string"==typeof e?Xg(o,e):e instanceof al?e._internalPath:e._delegate._internalPath}function xf(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new rn(Mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Of{}class Xu extends Of{}function Xy(o,e,...r){let s=[];e instanceof Of&&s.push(e),s=s.concat(r),function(d){const p=d.filter(R=>R instanceof Da).length,w=d.filter(R=>R instanceof oh).length;if(p>1||p>0&&w>0)throw new rn(Mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)o=c._apply(o);return o}class oh extends Xu{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new oh(e,r,s)}_apply(e){const r=this._parse(e);return Qu(e._query,r),new Fo(e.firestore,e.converter,Ih(e._query,r))}_parse(e){const r=Ku(e.firestore);return function(d,p,w,R,L,X,De){let et;if(L.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new rn(Mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){n_(De,X);const Dt=[];for(const hn of De)Dt.push(t_(R,d,hn));et={arrayValue:{values:Dt}}}else et=t_(R,d,De)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||n_(De,X),et=Zg(w,"where",De,"in"===X||"not-in"===X);return dr.create(L,X,et)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function lE(o,e,r){const s=e,c=Pf("where",o);return oh._create(c,s,r)}class Da extends Of{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Da(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:bi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(c,d){let p=c;const w=d.getFlattenedFilters();for(const R of w)Qu(p,R),p=Ih(p,R)}(e._query,r),new Fo(e.firestore,e.converter,Ih(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Qg extends Xu{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Qg(e,r)}_apply(e){const r=function(c,d,p){if(null!==c.startAt)throw new rn(Mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new rn(Mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(d,p)}(e._query,this._field,this._direction);return new Fo(e.firestore,e.converter,function(c,d){const p=c.explicitOrderBy.concat([d]);return new Qo(c.path,c.collectionGroup,p,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,r))}}function Qy(o,e="asc"){const r=e,s=Pf("orderBy",o);return Qg._create(s,r)}class sh extends Xu{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new sh(e,r,s)}_apply(e){return new Fo(e.firestore,e.converter,yu(e._query,this._limit,this._limitType))}}function Jy(o){return Ly("limit",o),sh._create("limit",o,"F")}function ah(o){return Ly("limitToLast",o),sh._create("limitToLast",o,"L")}class Nf extends Xu{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Nf(e,r,s)}_apply(e){const r=em(e,this.type,this._docOrFields,this._inclusive);return new Fo(e.firestore,e.converter,(d=r,new Qo((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,d,c.endAt)));var c,d}}function dE(...o){return Nf._create("startAt",o,!0)}function Jg(...o){return Nf._create("startAfter",o,!1)}class kf extends Xu{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new kf(e,r,s)}_apply(e){const r=em(e,this.type,this._docOrFields,this._inclusive);return new Fo(e.firestore,e.converter,(d=r,new Qo((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,d)));var c,d}}function Ff(...o){return kf._create("endBefore",o,!1)}function e_(...o){return kf._create("endAt",o,!0)}function em(o,e,r,s){if(r[0]=(0,Ee.m9)(r[0]),r[0]instanceof tu)return function(d,p,w,R,L){if(!R)throw new rn(Mt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const X=[];for(const De of ma(d))if(De.field.isKeyField())X.push(ml(p,R.key));else{const et=R.data.field(De.field);if(jl(et))throw new rn(Mt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+De.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===et){const Dt=De.field.canonicalString();throw new rn(Mt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dt}' (used as the orderBy) does not exist.`)}X.push(et)}return new ds(X,L)}(o._query,o.firestore._databaseId,e,r[0]._document,s);{const c=Ku(o.firestore);return function(p,w,R,L,X,De){const et=p.explicitOrderBy;if(X.length>et.length)throw new rn(Mt.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dt=[];for(let hn=0;hn<X.length;hn++){const Sn=X[hn];if(et[hn].field.isKeyField()){if("string"!=typeof Sn)throw new rn(Mt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof Sn}`);if(!mu(p)&&-1!==Sn.indexOf("/"))throw new rn(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${L}() must be a plain document ID, but '${Sn}' contains a slash.`);const En=p.path.child(Wr.fromString(Sn));if(!pn.isDocumentKey(En))throw new rn(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${L}() must result in a valid document path, but '${En}' is not because it contains an odd number of segments.`);const pr=new pn(En);Dt.push(ml(w,pr))}else{const En=Zg(R,L,Sn);Dt.push(En)}}return new ds(Dt,De)}(o._query,o.firestore._databaseId,c,e,r,s)}}function t_(o,e,r){if("string"==typeof(r=(0,Ee.m9)(r))){if(""===r)throw new rn(Mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mu(e)&&-1!==r.indexOf("/"))throw new rn(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(Wr.fromString(r));if(!pn.isDocumentKey(s))throw new rn(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ml(o,new pn(s))}if(r instanceof go)return ml(o,r._key);throw new rn(Mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(r)}.`)}function n_(o,e){if(!Array.isArray(o)||0===o.length)throw new rn(Mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qu(o,e){const r=function(c,d){for(const p of c)for(const w of p.getFlattenedFilters())if(d.indexOf(w.op)>=0)return w.op;return null}(o.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new rn(Mt.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class tm{convertValue(e,r="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw An()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ka(e,(c,d)=>{s[c]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new yc(Pi(e.latitude),Pi(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Za(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const r=Is(e);return new ri(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Wr.fromString(e);Nn(tv(s));const c=new Oa(s.get(1),s.get(3)),d=new pn(s.popFirst(5));return c.isEqual(r)||pi(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function Lf(o,e,r){let s;return s=o?r&&(r.merge||r.mergeFields)?o.toFirestore(e,r):o.toFirestore(e):e,s}class hE extends tm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new go(this.firestore,null,r)}}class Nl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends tu{constructor(e,r,s,c,d,p){super(e,r,s,c,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Pf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class lh extends nu{data(e={}){return super.data(e)}}class ll{constructor(e,r,s,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new Nl(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new lh(this._firestore,this._userDataWriter,s.key,s,new Nl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new rn(Mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,d){if(c._snapshot.oldDocs.isEmpty()){let p=0;return c._snapshot.docChanges.map(w=>({type:"added",doc:new lh(c._firestore,c._userDataWriter,w.doc.key,w.doc,new Nl(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:p++}))}{let p=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(w=>d||3!==w.type).map(w=>{const R=new lh(c._firestore,c._userDataWriter,w.doc.key,w.doc,new Nl(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter);let L=-1,X=-1;return 0!==w.type&&(L=p.indexOf(w.doc.key),p=p.delete(w.doc.key)),1!==w.type&&(p=p.add(w.doc),X=p.indexOf(w.doc.key)),{type:gE(w.type),doc:R,oldIndex:L,newIndex:X}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function gE(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return An()}}function mE(o,e){return o instanceof nu&&e instanceof nu?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof ll&&e instanceof ll&&o._firestore===e._firestore&&nh(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}function yE(o){o=ai(o,go);const e=ai(o.firestore,Ni);return Lg(oo(e),o._key).then(r=>l_(e,o,r))}class _c extends tm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new go(this.firestore,null,r)}}function _E(o){o=ai(o,go);const e=ai(o.firestore,Ni),r=oo(e),s=new _c(e);return function zv(o,e){const r=new Yi;return o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(s=(0,l.Z)(function*(d,p,w){try{const R=yield function(X,De){const et=vn(X);return et.persistence.runTransaction("read document","readonly",Dt=>et.localDocuments.getDocument(Dt,De))}(d,p);R.isFoundDocument()?w.resolve(R):R.isNoDocument()?w.resolve(null):w.reject(new rn(Mt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const L=$u(R,`Failed to get document '${p} from cache`);w.reject(L)}}),function c(d,p,w){return s.apply(this,arguments)})(yield Qc(o),e,r);var s})),r.promise}(r,o._key).then(c=>new nu(e,s,o._key,c,new Nl(null!==c&&c.hasLocalMutations,!0),o.converter))}function vE(o){o=ai(o,go);const e=ai(o.firestore,Ni);return Lg(oo(e),o._key,{source:"server"}).then(r=>l_(e,o,r))}function EE(o){o=ai(o,Fo);const e=ai(o.firestore,Ni),r=oo(e),s=new _c(e);return xf(o._query),Oy(r,o._query).then(c=>new ll(e,s,o,c))}function i_(o){o=ai(o,Fo);const e=ai(o.firestore,Ni),r=oo(e),s=new _c(e);return function Hv(o,e){const r=new Yi;return o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(s=(0,l.Z)(function*(d,p,w){try{const R=yield Fd(d,p,!0),L=new Ty(p,R.hs),X=L.ha(R.documents),De=L.applyChanges(X,!1);w.resolve(De.snapshot)}catch(R){const L=$u(R,`Failed to execute query '${p} against cache`);w.reject(L)}}),function c(d,p,w){return s.apply(this,arguments)})(yield Qc(o),e,r);var s})),r.promise}(r,o._query).then(c=>new ll(e,s,o,c))}function o_(o){o=ai(o,Fo);const e=ai(o.firestore,Ni),r=oo(e),s=new _c(e);return Oy(r,o._query,{source:"server"}).then(c=>new ll(e,s,o,c))}function IE(o,e,r){o=ai(o,go);const s=ai(o.firestore,Ni),c=Lf(o.converter,e,r);return ch(s,[eu(Ku(s),"setDoc",o._key,c,null!==o.converter,r).toMutation(o._key,Oi.none())])}function QI(o,e,r,...s){o=ai(o,go);const c=ai(o.firestore,Ni),d=Ku(c);let p;return p="string"==typeof(e=(0,Ee.m9)(e))||e instanceof al?Kg(d,"updateDoc",o._key,e,r,s):Yg(d,"updateDoc",o._key,e),ch(c,[p.toMutation(o._key,Oi.exists(!0))])}function s_(o){return ch(ai(o.firestore,Ni),[new rc(o._key,Oi.none())])}function a_(o,e){const r=ai(o.firestore,Ni),s=By(o),c=Lf(o.converter,e);return ch(r,[eu(Ku(o.firestore),"addDoc",s._key,c,null!==o.converter,{}).toMutation(s._key,Oi.exists(!1))]).then(()=>s)}function nm(o,...e){var r,s,c;o=(0,Ee.m9)(o);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Ug(e[p])||(d=e[p],p++);const w={includeMetadataChanges:d.includeMetadataChanges};if(Ug(e[p])){const De=e[p];e[p]=null===(r=De.next)||void 0===r?void 0:r.bind(De),e[p+1]=null===(s=De.error)||void 0===s?void 0:s.bind(De),e[p+2]=null===(c=De.complete)||void 0===c?void 0:c.bind(De)}let R,L,X;if(o instanceof go)L=ai(o.firestore,Ni),X=_o(o._key.path),R={next:De=>{e[p]&&e[p](l_(L,o,De))},error:e[p+1],complete:e[p+2]};else{const De=ai(o,Fo);L=ai(De.firestore,Ni),X=De._query;const et=new _c(L);R={next:Dt=>{e[p]&&e[p](new ll(L,et,De,Dt))},error:e[p+1],complete:e[p+2]},xf(o._query)}return function(et,Dt,hn,Sn){const En=new Ng(Sn),pr=new af(Dt,En,hn);return et.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return _g(yield Jc(et),pr)})),()=>{En.La(),et.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return Gd(yield Jc(et),pr)}))}}(oo(L),X,w,R)}function TE(o,e){return function Gv(o,e){const r=new Ng(e);return o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return c=yield Jc(o),d=r,vn(c).K_.add(d),void d.next();var c,d})),()=>{r.La(),o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return c=yield Jc(o),d=r,void vn(c).K_.delete(d);var c,d}))}}(oo(o=ai(o,Ni)),Ug(e)?e:{next:e})}function ch(o,e){return function(s,c){const d=new Yi;return s.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Mv(o,e,r){return by.apply(this,arguments)}(yield Jd(s),c,d)})),d.promise}(oo(o),e)}function l_(o,e,r){const s=r.docs.get(e._key),c=new _c(o);return new nu(o,c,e._key,s,new Nl(r.hasPendingWrites,r.fromCache),e.converter)}const d_={maxAttempts:5};class h_{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ku(e)}set(e,r,s){this._verifyNotCommitted();const c=Ca(e,this._firestore),d=Lf(c.converter,r,s),p=eu(this._dataReader,"WriteBatch.set",c._key,d,null!==c.converter,s);return this._mutations.push(p.toMutation(c._key,Oi.none())),this}update(e,r,s,...c){this._verifyNotCommitted();const d=Ca(e,this._firestore);let p;return p="string"==typeof(r=(0,Ee.m9)(r))||r instanceof al?Kg(this._dataReader,"WriteBatch.update",d._key,r,s,c):Yg(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(p.toMutation(d._key,Oi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Ca(e,this._firestore);return this._mutations=this._mutations.concat(new rc(r._key,Oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rn(Mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ca(o,e){if((o=(0,Ee.m9)(o)).firestore!==e)throw new rn(Mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class f_ extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Ku(r)}get(r){const s=Ca(r,this._firestore),c=new hE(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return An();const p=d[0];if(p.isFoundDocument())return new tu(this._firestore,c,p.key,p,s.converter);if(p.isNoDocument())return new tu(this._firestore,c,s._key,null,s.converter);throw An()})}set(r,s,c){const d=Ca(r,this._firestore),p=Lf(d.converter,s,c),w=eu(this._dataReader,"Transaction.set",d._key,p,null!==d.converter,c);return this._transaction.set(d._key,w),this}update(r,s,c,...d){const p=Ca(r,this._firestore);let w;return w="string"==typeof(s=(0,Ee.m9)(s))||s instanceof al?Kg(this._dataReader,"Transaction.update",p._key,s,c,d):Yg(this._dataReader,"Transaction.update",p._key,s),this._transaction.update(p._key,w),this}delete(r){const s=Ca(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Ca(e,this._firestore),s=new _c(this._firestore);return super.get(e).then(c=>new nu(this._firestore,s,r._key,c._document,new Nl(!1,!1),r.converter))}}function bE(o,e,r){o=ai(o,Ni);const s=Object.assign(Object.assign({},d_),r);return function(d){if(d.maxAttempts<1)throw new rn(Mt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,p,w){const R=new Yi;return d.asyncQueue.enqueueAndForget((0,l.Z)(function*(){const L=yield function Cf(o){return Pl(o).then(e=>e.datastore)}(d);new WI(d.asyncQueue,L,w,p,R).ja()})),R.promise}(oo(o),c=>e(new f_(o,c)),s)}function p_(){return new ih("deleteField")}function Uf(){return new Yy("serverTimestamp")}function AE(...o){return new Gg("arrayUnion",o)}function SE(...o){return new Wg("arrayRemove",o)}function RE(o){return new qg("increment",o)}!function(e,r=!0){fi=P.SDK_VERSION,(0,P._registerComponent)(new _e.wA("firestore",(s,{instanceIdentifier:c,options:d})=>{const p=s.getProvider("app").getImmediate(),w=new Ni(new Ll(s.getProvider("auth-internal")),new Si(s.getProvider("app-check-internal")),function(L,X){if(!Object.prototype.hasOwnProperty.apply(L.options,["projectId"]))throw new rn(Mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(L.options.projectId,X)}(p,c),p);return d=Object.assign({useFetchStreams:r},d),w._setSettings(d),w},"PUBLIC").setMultipleInstances(!0)),(0,P.registerVersion)(Kr,"4.4.1",e),(0,P.registerVersion)(Kr,"4.4.1","esm2017")}()},9058:(an,tt,M)=>{"use strict";M.d(tt,{BH:()=>je,G6:()=>ot,L:()=>Ke,LL:()=>ut,P0:()=>Qe,Pz:()=>He,Sg:()=>Ie,UG:()=>ke,ZB:()=>Oe,ZR:()=>rt,aH:()=>xe,b$:()=>it,eu:()=>ce,hl:()=>Se,jU:()=>Re,m9:()=>Ir,ne:()=>zr,pd:()=>Kn,q4:()=>Ue,r3:()=>Ot,ru:()=>nt,tV:()=>ie,uI:()=>W,vZ:()=>mn,w1:()=>Ut,xO:()=>Mr,xb:()=>At,z$:()=>ue,zd:()=>cr});const le=function(Ne){const Y=[];let J=0;for(let Z=0;Z<Ne.length;Z++){let ee=Ne.charCodeAt(Z);ee<128?Y[J++]=ee:ee<2048?(Y[J++]=ee>>6|192,Y[J++]=63&ee|128):55296==(64512&ee)&&Z+1<Ne.length&&56320==(64512&Ne.charCodeAt(Z+1))?(ee=65536+((1023&ee)<<10)+(1023&Ne.charCodeAt(++Z)),Y[J++]=ee>>18|240,Y[J++]=ee>>12&63|128,Y[J++]=ee>>6&63|128,Y[J++]=63&ee|128):(Y[J++]=ee>>12|224,Y[J++]=ee>>6&63|128,Y[J++]=63&ee|128)}return Y},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ne,Y){if(!Array.isArray(Ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let ee=0;ee<Ne.length;ee+=3){const Je=Ne[ee],Ft=ee+1<Ne.length,dn=Ft?Ne[ee+1]:0,Zn=ee+2<Ne.length,xn=Zn?Ne[ee+2]:0;let Cr=(15&dn)<<2|xn>>6,ei=63&xn;Zn||(ei=64,Ft||(Cr=64)),Z.push(J[Je>>2],J[(3&Je)<<4|dn>>4],J[Cr],J[ei])}return Z.join("")},encodeString(Ne,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(Ne):this.encodeByteArray(le(Ne),Y)},decodeString(Ne,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(Ne):function(Ne){const Y=[];let J=0,Z=0;for(;J<Ne.length;){const ee=Ne[J++];if(ee<128)Y[Z++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Je=Ne[J++];Y[Z++]=String.fromCharCode((31&ee)<<6|63&Je)}else if(ee>239&&ee<365){const Zn=((7&ee)<<18|(63&Ne[J++])<<12|(63&Ne[J++])<<6|63&Ne[J++])-65536;Y[Z++]=String.fromCharCode(55296+(Zn>>10)),Y[Z++]=String.fromCharCode(56320+(1023&Zn))}else{const Je=Ne[J++],Ft=Ne[J++];Y[Z++]=String.fromCharCode((15&ee)<<12|(63&Je)<<6|63&Ft)}}return Y.join("")}(this.decodeStringToByteArray(Ne,Y))},decodeStringToByteArray(Ne,Y){this.init_();const J=Y?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let ee=0;ee<Ne.length;){const Je=J[Ne.charAt(ee++)],dn=ee<Ne.length?J[Ne.charAt(ee)]:0;++ee;const xn=ee<Ne.length?J[Ne.charAt(ee)]:64;++ee;const Jn=ee<Ne.length?J[Ne.charAt(ee)]:64;if(++ee,null==Je||null==dn||null==xn||null==Jn)throw new ye;Z.push(Je<<2|dn>>4),64!==xn&&(Z.push(dn<<4&240|xn>>2),64!==Jn&&Z.push(xn<<6&192|Jn))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ne=0;Ne<this.ENCODED_VALS.length;Ne++)this.byteToCharMap_[Ne]=this.ENCODED_VALS.charAt(Ne),this.charToByteMap_[this.byteToCharMap_[Ne]]=Ne,this.byteToCharMapWebSafe_[Ne]=this.ENCODED_VALS_WEBSAFE.charAt(Ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ne]]=Ne,Ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ne)]=Ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ne)]=Ne)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ke=function(Ne){return function(Ne){const Y=le(Ne);return ge.encodeByteArray(Y,!0)}(Ne).replace(/\./g,"")},ie=function(Ne){try{return ge.decodeString(Ne,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function Oe(Ne,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===Ne&&(Ne={});break;case Array:Ne=[];break;default:return Y}for(const J in Y)!Y.hasOwnProperty(J)||!ze(J)||(Ne[J]=Oe(Ne[J],Y[J]));return Ne}function ze(Ne){return"__proto__"!==Ne}const Te=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ne=process.env.__FIREBASE_DEFAULTS__;return Ne?JSON.parse(Ne):void 0})()||(()=>{if(typeof document>"u")return;let Ne;try{Ne=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=Ne&&ie(Ne[1]);return Y&&JSON.parse(Y)})()}catch(Ne){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ne}`)}},Ue=Ne=>{var Y,J;return null===(J=null===(Y=Te())||void 0===Y?void 0:Y.emulatorHosts)||void 0===J?void 0:J[Ne]},Qe=Ne=>{const Y=Ue(Ne);if(!Y)return;const J=Y.lastIndexOf(":");if(J<=0||J+1===Y.length)throw new Error(`Invalid host ${Y} with no separate hostname and port!`);const Z=parseInt(Y.substring(J+1),10);return"["===Y[0]?[Y.substring(1,J-1),Z]:[Y.substring(0,J),Z]},xe=()=>{var Ne;return null===(Ne=Te())||void 0===Ne?void 0:Ne.config},He=Ne=>{var Y;return null===(Y=Te())||void 0===Y?void 0:Y[`_${Ne}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,J)=>{this.resolve=Y,this.reject=J})}wrapCallback(Y){return(J,Z)=>{J?this.reject(J):this.resolve(Z),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(J):Y(J,Z))}}}function Ie(Ne,Y){if(Ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=Y||"demo-project",ee=Ne.iat||0,Je=Ne.sub||Ne.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ft=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:ee,exp:ee+3600,auth_time:ee,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},Ne);return[Ke(JSON.stringify({alg:"none",type:"JWT"})),Ke(JSON.stringify(Ft)),""].join(".")}function ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ue())}function ke(){var Ne;const Y=null===(Ne=Te())||void 0===Ne?void 0:Ne.forceEnvironment;if("node"===Y)return!0;if("browser"===Y)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Re(){return"object"==typeof self&&self.self===self}function nt(){const Ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ne&&void 0!==Ne.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ut(){const Ne=ue();return Ne.indexOf("MSIE ")>=0||Ne.indexOf("Trident/")>=0}function ot(){return!ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function ce(){return new Promise((Ne,Y)=>{try{let J=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(Z);ee.onsuccess=()=>{ee.result.close(),J||self.indexedDB.deleteDatabase(Z),Ne(!0)},ee.onupgradeneeded=()=>{J=!1},ee.onerror=()=>{var Je;Y((null===(Je=ee.error)||void 0===Je?void 0:Je.message)||"")}}catch(J){Y(J)}})}class rt extends Error{constructor(Y,J,Z){super(J),this.code=Y,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor(Y,J,Z){this.service=Y,this.serviceName=J,this.errors=Z}create(Y,...J){const Z=J[0]||{},ee=`${this.service}/${Y}`,Je=this.errors[Y],Ft=Je?function $t(Ne,Y){return Ne.replace(on,(J,Z)=>{const ee=Y[Z];return null!=ee?String(ee):`<${Z}?>`})}(Je,Z):"Error";return new rt(ee,`${this.serviceName}: ${Ft} (${ee}).`,Z)}}const on=/\{\$([^}]+)}/g;function Ot(Ne,Y){return Object.prototype.hasOwnProperty.call(Ne,Y)}function At(Ne){for(const Y in Ne)if(Object.prototype.hasOwnProperty.call(Ne,Y))return!1;return!0}function mn(Ne,Y){if(Ne===Y)return!0;const J=Object.keys(Ne),Z=Object.keys(Y);for(const ee of J){if(!Z.includes(ee))return!1;const Je=Ne[ee],Ft=Y[ee];if(Ln(Je)&&Ln(Ft)){if(!mn(Je,Ft))return!1}else if(Je!==Ft)return!1}for(const ee of Z)if(!J.includes(ee))return!1;return!0}function Ln(Ne){return null!==Ne&&"object"==typeof Ne}function Mr(Ne){const Y=[];for(const[J,Z]of Object.entries(Ne))Array.isArray(Z)?Z.forEach(ee=>{Y.push(encodeURIComponent(J)+"="+encodeURIComponent(ee))}):Y.push(encodeURIComponent(J)+"="+encodeURIComponent(Z));return Y.length?"&"+Y.join("&"):""}function cr(Ne){const Y={};return Ne.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[ee,Je]=Z.split("=");Y[decodeURIComponent(ee)]=decodeURIComponent(Je)}}),Y}function Kn(Ne){const Y=Ne.indexOf("?");if(!Y)return"";const J=Ne.indexOf("#",Y);return Ne.substring(Y,J>0?J:void 0)}function zr(Ne,Y){const J=new Vn(Ne,Y);return J.subscribe.bind(J)}class Vn{constructor(Y,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{Y(this)}).catch(Z=>{this.error(Z)})}next(Y){this.forEachObserver(J=>{J.next(Y)})}error(Y){this.forEachObserver(J=>{J.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,J,Z){let ee;if(void 0===Y&&void 0===J&&void 0===Z)throw new Error("Missing Observer.");ee=function Dn(Ne,Y){if("object"!=typeof Ne||null===Ne)return!1;for(const J of Y)if(J in Ne&&"function"==typeof Ne[J])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:J,complete:Z},void 0===ee.next&&(ee.next=mr),void 0===ee.error&&(ee.error=mr),void 0===ee.complete&&(ee.complete=mr);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Je}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,Y)}sendOne(Y,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{J(this.observers[Y])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mr(){}function Ir(Ne){return Ne&&Ne._delegate?Ne._delegate:Ne}},3630:(an,tt,M)=>{"use strict";M.d(tt,{c:()=>_e,r:()=>oe});const _e=(ue,W)=>{ue.componentOnReady?ue.componentOnReady().then(ke=>W(ke)):oe(()=>W(ue))},oe=ue=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ue):"function"==typeof requestAnimationFrame?requestAnimationFrame(ue):setTimeout(ue)},191:(an,tt,M)=>{"use strict";M.d(tt,{L:()=>l,a:()=>P,b:()=>_e,c:()=>le,d:()=>Ee,g:()=>ue});const l="ionViewWillEnter",P="ionViewDidEnter",_e="ionViewWillLeave",le="ionViewDidLeave",Ee="ionViewWillUnload",ue=W=>W.classList.contains("ion-page")?W:W.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||W},4913:(an,tt,M)=>{"use strict";M.d(tt,{c:()=>ct});var l=M(1848),P=M(512);let _e;const Ee=We=>We.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ge=We=>(void 0===_e&&(_e=void 0===We.style.animationName&&void 0!==We.style.webkitAnimationName?"-webkit-":""),_e),ye=(We,Te,Ue)=>{const Qe=Te.startsWith("animation")?ge(We):"";We.style.setProperty(Qe+Te,Ue)},ve=(We,Te)=>{const Ue=Te.startsWith("animation")?ge(We):"";We.style.removeProperty(Ue+Te)},oe=[],Fe=(We=[],Te)=>{if(void 0!==Te){const Ue=Array.isArray(Te)?Te:[Te];return[...We,...Ue]}return We},ct=We=>{let Te,Ue,Qe,xe,He,je,Re,Se,ce,Me,fe,on,qt,Ie=[],ue=[],W=[],ke=!1,nt={},it=[],lt=[],Ut={},Vt=0,Zt=!1,ot=!1,rt=!0,ut=!1,$t=!0,Lt=!1;const In=We,Xn=[],kt=[],Et=[],mt=[],Ot=[],fn=[],At=[],Bn=[],mn=[],Ln=[],Hn=[],Mr="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,cr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Mr,Fn=()=>Hn,mr=(N,q)=>{const Ce=q.findIndex(Ye=>Ye.c===N);Ce>-1&&q.splice(Ce,1)},$n=(N,q)=>((q?.oneTimeCallback?kt:Xn).push({c:N,o:q}),qt),zt=()=>{if(cr)Hn.forEach(N=>{N.cancel()}),Hn.length=0;else{const N=mt.slice();(0,P.r)(()=>{N.forEach(q=>{ve(q,"animation-name"),ve(q,"animation-duration"),ve(q,"animation-timing-function"),ve(q,"animation-iteration-count"),ve(q,"animation-delay"),ve(q,"animation-play-state"),ve(q,"animation-fill-mode"),ve(q,"animation-direction")})})}},wr=()=>{fn.forEach(N=>{N?.parentNode&&N.parentNode.removeChild(N)}),fn.length=0},Y=()=>void 0!==He?He:Re?Re.getFill():"both",J=()=>void 0!==ce?ce:void 0!==je?je:Re?Re.getDirection():"normal",Z=()=>Zt?"linear":void 0!==Qe?Qe:Re?Re.getEasing():"linear",ee=()=>ot?0:void 0!==Me?Me:void 0!==Ue?Ue:Re?Re.getDuration():0,Je=()=>void 0!==xe?xe:Re?Re.getIterations():1,Ft=()=>void 0!==fe?fe:void 0!==Te?Te:Re?Re.getDelay():0,kn=()=>{0!==Vt&&(Vt--,0===Vt&&((()=>{se(),mn.forEach(dt=>dt()),Ln.forEach(dt=>dt());const N=rt?1:0,q=it,Ce=lt,Ye=Ut;mt.forEach(dt=>{const _t=dt.classList;q.forEach(Pt=>_t.add(Pt)),Ce.forEach(Pt=>_t.remove(Pt));for(const Pt in Ye)Ye.hasOwnProperty(Pt)&&ye(dt,Pt,Ye[Pt])}),Me=void 0,ce=void 0,fe=void 0,Xn.forEach(dt=>dt.c(N,qt)),kt.forEach(dt=>dt.c(N,qt)),kt.length=0,$t=!0,rt&&(ut=!0),rt=!0})(),Re&&Re.animationFinish()))},ir=(N=!0)=>{wr();const q=(We=>(We.forEach(Te=>{for(const Ue in Te)if(Te.hasOwnProperty(Ue)){const Qe=Te[Ue];if("easing"===Ue)Te["animation-timing-function"]=Qe,delete Te[Ue];else{const xe=Ee(Ue);xe!==Ue&&(Te[xe]=Qe,delete Te[Ue])}}}),We))(Ie);mt.forEach(Ce=>{if(q.length>0){const Ye=((We=[])=>We.map(Te=>{const Ue=Te.offset,Qe=[];for(const xe in Te)Te.hasOwnProperty(xe)&&"offset"!==xe&&Qe.push(`${xe}: ${Te[xe]};`);return`${100*Ue}% { ${Qe.join(" ")} }`}).join(" "))(q);on=void 0!==We?We:(We=>{let Te=oe.indexOf(We);return Te<0&&(Te=oe.push(We)-1),`ion-animation-${Te}`})(Ye);const dt=((We,Te,Ue)=>{var Qe;const xe=(We=>{const Te=void 0!==We.getRootNode?We.getRootNode():We;return Te.head||Te})(Ue),He=ge(Ue),je=xe.querySelector("#"+We);if(je)return je;const Ie=(null!==(Qe=Ue.ownerDocument)&&void 0!==Qe?Qe:document).createElement("style");return Ie.id=We,Ie.textContent=`@${He}keyframes ${We} { ${Te} } @${He}keyframes ${We}-alt { ${Te} }`,xe.appendChild(Ie),Ie})(on,Ye,Ce);fn.push(dt),ye(Ce,"animation-duration",`${ee()}ms`),ye(Ce,"animation-timing-function",Z()),ye(Ce,"animation-delay",`${Ft()}ms`),ye(Ce,"animation-fill-mode",Y()),ye(Ce,"animation-direction",J());const _t=Je()===1/0?"infinite":Je().toString();ye(Ce,"animation-iteration-count",_t),ye(Ce,"animation-play-state","paused"),N&&ye(Ce,"animation-name",`${dt.id}-alt`),(0,P.r)(()=>{ye(Ce,"animation-name",dt.id||null)})}})},Gn=(N=!0)=>{(()=>{At.forEach(Ye=>Ye()),Bn.forEach(Ye=>Ye());const N=ue,q=W,Ce=nt;mt.forEach(Ye=>{const dt=Ye.classList;N.forEach(_t=>dt.add(_t)),q.forEach(_t=>dt.remove(_t));for(const _t in Ce)Ce.hasOwnProperty(_t)&&ye(Ye,_t,Ce[_t])})})(),Ie.length>0&&(cr?(mt.forEach(N=>{const q=N.animate(Ie,{id:In,delay:Ft(),duration:ee(),easing:Z(),iterations:Je(),fill:Y(),direction:J()});q.pause(),Hn.push(q)}),Hn.length>0&&(Hn[0].onfinish=()=>{kn()})):ir(N)),ke=!0},de=N=>{if(N=Math.min(Math.max(N,0),.9999),cr)Hn.forEach(q=>{q.currentTime=q.effect.getComputedTiming().delay+ee()*N,q.pause()});else{const q=`-${ee()*N}ms`;mt.forEach(Ce=>{Ie.length>0&&(ye(Ce,"animation-delay",q),ye(Ce,"animation-play-state","paused"))})}},Be=N=>{Hn.forEach(q=>{q.effect.updateTiming({delay:Ft(),duration:ee(),easing:Z(),iterations:Je(),fill:Y(),direction:J()})}),void 0!==N&&de(N)},Ge=(N=!0,q)=>{(0,P.r)(()=>{mt.forEach(Ce=>{ye(Ce,"animation-name",on||null),ye(Ce,"animation-duration",`${ee()}ms`),ye(Ce,"animation-timing-function",Z()),ye(Ce,"animation-delay",void 0!==q?`-${q*ee()}ms`:`${Ft()}ms`),ye(Ce,"animation-fill-mode",Y()||null),ye(Ce,"animation-direction",J()||null);const Ye=Je()===1/0?"infinite":Je().toString();ye(Ce,"animation-iteration-count",Ye),N&&ye(Ce,"animation-name",`${on}-alt`),(0,P.r)(()=>{ye(Ce,"animation-name",on||null)})})})},ft=(N=!1,q=!0,Ce)=>(N&&Ot.forEach(Ye=>{Ye.update(N,q,Ce)}),cr?Be(Ce):Ge(q,Ce),qt),Qt=()=>{ke&&(cr?Hn.forEach(N=>{N.pause()}):mt.forEach(N=>{ye(N,"animation-play-state","paused")}),Lt=!0)},pe=()=>{Se=void 0,kn()},se=()=>{Se&&clearTimeout(Se)},gt=N=>new Promise(q=>{N?.sync&&(ot=!0,$n(()=>ot=!1,{oneTimeCallback:!0})),ke||Gn(),ut&&(cr?(de(0),Be()):Ge(),ut=!1),$t&&(Vt=Ot.length+1,$t=!1);const Ce=()=>{mr(Ye,kt),q()},Ye=()=>{mr(Ce,Et),q()};$n(Ye,{oneTimeCallback:!0}),((N,q)=>{Et.push({c:N,o:{oneTimeCallback:!0}})})(Ce),Ot.forEach(dt=>{dt.play()}),cr?(Hn.forEach(N=>{N.play()}),(0===Ie.length||0===mt.length)&&kn()):(()=>{if(se(),(0,P.r)(()=>{mt.forEach(N=>{Ie.length>0&&ye(N,"animation-play-state","running")})}),0===Ie.length||0===mt.length)kn();else{const N=Ft()||0,q=ee()||0,Ce=Je()||1;isFinite(Ce)&&(Se=setTimeout(pe,N+q*Ce+100)),((We,Te)=>{let Ue;const Qe={passive:!0},He=je=>{We===je.target&&(Ue&&Ue(),se(),(0,P.r)(()=>{mt.forEach(N=>{ve(N,"animation-duration"),ve(N,"animation-delay"),ve(N,"animation-play-state")}),(0,P.r)(kn)}))};We&&(We.addEventListener("webkitAnimationEnd",He,Qe),We.addEventListener("animationend",He,Qe),Ue=()=>{We.removeEventListener("webkitAnimationEnd",He,Qe),We.removeEventListener("animationend",He,Qe)})})(mt[0])}})(),Lt=!1}),Jt=(N,q)=>{const Ce=Ie[0];return void 0===Ce||void 0!==Ce.offset&&0!==Ce.offset?Ie=[{offset:0,[N]:q},...Ie]:Ce[N]=q,qt};return qt={parentAnimation:Re,elements:mt,childAnimations:Ot,id:In,animationFinish:kn,from:Jt,to:(N,q)=>{const Ce=Ie[Ie.length-1];return void 0===Ce||void 0!==Ce.offset&&1!==Ce.offset?Ie=[...Ie,{offset:1,[N]:q}]:Ce[N]=q,qt},fromTo:(N,q,Ce)=>Jt(N,q).to(N,Ce),parent:N=>(Re=N,qt),play:gt,pause:()=>(Ot.forEach(N=>{N.pause()}),Qt(),qt),stop:()=>{Ot.forEach(N=>{N.stop()}),ke&&(zt(),ke=!1),Zt=!1,ot=!1,$t=!0,ce=void 0,Me=void 0,fe=void 0,Vt=0,ut=!1,rt=!0,Lt=!1,Et.forEach(N=>N.c(0,qt)),Et.length=0},destroy:N=>(Ot.forEach(q=>{q.destroy(N)}),(N=>{zt(),N&&wr()})(N),mt.length=0,Ot.length=0,Ie.length=0,Xn.length=0,kt.length=0,ke=!1,$t=!0,qt),keyframes:N=>{const q=Ie!==N;return Ie=N,q&&(N=>{cr?Fn().forEach(q=>{const Ce=q.effect;if(Ce.setKeyframes)Ce.setKeyframes(N);else{const Ye=new KeyframeEffect(Ce.target,N,Ce.getTiming());q.effect=Ye}}):ir()})(Ie),qt},addAnimation:N=>{if(null!=N)if(Array.isArray(N))for(const q of N)q.parent(qt),Ot.push(q);else N.parent(qt),Ot.push(N);return qt},addElement:N=>{if(null!=N)if(1===N.nodeType)mt.push(N);else if(N.length>=0)for(let q=0;q<N.length;q++)mt.push(N[q]);else console.error("Invalid addElement value");return qt},update:ft,fill:N=>(He=N,ft(!0),qt),direction:N=>(je=N,ft(!0),qt),iterations:N=>(xe=N,ft(!0),qt),duration:N=>(!cr&&0===N&&(N=1),Ue=N,ft(!0),qt),easing:N=>(Qe=N,ft(!0),qt),delay:N=>(Te=N,ft(!0),qt),getWebAnimations:Fn,getKeyframes:()=>Ie,getFill:Y,getDirection:J,getDelay:Ft,getIterations:Je,getEasing:Z,getDuration:ee,afterAddRead:N=>(mn.push(N),qt),afterAddWrite:N=>(Ln.push(N),qt),afterClearStyles:(N=[])=>{for(const q of N)Ut[q]="";return qt},afterStyles:(N={})=>(Ut=N,qt),afterRemoveClass:N=>(lt=Fe(lt,N),qt),afterAddClass:N=>(it=Fe(it,N),qt),beforeAddRead:N=>(At.push(N),qt),beforeAddWrite:N=>(Bn.push(N),qt),beforeClearStyles:(N=[])=>{for(const q of N)nt[q]="";return qt},beforeStyles:(N={})=>(nt=N,qt),beforeRemoveClass:N=>(W=Fe(W,N),qt),beforeAddClass:N=>(ue=Fe(ue,N),qt),onFinish:$n,isRunning:()=>0!==Vt&&!Lt,progressStart:(N=!1,q)=>(Ot.forEach(Ce=>{Ce.progressStart(N,q)}),Qt(),Zt=N,ke||Gn(),ft(!1,!0,q),qt),progressStep:N=>(Ot.forEach(q=>{q.progressStep(N)}),de(N),qt),progressEnd:(N,q,Ce)=>(Zt=!1,Ot.forEach(Ye=>{Ye.progressEnd(N,q,Ce)}),void 0!==Ce&&(Me=Ce),ut=!1,rt=!0,0===N?(ce="reverse"===J()?"normal":"reverse","reverse"===ce&&(rt=!1),cr?(ft(),de(1-q)):(fe=(1-q)*ee()*-1,ft(!1,!1))):1===N&&(cr?(ft(),de(q)):(fe=q*ee()*-1,ft(!1,!1))),void 0!==N&&!Re&&gt(),qt)}}},8958:(an,tt,M)=>{"use strict";M.d(tt,{E:()=>ie,a:()=>l,s:()=>ve});const l=oe=>{try{if(oe instanceof ye)return oe.value;if(!le()||"string"!=typeof oe||""===oe)return oe;if(oe.includes("onload="))return"";const Oe=document.createDocumentFragment(),ze=document.createElement("div");Oe.appendChild(ze),ze.innerHTML=oe,ge.forEach(We=>{const Te=Oe.querySelectorAll(We);for(let Ue=Te.length-1;Ue>=0;Ue--){const Qe=Te[Ue];Qe.parentNode?Qe.parentNode.removeChild(Qe):Oe.removeChild(Qe);const xe=_e(Qe);for(let He=0;He<xe.length;He++)P(xe[He])}});const Pe=_e(Oe);for(let We=0;We<Pe.length;We++)P(Pe[We]);const Fe=document.createElement("div");Fe.appendChild(Oe);const ct=Fe.querySelector("div");return null!==ct?ct.innerHTML:Fe.innerHTML}catch(Oe){return console.error(Oe),""}},P=oe=>{if(oe.nodeType&&1!==oe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(oe.attributes instanceof NamedNodeMap))return void oe.remove();for(let ze=oe.attributes.length-1;ze>=0;ze--){const Pe=oe.attributes.item(ze),Fe=Pe.name;if(!Ee.includes(Fe.toLowerCase())){oe.removeAttribute(Fe);continue}const ct=Pe.value,We=oe[Fe];(null!=ct&&ct.toLowerCase().includes("javascript:")||null!=We&&We.toLowerCase().includes("javascript:"))&&oe.removeAttribute(Fe)}const Oe=_e(oe);for(let ze=0;ze<Oe.length;ze++)P(Oe[ze])},_e=oe=>null!=oe.children?oe.children:oe.childNodes,le=()=>{var oe;const Oe=window,ze=null===(oe=Oe?.Ionic)||void 0===oe?void 0:oe.config;return!ze||(ze.get?ze.get("sanitizerEnabled",!0):!0===ze.sanitizerEnabled||void 0===ze.sanitizerEnabled)},Ee=["class","id","href","src","name","slot"],ge=["script","style","iframe","meta","link","object","embed"];class ye{constructor(Oe){this.value=Oe}}const ve=oe=>{const Oe=window,ze=Oe.Ionic;if(!ze||!ze.config||"Object"===ze.config.constructor.name)return Oe.Ionic=Oe.Ionic||{},Oe.Ionic.config=Object.assign(Object.assign({},Oe.Ionic.config),oe),Oe.Ionic.config},ie=!1},3254:(an,tt,M)=>{"use strict";M.d(tt,{C:()=>Ee,a:()=>_e,d:()=>le});var l=M(5861),P=M(512);const _e=function(){var ge=(0,l.Z)(function*(ye,ve,Ke,ie,oe,Oe){var ze;if(ye)return ye.attachViewToDom(ve,Ke,oe,ie);if(!(Oe||"string"==typeof Ke||Ke instanceof HTMLElement))throw new Error("framework delegate is missing");const Pe="string"==typeof Ke?null===(ze=ve.ownerDocument)||void 0===ze?void 0:ze.createElement(Ke):Ke;return ie&&ie.forEach(Fe=>Pe.classList.add(Fe)),oe&&Object.assign(Pe,oe),ve.appendChild(Pe),yield new Promise(Fe=>(0,P.c)(Pe,Fe)),Pe});return function(ve,Ke,ie,oe,Oe,ze){return ge.apply(this,arguments)}}(),le=(ge,ye)=>{if(ye){if(ge)return ge.removeViewFromDom(ye.parentElement,ye);ye.remove()}return Promise.resolve()},Ee=()=>{let ge,ye;return{attachViewToDom:function(){var ie=(0,l.Z)(function*(oe,Oe,ze={},Pe=[]){var Fe,ct;let We;if(ge=oe,Oe){const Ue="string"==typeof Oe?null===(Fe=ge.ownerDocument)||void 0===Fe?void 0:Fe.createElement(Oe):Oe;Pe.forEach(Qe=>Ue.classList.add(Qe)),Object.assign(Ue,ze),ge.appendChild(Ue),We=Ue,yield new Promise(Qe=>(0,P.c)(Ue,Qe))}else if(ge.children.length>0&&("ION-MODAL"===ge.tagName||"ION-POPOVER"===ge.tagName)&&!(We=ge.children[0]).classList.contains("ion-delegate-host")){const Qe=null===(ct=ge.ownerDocument)||void 0===ct?void 0:ct.createElement("div");Qe.classList.add("ion-delegate-host"),Pe.forEach(xe=>Qe.classList.add(xe)),Qe.append(...ge.children),ge.appendChild(Qe),We=Qe}const Te=document.querySelector("ion-app")||document.body;return ye=document.createComment("ionic teleport"),ge.parentNode.insertBefore(ye,ge),Te.appendChild(ge),We??ge});return function(Oe,ze){return ie.apply(this,arguments)}}(),removeViewFromDom:()=>(ge&&ye&&(ye.parentNode.insertBefore(ge,ye),ye.remove()),Promise.resolve())}}},2019:(an,tt,M)=>{"use strict";M.d(tt,{G:()=>Ee});class P{constructor(ye,ve,Ke,ie,oe){this.id=ve,this.name=Ke,this.disableScroll=oe,this.priority=1e6*ie+ve,this.ctrl=ye}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ye=this.ctrl.capture(this.name,this.id,this.priority);return ye&&this.disableScroll&&this.ctrl.disableScroll(this.id),ye}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class _e{constructor(ye,ve,Ke,ie){this.id=ve,this.disable=Ke,this.disableScroll=ie,this.ctrl=ye}block(){if(this.ctrl){if(this.disable)for(const ye of this.disable)this.ctrl.disableGesture(ye,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ye of this.disable)this.ctrl.enableGesture(ye,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const le="backdrop-no-scroll",Ee=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ye){var ve;return new P(this,this.newID(),ye.name,null!==(ve=ye.priority)&&void 0!==ve?ve:0,!!ye.disableScroll)}createBlocker(ye={}){return new _e(this,this.newID(),ye.disable,!!ye.disableScroll)}start(ye,ve,Ke){return this.canStart(ye)?(this.requestedStart.set(ve,Ke),!0):(this.requestedStart.delete(ve),!1)}capture(ye,ve,Ke){if(!this.start(ye,ve,Ke))return!1;const ie=this.requestedStart;let oe=-1e4;if(ie.forEach(Oe=>{oe=Math.max(oe,Oe)}),oe===Ke){this.capturedId=ve,ie.clear();const Oe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ye}});return document.dispatchEvent(Oe),!0}return ie.delete(ve),!1}release(ye){this.requestedStart.delete(ye),this.capturedId===ye&&(this.capturedId=void 0)}disableGesture(ye,ve){let Ke=this.disabledGestures.get(ye);void 0===Ke&&(Ke=new Set,this.disabledGestures.set(ye,Ke)),Ke.add(ve)}enableGesture(ye,ve){const Ke=this.disabledGestures.get(ye);void 0!==Ke&&Ke.delete(ve)}disableScroll(ye){this.disabledScroll.add(ye),1===this.disabledScroll.size&&document.body.classList.add(le)}enableScroll(ye){this.disabledScroll.delete(ye),0===this.disabledScroll.size&&document.body.classList.remove(le)}canStart(ye){return!(void 0!==this.capturedId||this.isDisabled(ye))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ye){const ve=this.disabledGestures.get(ye);return!!(ve&&ve.size>0)}newID(){return this.gestureId++,this.gestureId}}},4393:(an,tt,M)=>{"use strict";M.r(tt),M.d(tt,{MENU_BACK_BUTTON_PRIORITY:()=>Ee,OVERLAY_BACK_BUTTON_PRIORITY:()=>le,blockHardwareBackButton:()=>P,startHardwareBackButton:()=>_e});var l=M(5861);const P=()=>{document.addEventListener("backbutton",()=>{})},_e=()=>{const ge=document;let ye=!1;ge.addEventListener("backbutton",()=>{if(ye)return;let ve=0,Ke=[];const ie=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ze,Pe){Ke.push({priority:ze,handler:Pe,id:ve++})}}});ge.dispatchEvent(ie);const oe=function(){var ze=(0,l.Z)(function*(Pe){try{if(Pe?.handler){const Fe=Pe.handler(Oe);null!=Fe&&(yield Fe)}}catch(Fe){console.error(Fe)}});return function(Fe){return ze.apply(this,arguments)}}(),Oe=()=>{if(Ke.length>0){let ze={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ke.forEach(Pe=>{Pe.priority>=ze.priority&&(ze=Pe)}),ye=!0,Ke=Ke.filter(Pe=>Pe.id!==ze.id),oe(ze).then(()=>ye=!1)}};Oe()})},le=100,Ee=99},512:(an,tt,M)=>{"use strict";M.d(tt,{a:()=>ve,b:()=>Ke,c:()=>_e,d:()=>ct,e:()=>Fe,f:()=>Pe,g:()=>ie,h:()=>ze,i:()=>ye,j:()=>He,k:()=>Ee,l:()=>We,m:()=>le,n:()=>Oe,o:()=>Te,p:()=>xe,q:()=>je,r:()=>oe,s:()=>Ie,t:()=>l,u:()=>Ue,v:()=>Qe});const l=(ue,W=0)=>new Promise(ke=>{P(ue,W,ke)}),P=(ue,W=0,ke)=>{let Re,nt;const it={passive:!0},Ut=()=>{Re&&Re()},Vt=Zt=>{(void 0===Zt||ue===Zt.target)&&(Ut(),ke(Zt))};return ue&&(ue.addEventListener("webkitTransitionEnd",Vt,it),ue.addEventListener("transitionend",Vt,it),nt=setTimeout(Vt,W+500),Re=()=>{nt&&(clearTimeout(nt),nt=void 0),ue.removeEventListener("webkitTransitionEnd",Vt,it),ue.removeEventListener("transitionend",Vt,it)}),Ut},_e=(ue,W)=>{ue.componentOnReady?ue.componentOnReady().then(ke=>W(ke)):oe(()=>W(ue))},le=ue=>void 0!==ue.componentOnReady,Ee=(ue,W=[])=>{const ke={};return W.forEach(Re=>{ue.hasAttribute(Re)&&(null!==ue.getAttribute(Re)&&(ke[Re]=ue.getAttribute(Re)),ue.removeAttribute(Re))}),ke},ge=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ye=(ue,W)=>{let ke=ge;return W&&W.length>0&&(ke=ke.filter(Re=>!W.includes(Re))),Ee(ue,ke)},ve=(ue,W,ke,Re)=>{var nt;if(typeof window<"u"){const it=window,lt=null===(nt=it?.Ionic)||void 0===nt?void 0:nt.config;if(lt){const Ut=lt.get("_ael");if(Ut)return Ut(ue,W,ke,Re);if(lt._ael)return lt._ael(ue,W,ke,Re)}}return ue.addEventListener(W,ke,Re)},Ke=(ue,W,ke,Re)=>{var nt;if(typeof window<"u"){const it=window,lt=null===(nt=it?.Ionic)||void 0===nt?void 0:nt.config;if(lt){const Ut=lt.get("_rel");if(Ut)return Ut(ue,W,ke,Re);if(lt._rel)return lt._rel(ue,W,ke,Re)}}return ue.removeEventListener(W,ke,Re)},ie=(ue,W=ue)=>ue.shadowRoot||W,oe=ue=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ue):"function"==typeof requestAnimationFrame?requestAnimationFrame(ue):setTimeout(ue),Oe=ue=>!!ue.shadowRoot&&!!ue.attachShadow,ze=ue=>{const W=ue.closest("ion-item");return W?W.querySelector("ion-label"):null},Pe=ue=>{if(ue.focus(),ue.classList.contains("ion-focusable")){const W=ue.closest("ion-app");W&&W.setFocus([ue])}},Fe=(ue,W)=>{let ke;const Re=ue.getAttribute("aria-labelledby"),nt=ue.id;let it=null!==Re&&""!==Re.trim()?Re:W+"-lbl",lt=null!==Re&&""!==Re.trim()?document.getElementById(Re):ze(ue);return lt?(null===Re&&(lt.id=it),ke=lt.textContent,lt.setAttribute("aria-hidden","true")):""!==nt.trim()&&(lt=document.querySelector(`label[for="${nt}"]`),lt&&(""!==lt.id?it=lt.id:lt.id=it=`${nt}-lbl`,ke=lt.textContent)),{label:lt,labelId:it,labelText:ke}},ct=(ue,W,ke,Re,nt)=>{if(ue||Oe(W)){let it=W.querySelector("input.aux-input");it||(it=W.ownerDocument.createElement("input"),it.type="hidden",it.classList.add("aux-input"),W.appendChild(it)),it.disabled=nt,it.name=ke,it.value=Re||""}},We=(ue,W,ke)=>Math.max(ue,Math.min(W,ke)),Te=(ue,W)=>{if(!ue){const ke="ASSERT: "+W;throw console.error(ke),new Error(ke)}},Ue=ue=>ue.timeStamp||Date.now(),Qe=ue=>{if(ue){const W=ue.changedTouches;if(W&&W.length>0){const ke=W[0];return{x:ke.clientX,y:ke.clientY}}if(void 0!==ue.pageX)return{x:ue.pageX,y:ue.pageY}}return{x:0,y:0}},xe=ue=>{const W="rtl"===document.dir;switch(ue){case"start":return W;case"end":return!W;default:throw new Error(`"${ue}" is not a valid value for [side]. Use "start" or "end" instead.`)}},He=(ue,W)=>{const ke=ue._original||ue;return{_original:ue,emit:je(ke.emit.bind(ke),W)}},je=(ue,W=0)=>{let ke;return(...Re)=>{clearTimeout(ke),ke=setTimeout(ue,W,...Re)}},Ie=(ue,W)=>{if(ue??(ue={}),W??(W={}),ue===W)return!0;const ke=Object.keys(ue);if(ke.length!==Object.keys(W).length)return!1;for(const Re of ke)if(!(Re in W)||ue[Re]!==W[Re])return!1;return!0}},2413:(an,tt,M)=>{"use strict";M.d(tt,{m:()=>ze});var l=M(5861),P=M(1848),_e=M(4393),le=M(2400),Ee=M(512),ge=M(5551),ye=M(4913);const ve=Pe=>(0,ye.c)().duration(Pe?400:300),Ke=Pe=>{let Fe,ct;const We=Pe.width+8,Te=(0,ye.c)(),Ue=(0,ye.c)();Pe.isEndSide?(Fe=We+"px",ct="0px"):(Fe=-We+"px",ct="0px"),Te.addElement(Pe.menuInnerEl).fromTo("transform",`translateX(${Fe})`,`translateX(${ct})`);const xe="ios"===(0,ge.b)(Pe),He=xe?.2:.25;return Ue.addElement(Pe.backdropEl).fromTo("opacity",.01,He),ve(xe).addAnimation([Te,Ue])},ie=Pe=>{let Fe,ct;const We=(0,ge.b)(Pe),Te=Pe.width;Pe.isEndSide?(Fe=-Te+"px",ct=Te+"px"):(Fe=Te+"px",ct=-Te+"px");const Ue=(0,ye.c)().addElement(Pe.menuInnerEl).fromTo("transform",`translateX(${ct})`,"translateX(0px)"),Qe=(0,ye.c)().addElement(Pe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Fe})`),xe=(0,ye.c)().addElement(Pe.backdropEl).fromTo("opacity",.01,.32);return ve("ios"===We).addAnimation([Ue,Qe,xe])},oe=Pe=>{const Fe=(0,ge.b)(Pe),ct=Pe.width*(Pe.isEndSide?-1:1)+"px",We=(0,ye.c)().addElement(Pe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`);return ve("ios"===Fe).addAnimation(We)},ze=(()=>{const Pe=new Map,Fe=[],ct=function(){var ce=(0,l.Z)(function*(Me){const fe=yield je(Me,!0);return!!fe&&fe.open()});return function(fe){return ce.apply(this,arguments)}}(),We=function(){var ce=(0,l.Z)(function*(Me){const fe=yield void 0!==Me?je(Me,!0):Ie();return void 0!==fe&&fe.close()});return function(fe){return ce.apply(this,arguments)}}(),Te=function(){var ce=(0,l.Z)(function*(Me){const fe=yield je(Me,!0);return!!fe&&fe.toggle()});return function(fe){return ce.apply(this,arguments)}}(),Ue=function(){var ce=(0,l.Z)(function*(Me,fe){const rt=yield je(fe);return rt&&(rt.disabled=!Me),rt});return function(fe,rt){return ce.apply(this,arguments)}}(),Qe=function(){var ce=(0,l.Z)(function*(Me,fe){const rt=yield je(fe);return rt&&(rt.swipeGesture=Me),rt});return function(fe,rt){return ce.apply(this,arguments)}}(),xe=function(){var ce=(0,l.Z)(function*(Me){if(null!=Me){const fe=yield je(Me);return void 0!==fe&&fe.isOpen()}return void 0!==(yield Ie())});return function(fe){return ce.apply(this,arguments)}}(),He=function(){var ce=(0,l.Z)(function*(Me){const fe=yield je(Me);return!!fe&&!fe.disabled});return function(fe){return ce.apply(this,arguments)}}(),je=function(){var ce=(0,l.Z)(function*(Me,fe=!1){if(yield Se(),"start"===Me||"end"===Me){const ut=Fe.filter(on=>on.side===Me&&!on.disabled);if(ut.length>=1)return ut.length>1&&fe&&(0,le.p)(`menuController queried for a menu on the "${Me}" side, but ${ut.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,ut.map(on=>on.el)),ut[0].el;const $t=Fe.filter(on=>on.side===Me);if($t.length>=1)return $t.length>1&&fe&&(0,le.p)(`menuController queried for a menu on the "${Me}" side, but ${$t.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,$t.map(on=>on.el)),$t[0].el}else if(null!=Me)return ot(ut=>ut.menuId===Me);return ot(ut=>!ut.disabled)||(Fe.length>0?Fe[0].el:void 0)});return function(fe){return ce.apply(this,arguments)}}(),Ie=function(){var ce=(0,l.Z)(function*(){return yield Se(),Ut()});return function(){return ce.apply(this,arguments)}}(),ue=function(){var ce=(0,l.Z)(function*(){return yield Se(),Vt()});return function(){return ce.apply(this,arguments)}}(),W=function(){var ce=(0,l.Z)(function*(){return yield Se(),Zt()});return function(){return ce.apply(this,arguments)}}(),ke=(ce,Me)=>{Pe.set(ce,Me)},it=function(){var ce=(0,l.Z)(function*(Me,fe,rt){if(Zt())return!1;if(fe){const ut=yield Ie();ut&&Me.el!==ut&&(yield ut.setOpen(!1,!1))}return Me._setOpen(fe,rt)});return function(fe,rt,ut){return ce.apply(this,arguments)}}(),Ut=()=>ot(ce=>ce._isOpen),Vt=()=>Fe.map(ce=>ce.el),Zt=()=>Fe.some(ce=>ce.isAnimating),ot=ce=>{const Me=Fe.find(ce);if(void 0!==Me)return Me.el},Se=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ce=>new Promise(Me=>(0,Ee.c)(ce,Me))));return ke("reveal",oe),ke("push",ie),ke("overlay",Ke),null==P.d||P.d.addEventListener("ionBackButton",ce=>{const Me=Ut();Me&&ce.detail.register(_e.MENU_BACK_BUTTON_PRIORITY,()=>Me.close())}),{registerAnimation:ke,get:je,getMenus:ue,getOpen:Ie,isEnabled:He,swipeGesture:Qe,isAnimating:W,isOpen:xe,enable:Ue,toggle:Te,close:We,open:ct,_getOpenSync:Ut,_createAnimation:(ce,Me)=>{const fe=Pe.get(ce);if(!fe)throw new Error("animation not registered");return fe(Me)},_register:ce=>{Fe.indexOf(ce)<0&&Fe.push(ce)},_unregister:ce=>{const Me=Fe.indexOf(ce);Me>-1&&Fe.splice(Me,1)},_setOpen:it}})()},9942:(an,tt,M)=>{"use strict";M.d(tt,{B:()=>Oe,H:()=>Zt,a:()=>Rn,b:()=>Ar,c:()=>on,d:()=>Xn,e:()=>Mn,f:()=>In,g:()=>qt,h:()=>Ut,i:()=>Y,j:()=>ze,r:()=>ir,w:()=>Wn});var l=M(5861);let le,Ee,ge,ye=!1,ve=!1,Ke=!1,ie=!1,oe=!1;const Oe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ze=N=>{const q=new URL(N,Qt.$resourcesUrl$);return q.origin!==Kt.location.origin?q.href:q.pathname},Qe="s-id",xe="sty-id",Ie="slot-fb{display:contents}slot-fb[hidden]{display:none}",ue="http://www.w3.org/1999/xlink",W={},it=N=>"object"==(N=typeof N)||"function"===N;function lt(N){var q,Ce,Ye;return null!==(Ye=null===(Ce=null===(q=N.head)||void 0===q?void 0:q.querySelector('meta[name="csp-nonce"]'))||void 0===Ce?void 0:Ce.getAttribute("content"))&&void 0!==Ye?Ye:void 0}const Ut=(N,q,...Ce)=>{let Ye=null,dt=null,_t=null,Pt=!1,tn=!1;const Xt=[],Yt=yn=>{for(let bn=0;bn<yn.length;bn++)Ye=yn[bn],Array.isArray(Ye)?Yt(Ye):null!=Ye&&"boolean"!=typeof Ye&&((Pt="function"!=typeof N&&!it(Ye))&&(Ye=String(Ye)),Pt&&tn?Xt[Xt.length-1].$text$+=Ye:Xt.push(Pt?Vt(null,Ye):Ye),tn=Pt)};if(Yt(Ce),q){q.key&&(dt=q.key),q.name&&(_t=q.name);{const yn=q.className||q.class;yn&&(q.class="object"!=typeof yn?yn:Object.keys(yn).filter(bn=>yn[bn]).join(" "))}}if("function"==typeof N)return N(null===q?{}:q,Xt,Se);const cn=Vt(N,null);return cn.$attrs$=q,Xt.length>0&&(cn.$children$=Xt),cn.$key$=dt,cn.$name$=_t,cn},Vt=(N,q)=>({$flags$:0,$tag$:N,$text$:q,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Zt={},Se={forEach:(N,q)=>N.map(ce).forEach(q),map:(N,q)=>N.map(ce).map(q).map(Me)},ce=N=>({vattrs:N.$attrs$,vchildren:N.$children$,vkey:N.$key$,vname:N.$name$,vtag:N.$tag$,vtext:N.$text$}),Me=N=>{if("function"==typeof N.vtag){const Ce=Object.assign({},N.vattrs);return N.vkey&&(Ce.key=N.vkey),N.vname&&(Ce.name=N.vname),Ut(N.vtag,Ce,...N.vchildren||[])}const q=Vt(N.vtag,N.vtext);return q.$attrs$=N.vattrs,q.$children$=N.vchildren,q.$key$=N.vkey,q.$name$=N.vname,q},rt=(N,q,Ce,Ye,dt,_t,Pt)=>{let tn,Xt,Yt,cn;if(1===_t.nodeType){for(tn=_t.getAttribute("c-id"),tn&&(Xt=tn.split("."),(Xt[0]===Pt||"0"===Xt[0])&&(Yt={$flags$:0,$hostId$:Xt[0],$nodeId$:Xt[1],$depth$:Xt[2],$index$:Xt[3],$tag$:_t.tagName.toLowerCase(),$elm$:_t,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},q.push(Yt),_t.removeAttribute("c-id"),N.$children$||(N.$children$=[]),N.$children$[Yt.$index$]=Yt,N=Yt,Ye&&"0"===Yt.$depth$&&(Ye[Yt.$index$]=Yt.$elm$))),cn=_t.childNodes.length-1;cn>=0;cn--)rt(N,q,Ce,Ye,dt,_t.childNodes[cn],Pt);if(_t.shadowRoot)for(cn=_t.shadowRoot.childNodes.length-1;cn>=0;cn--)rt(N,q,Ce,Ye,dt,_t.shadowRoot.childNodes[cn],Pt)}else if(8===_t.nodeType)Xt=_t.nodeValue.split("."),(Xt[1]===Pt||"0"===Xt[1])&&(tn=Xt[0],Yt={$flags$:0,$hostId$:Xt[1],$nodeId$:Xt[2],$depth$:Xt[3],$index$:Xt[4],$elm$:_t,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===tn?(Yt.$elm$=_t.nextSibling,Yt.$elm$&&3===Yt.$elm$.nodeType&&(Yt.$text$=Yt.$elm$.textContent,q.push(Yt),_t.remove(),N.$children$||(N.$children$=[]),N.$children$[Yt.$index$]=Yt,Ye&&"0"===Yt.$depth$&&(Ye[Yt.$index$]=Yt.$elm$))):Yt.$hostId$===Pt&&("s"===tn?(Yt.$tag$="slot",_t["s-sn"]=Xt[5]?Yt.$name$=Xt[5]:"",_t["s-sr"]=!0,Ye&&(Yt.$elm$=Gt.createElement(Yt.$tag$),Yt.$name$&&Yt.$elm$.setAttribute("name",Yt.$name$),_t.parentNode.insertBefore(Yt.$elm$,_t),_t.remove(),"0"===Yt.$depth$&&(Ye[Yt.$index$]=Yt.$elm$)),Ce.push(Yt),N.$children$||(N.$children$=[]),N.$children$[Yt.$index$]=Yt):"r"===tn&&(Ye?_t.remove():(dt["s-cr"]=_t,_t["s-cn"]=!0))));else if(N&&"style"===N.$tag$){const yn=Vt(null,_t.textContent);yn.$elm$=_t,yn.$index$="0",N.$children$=[yn]}},ut=(N,q)=>{if(1===N.nodeType){let Ce=0;for(;Ce<N.childNodes.length;Ce++)ut(N.childNodes[Ce],q);if(N.shadowRoot)for(Ce=0;Ce<N.shadowRoot.childNodes.length;Ce++)ut(N.shadowRoot.childNodes[Ce],q)}else if(8===N.nodeType){const Ce=N.nodeValue.split(".");"o"===Ce[0]&&(q.set(Ce[1]+"."+Ce[2],N),N.nodeValue="",N["s-en"]=Ce[3])}},on=N=>jt.push(N),qt=N=>kn(N).$modeName$,In=N=>kn(N).$hostElement$,Xn=(N,q,Ce)=>{const Ye=In(N);return{emit:dt=>kt(Ye,q,{bubbles:!!(4&Ce),composed:!!(2&Ce),cancelable:!!(1&Ce),detail:dt})}},kt=(N,q,Ce)=>{const Ye=Qt.ce(q,Ce);return N.dispatchEvent(Ye),Ye},Et=new WeakMap,mt=(N,q,Ce)=>{let Ye=ft.get(N);U&&Ce?(Ye=Ye||new CSSStyleSheet,"string"==typeof Ye?Ye=q:Ye.replaceSync(q)):Ye=q,ft.set(N,Ye)},Ot=(N,q,Ce)=>{var Ye;const dt=At(q,Ce),_t=ft.get(dt);if(N=11===N.nodeType?N:Gt,_t)if("string"==typeof _t){let tn,Pt=Et.get(N=N.head||N);if(Pt||Et.set(N,Pt=new Set),!Pt.has(dt)){if(N.host&&(tn=N.querySelector(`[${xe}="${dt}"]`)))tn.innerHTML=_t;else{tn=Gt.createElement("style"),tn.innerHTML=_t;const Xt=null!==(Ye=Qt.$nonce$)&&void 0!==Ye?Ye:lt(Gt);null!=Xt&&tn.setAttribute("nonce",Xt),N.insertBefore(tn,N.querySelector("link"))}4&q.$flags$&&(tn.innerHTML+=Ie),Pt&&Pt.add(dt)}}else N.adoptedStyleSheets.includes(_t)||(N.adoptedStyleSheets=[...N.adoptedStyleSheets,_t]);return dt},At=(N,q)=>"sc-"+(q&&32&N.$flags$?N.$tagName$+"-"+q:N.$tagName$),Bn=N=>N.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),mn=(N,q,Ce,Ye,dt,_t)=>{if(Ce!==Ye){let Pt=Gn(N,q),tn=q.toLowerCase();if("class"===q){const Xt=N.classList,Yt=Hn(Ce),cn=Hn(Ye);Xt.remove(...Yt.filter(yn=>yn&&!cn.includes(yn))),Xt.add(...cn.filter(yn=>yn&&!Yt.includes(yn)))}else if("style"===q){for(const Xt in Ce)(!Ye||null==Ye[Xt])&&(Xt.includes("-")?N.style.removeProperty(Xt):N.style[Xt]="");for(const Xt in Ye)(!Ce||Ye[Xt]!==Ce[Xt])&&(Xt.includes("-")?N.style.setProperty(Xt,Ye[Xt]):N.style[Xt]=Ye[Xt])}else if("key"!==q)if("ref"===q)Ye&&Ye(N);else if(Pt||"o"!==q[0]||"n"!==q[1]){const Xt=it(Ye);if((Pt||Xt&&null!==Ye)&&!dt)try{if(N.tagName.includes("-"))N[q]=Ye;else{const cn=Ye??"";"list"===q?Pt=!1:(null==Ce||N[q]!=cn)&&(N[q]=cn)}}catch{}let Yt=!1;tn!==(tn=tn.replace(/^xlink\:?/,""))&&(q=tn,Yt=!0),null==Ye||!1===Ye?(!1!==Ye||""===N.getAttribute(q))&&(Yt?N.removeAttributeNS(ue,q):N.removeAttribute(q)):(!Pt||4&_t||dt)&&!Xt&&(Ye=!0===Ye?"":Ye,Yt?N.setAttributeNS(ue,q,Ye):N.setAttribute(q,Ye))}else if(q="-"===q[2]?q.slice(3):Gn(Kt,tn)?tn.slice(2):tn[2]+q.slice(3),Ce||Ye){const Xt=q.endsWith(Mr);q=q.replace(cr,""),Ce&&Qt.rel(N,q,Ce,Xt),Ye&&Qt.ael(N,q,Ye,Xt)}}},Ln=/\s/,Hn=N=>N?N.split(Ln):[],Mr="Capture",cr=new RegExp(Mr+"$"),Kn=(N,q,Ce,Ye)=>{const dt=11===q.$elm$.nodeType&&q.$elm$.host?q.$elm$.host:q.$elm$,_t=N&&N.$attrs$||W,Pt=q.$attrs$||W;for(Ye in _t)Ye in Pt||mn(dt,Ye,_t[Ye],void 0,Ce,q.$flags$);for(Ye in Pt)mn(dt,Ye,_t[Ye],Pt[Ye],Ce,q.$flags$)},Fn=(N,q,Ce,Ye)=>{const dt=q.$children$[Ce];let Pt,tn,Xt,_t=0;if(ye||(Ke=!0,"slot"===dt.$tag$&&(le&&Ye.classList.add(le+"-s"),dt.$flags$|=dt.$children$?2:1)),null!==dt.$text$)Pt=dt.$elm$=Gt.createTextNode(dt.$text$);else if(1&dt.$flags$)Pt=dt.$elm$=Gt.createTextNode("");else{if(ie||(ie="svg"===dt.$tag$),Pt=dt.$elm$=Gt.createElementNS(ie?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&dt.$flags$?"slot-fb":dt.$tag$),ie&&"foreignObject"===dt.$tag$&&(ie=!1),Kn(null,dt,ie),(N=>null!=N)(le)&&Pt["s-si"]!==le&&Pt.classList.add(Pt["s-si"]=le),dt.$children$)for(_t=0;_t<dt.$children$.length;++_t)tn=Fn(N,dt,_t,Pt),tn&&Pt.appendChild(tn);"svg"===dt.$tag$?ie=!1:"foreignObject"===Pt.tagName&&(ie=!0)}return Pt["s-hn"]=ge,3&dt.$flags$&&(Pt["s-sr"]=!0,Pt["s-cr"]=Ee,Pt["s-sn"]=dt.$name$||"",Xt=N&&N.$children$&&N.$children$[Ce],Xt&&Xt.$tag$===dt.$tag$&&N.$elm$&&zr(N.$elm$,!1)),Pt},zr=(N,q)=>{Qt.$flags$|=1;const Ce=N.childNodes;for(let Ye=Ce.length-1;Ye>=0;Ye--){const dt=Ce[Ye];dt["s-hn"]!==ge&&dt["s-ol"]&&($n(dt).insertBefore(dt,Ai(dt)),dt["s-ol"].remove(),dt["s-ol"]=void 0,dt["s-sh"]=void 0,Ke=!0),q&&zr(dt,q)}Qt.$flags$&=-2},Vn=(N,q,Ce,Ye,dt,_t)=>{let tn,Pt=N["s-cr"]&&N["s-cr"].parentNode||N;for(Pt.shadowRoot&&Pt.tagName===ge&&(Pt=Pt.shadowRoot);dt<=_t;++dt)Ye[dt]&&(tn=Fn(null,Ce,dt,N),tn&&(Ye[dt].$elm$=tn,Pt.insertBefore(tn,Ai(q))))},$r=(N,q,Ce)=>{for(let Ye=q;Ye<=Ce;++Ye){const dt=N[Ye];if(dt){const _t=dt.$elm$;ur(dt),_t&&(ve=!0,_t["s-ol"]?_t["s-ol"].remove():zr(_t,!0),_t.remove())}}},mr=(N,q,Ce=!1)=>N.$tag$===q.$tag$&&("slot"===N.$tag$?N.$name$===q.$name$:!!Ce||N.$key$===q.$key$),Ai=N=>N&&N["s-ol"]||N,$n=N=>(N["s-ol"]?N["s-ol"]:N).parentNode,Qr=(N,q,Ce=!1)=>{const Ye=q.$elm$=N.$elm$,dt=N.$children$,_t=q.$children$,Pt=q.$tag$,tn=q.$text$;let Xt;null===tn?(ie="svg"===Pt||"foreignObject"!==Pt&&ie,"slot"===Pt||Kn(N,q,ie),null!==dt&&null!==_t?((N,q,Ce,Ye,dt=!1)=>{let I,te,_t=0,Pt=0,tn=0,Xt=0,Yt=q.length-1,cn=q[0],yn=q[Yt],bn=Ye.length-1,vr=Ye[0],Ur=Ye[bn];for(;_t<=Yt&&Pt<=bn;)if(null==cn)cn=q[++_t];else if(null==yn)yn=q[--Yt];else if(null==vr)vr=Ye[++Pt];else if(null==Ur)Ur=Ye[--bn];else if(mr(cn,vr,dt))Qr(cn,vr,dt),cn=q[++_t],vr=Ye[++Pt];else if(mr(yn,Ur,dt))Qr(yn,Ur,dt),yn=q[--Yt],Ur=Ye[--bn];else if(mr(cn,Ur,dt))("slot"===cn.$tag$||"slot"===Ur.$tag$)&&zr(cn.$elm$.parentNode,!1),Qr(cn,Ur,dt),N.insertBefore(cn.$elm$,yn.$elm$.nextSibling),cn=q[++_t],Ur=Ye[--bn];else if(mr(yn,vr,dt))("slot"===cn.$tag$||"slot"===Ur.$tag$)&&zr(yn.$elm$.parentNode,!1),Qr(yn,vr,dt),N.insertBefore(yn.$elm$,cn.$elm$),yn=q[--Yt],vr=Ye[++Pt];else{for(tn=-1,Xt=_t;Xt<=Yt;++Xt)if(q[Xt]&&null!==q[Xt].$key$&&q[Xt].$key$===vr.$key$){tn=Xt;break}tn>=0?(te=q[tn],te.$tag$!==vr.$tag$?I=Fn(q&&q[Pt],Ce,tn,N):(Qr(te,vr,dt),q[tn]=void 0,I=te.$elm$),vr=Ye[++Pt]):(I=Fn(q&&q[Pt],Ce,Pt,N),vr=Ye[++Pt]),I&&$n(cn.$elm$).insertBefore(I,Ai(cn.$elm$))}_t>Yt?Vn(N,null==Ye[bn+1]?null:Ye[bn+1].$elm$,Ce,Ye,Pt,bn):Pt>bn&&$r(q,_t,Yt)})(Ye,dt,q,_t,Ce):null!==_t?(null!==N.$text$&&(Ye.textContent=""),Vn(Ye,null,q,_t,0,_t.length-1)):null!==dt&&$r(dt,0,dt.length-1),ie&&"svg"===Pt&&(ie=!1)):(Xt=Ye["s-cr"])?Xt.parentNode.textContent=tn:N.$text$!==tn&&(Ye.data=tn)},zt=N=>{const q=N.childNodes;for(const Ce of q)if(1===Ce.nodeType){if(Ce["s-sr"]){const Ye=Ce["s-sn"];Ce.hidden=!1;for(const dt of q)if(dt!==Ce)if(dt["s-hn"]!==Ce["s-hn"]||""!==Ye){if(1===dt.nodeType&&(Ye===dt.getAttribute("slot")||Ye===dt["s-sn"])){Ce.hidden=!0;break}}else if(1===dt.nodeType||3===dt.nodeType&&""!==dt.textContent.trim()){Ce.hidden=!0;break}}zt(Ce)}},wr=[],ui=N=>{let q,Ce,Ye;for(const dt of N.childNodes){if(dt["s-sr"]&&(q=dt["s-cr"])&&q.parentNode){Ce=q.parentNode.childNodes;const _t=dt["s-sn"];for(Ye=Ce.length-1;Ye>=0;Ye--)if(q=Ce[Ye],!q["s-cn"]&&!q["s-nr"]&&q["s-hn"]!==dt["s-hn"])if(Yr(q,_t)){let Pt=wr.find(tn=>tn.$nodeToRelocate$===q);ve=!0,q["s-sn"]=q["s-sn"]||_t,Pt?(Pt.$nodeToRelocate$["s-sh"]=dt["s-hn"],Pt.$slotRefNode$=dt):(q["s-sh"]=dt["s-hn"],wr.push({$slotRefNode$:dt,$nodeToRelocate$:q})),q["s-sr"]&&wr.map(tn=>{Yr(tn.$nodeToRelocate$,q["s-sn"])&&(Pt=wr.find(Xt=>Xt.$nodeToRelocate$===q),Pt&&!tn.$slotRefNode$&&(tn.$slotRefNode$=Pt.$slotRefNode$))})}else wr.some(Pt=>Pt.$nodeToRelocate$===q)||wr.push({$nodeToRelocate$:q})}1===dt.nodeType&&ui(dt)}},Yr=(N,q)=>1===N.nodeType?null===N.getAttribute("slot")&&""===q||N.getAttribute("slot")===q:N["s-sn"]===q||""===q,ur=N=>{N.$attrs$&&N.$attrs$.ref&&N.$attrs$.ref(null),N.$children$&&N.$children$.map(ur)},Nr=(N,q)=>{q&&!N.$onRenderResolve$&&q["s-p"]&&q["s-p"].push(new Promise(Ce=>N.$onRenderResolve$=Ce))},kr=(N,q)=>{if(N.$flags$|=16,!(4&N.$flags$))return Nr(N,N.$ancestorComponent$),Wn(()=>Dr(N,q));N.$flags$|=512},Dr=(N,q)=>{const Ye=N.$lazyInstance$;let dt;return q&&(N.$flags$|=256,N.$queuedListeners$&&(N.$queuedListeners$.map(([_t,Pt])=>Z(Ye,_t,Pt)),N.$queuedListeners$=void 0),dt=Z(Ye,"componentWillLoad")),dt=Jr(dt,()=>Z(Ye,"componentWillRender")),Jr(dt,()=>Un(N,Ye,q))},Jr=(N,q)=>Cn(N)?N.then(q):q(),Cn=N=>N instanceof Promise||N&&N.then&&"function"==typeof N.then,Un=function(){var N=(0,l.Z)(function*(q,Ce,Ye){var dt;const _t=q.$hostElement$,tn=_t["s-rc"];Ye&&(N=>{const q=N.$cmpMeta$,Ce=N.$hostElement$,Ye=q.$flags$,_t=Ot(Ce.shadowRoot?Ce.shadowRoot:Ce.getRootNode(),q,N.$modeName$);10&Ye&&(Ce["s-sc"]=_t,Ce.classList.add(_t+"-h"),2&Ye&&Ce.classList.add(_t+"-s"))})(q);Ir(q,Ce,_t,Ye),tn&&(tn.map(Yt=>Yt()),_t["s-rc"]=void 0);{const Yt=null!==(dt=_t["s-p"])&&void 0!==dt?dt:[],cn=()=>Ne(q);0===Yt.length?cn():(Promise.all(Yt).then(cn),q.$flags$|=4,Yt.length=0)}});return function(Ce,Ye,dt){return N.apply(this,arguments)}}(),Ir=(N,q,Ce,Ye)=>{try{q=q.render&&q.render(),N.$flags$&=-17,N.$flags$|=2,((N,q,Ce=!1)=>{var Ye,dt,_t,Pt;const tn=N.$hostElement$,Xt=N.$cmpMeta$,Yt=N.$vnode$||Vt(null,null),cn=(N=>N&&N.$tag$===Zt)(q)?q:Ut(null,null,q);if(ge=tn.tagName,Xt.$attrsToReflect$&&(cn.$attrs$=cn.$attrs$||{},Xt.$attrsToReflect$.map(([yn,bn])=>cn.$attrs$[bn]=tn[yn])),Ce&&cn.$attrs$)for(const yn of Object.keys(cn.$attrs$))tn.hasAttribute(yn)&&!["key","ref","style","class"].includes(yn)&&(cn.$attrs$[yn]=tn[yn]);if(cn.$tag$=null,cn.$flags$|=4,N.$vnode$=cn,cn.$elm$=Yt.$elm$=tn.shadowRoot||tn,le=tn["s-sc"],Ee=tn["s-cr"],ye=0!=(1&Xt.$flags$),ve=!1,Qr(Yt,cn,Ce),Qt.$flags$|=1,Ke){ui(cn.$elm$);for(const yn of wr){const bn=yn.$nodeToRelocate$;if(!bn["s-ol"]){const vr=Gt.createTextNode("");vr["s-nr"]=bn,bn.parentNode.insertBefore(bn["s-ol"]=vr,bn)}}for(const yn of wr){const bn=yn.$nodeToRelocate$,vr=yn.$slotRefNode$;if(vr){const Ur=vr.parentNode;let I=vr.nextSibling;{let te=null===(Ye=bn["s-ol"])||void 0===Ye?void 0:Ye.previousSibling;for(;te;){let S=null!==(dt=te["s-nr"])&&void 0!==dt?dt:null;if(S&&S["s-sn"]===bn["s-sn"]&&Ur===S.parentNode&&(S=S.nextSibling,!S||!S["s-nr"])){I=S;break}te=te.previousSibling}}(!I&&Ur!==bn.parentNode||bn.nextSibling!==I)&&bn!==I&&(!bn["s-hn"]&&bn["s-ol"]&&(bn["s-hn"]=bn["s-ol"].parentNode.nodeName),Ur.insertBefore(bn,I),1===bn.nodeType&&(bn.hidden=null!==(_t=bn["s-ih"])&&void 0!==_t&&_t))}else 1===bn.nodeType&&(Ce&&(bn["s-ih"]=null!==(Pt=bn.hidden)&&void 0!==Pt&&Pt),bn.hidden=!0)}}ve&&zt(cn.$elm$),Qt.$flags$&=-2,wr.length=0})(N,q,Ye)}catch(dt){de(dt,N.$hostElement$)}return null},Ne=N=>{const Ce=N.$hostElement$,dt=N.$lazyInstance$,_t=N.$ancestorComponent$;Z(dt,"componentDidRender"),64&N.$flags$?Z(dt,"componentDidUpdate"):(N.$flags$|=64,ee(Ce),Z(dt,"componentDidLoad"),N.$onReadyResolve$(Ce),_t||J()),N.$onInstanceResolve$(Ce),N.$onRenderResolve$&&(N.$onRenderResolve$(),N.$onRenderResolve$=void 0),512&N.$flags$&&Jt(()=>kr(N,!1)),N.$flags$&=-517},Y=N=>{{const q=kn(N),Ce=q.$hostElement$.isConnected;return Ce&&2==(18&q.$flags$)&&kr(q,!1),Ce}},J=N=>{ee(Gt.documentElement),Jt(()=>kt(Kt,"appload",{detail:{namespace:"ionic"}}))},Z=(N,q,Ce)=>{if(N&&N[q])try{return N[q](Ce)}catch(Ye){de(Ye)}},ee=N=>N.classList.add("hydrated"),dn=(N,q,Ce)=>{var Ye;const dt=N.prototype;if(q.$members$){N.watchers&&(q.$watchers$=N.watchers);const _t=Object.entries(q.$members$);if(_t.map(([Pt,[tn]])=>{31&tn||2&Ce&&32&tn?Object.defineProperty(dt,Pt,{get(){return((N,q)=>kn(this).$instanceValues$.get(q))(0,Pt)},set(Xt){((N,q,Ce,Ye)=>{const dt=kn(N),_t=dt.$hostElement$,Pt=dt.$instanceValues$.get(q),tn=dt.$flags$,Xt=dt.$lazyInstance$;Ce=((N,q)=>null==N||it(N)?N:4&q?"false"!==N&&(""===N||!!N):2&q?parseFloat(N):1&q?String(N):N)(Ce,Ye.$members$[q][0]);const Yt=Number.isNaN(Pt)&&Number.isNaN(Ce);if((!(8&tn)||void 0===Pt)&&Ce!==Pt&&!Yt&&(dt.$instanceValues$.set(q,Ce),Xt)){if(Ye.$watchers$&&128&tn){const yn=Ye.$watchers$[q];yn&&yn.map(bn=>{try{Xt[bn](Ce,Pt,q)}catch(vr){de(vr,_t)}})}2==(18&tn)&&kr(dt,!1)}})(this,Pt,Xt,q)},configurable:!0,enumerable:!0}):1&Ce&&64&tn&&Object.defineProperty(dt,Pt,{value(...Xt){var Yt;const cn=kn(this);return null===(Yt=cn?.$onInstancePromise$)||void 0===Yt?void 0:Yt.then(()=>{var yn;return null===(yn=cn.$lazyInstance$)||void 0===yn?void 0:yn[Pt](...Xt)})}})}),1&Ce){const Pt=new Map;dt.attributeChangedCallback=function(tn,Xt,Yt){Qt.jmp(()=>{var cn;const yn=Pt.get(tn);if(this.hasOwnProperty(yn))Yt=this[yn],delete this[yn];else{if(dt.hasOwnProperty(yn)&&"number"==typeof this[yn]&&this[yn]==Yt)return;if(null==yn){const bn=kn(this),vr=bn?.$flags$;if(vr&&!(8&vr)&&128&vr&&Yt!==Xt){const Ur=bn.$lazyInstance$,I=null===(cn=q.$watchers$)||void 0===cn?void 0:cn[tn];I?.forEach(te=>{null!=Ur[te]&&Ur[te].call(Ur,Yt,Xt,tn)})}return}}this[yn]=(null!==Yt||"boolean"!=typeof this[yn])&&Yt})},N.observedAttributes=Array.from(new Set([...Object.keys(null!==(Ye=q.$watchers$)&&void 0!==Ye?Ye:{}),..._t.filter(([tn,Xt])=>15&Xt[0]).map(([tn,Xt])=>{var Yt;const cn=Xt[1]||tn;return Pt.set(cn,tn),512&Xt[0]&&(null===(Yt=q.$attrsToReflect$)||void 0===Yt||Yt.push([tn,cn])),cn})]))}}return N},Zn=function(){var N=(0,l.Z)(function*(q,Ce,Ye,dt){let _t;if(!(32&Ce.$flags$)){Ce.$flags$|=32;{if(_t=Ge(Ye),_t.then){const Yt=()=>{};_t=yield _t,Yt()}_t.isProxied||(Ye.$watchers$=_t.watchers,dn(_t,Ye,2),_t.isProxied=!0);const Xt=()=>{};Ce.$flags$|=8;try{new _t(Ce)}catch(Yt){de(Yt)}Ce.$flags$&=-9,Ce.$flags$|=128,Xt(),xn(Ce.$lazyInstance$)}if(_t.style){let Xt=_t.style;"string"!=typeof Xt&&(Xt=Xt[Ce.$modeName$=(N=>jt.map(q=>q(N)).find(q=>!!q))(q)]);const Yt=At(Ye,Ce.$modeName$);if(!ft.has(Yt)){const cn=()=>{};mt(Yt,Xt,!!(1&Ye.$flags$)),cn()}}}const Pt=Ce.$ancestorComponent$,tn=()=>kr(Ce,!0);Pt&&Pt["s-rc"]?Pt["s-rc"].push(tn):tn()});return function(Ce,Ye,dt,_t){return N.apply(this,arguments)}}(),xn=N=>{Z(N,"connectedCallback")},Jn=N=>{const q=N["s-cr"]=Gt.createComment("");q["s-cn"]=!0,N.insertBefore(q,N.firstChild)},Cr=N=>{Z(N,"disconnectedCallback")},ei=function(){var N=(0,l.Z)(function*(q){if(!(1&Qt.$flags$)){const Ce=kn(q);Ce.$rmListeners$&&(Ce.$rmListeners$.map(Ye=>Ye()),Ce.$rmListeners$=void 0),Ce?.$lazyInstance$?Cr(Ce.$lazyInstance$):Ce?.$onReadyPromise$&&Ce.$onReadyPromise$.then(()=>Cr(Ce.$lazyInstance$))}});return function(Ce){return N.apply(this,arguments)}}(),Ar=(N,q={})=>{var Ce;const dt=[],_t=q.exclude||[],Pt=Kt.customElements,tn=Gt.head,Xt=tn.querySelector("meta[charset]"),Yt=Gt.createElement("style"),cn=[],yn=Gt.querySelectorAll(`[${xe}]`);let bn,vr=!0,Ur=0;for(Object.assign(Qt,q),Qt.$resourcesUrl$=new URL(q.resourcesUrl||"./",Gt.baseURI).href,Qt.$flags$|=2;Ur<yn.length;Ur++)mt(yn[Ur].getAttribute(xe),Bn(yn[Ur].innerHTML),!0);let I=!1;if(N.map(te=>{te[1].map(S=>{var ae;const Xe={$flags$:S[0],$tagName$:S[1],$members$:S[2],$listeners$:S[3]};4&Xe.$flags$&&(I=!0),Xe.$members$=S[2],Xe.$listeners$=S[3],Xe.$attrsToReflect$=[],Xe.$watchers$=null!==(ae=S[4])&&void 0!==ae?ae:{};const er=Xe.$tagName$,li=class extends HTMLElement{constructor(Er){super(Er),Pr(Er=this,Xe),1&Xe.$flags$&&Er.attachShadow({mode:"open",delegatesFocus:!!(16&Xe.$flags$)})}connectedCallback(){bn&&(clearTimeout(bn),bn=null),vr?cn.push(this):Qt.jmp(()=>(N=>{if(!(1&Qt.$flags$)){const q=kn(N),Ce=q.$cmpMeta$,Ye=()=>{};if(1&q.$flags$)Hr(N,q,Ce.$listeners$),q?.$lazyInstance$?xn(q.$lazyInstance$):q?.$onReadyPromise$&&q.$onReadyPromise$.then(()=>xn(q.$lazyInstance$));else{let dt;if(q.$flags$|=1,dt=N.getAttribute(Qe),dt){if(1&Ce.$flags$){const _t=Ot(N.shadowRoot,Ce,N.getAttribute("s-mode"));N.classList.remove(_t+"-h",_t+"-s")}((N,q,Ce,Ye)=>{const _t=N.shadowRoot,Pt=[],Xt=_t?[]:null,Yt=Ye.$vnode$=Vt(q,null);Qt.$orgLocNodes$||ut(Gt.body,Qt.$orgLocNodes$=new Map),N[Qe]=Ce,N.removeAttribute(Qe),rt(Yt,Pt,[],Xt,N,N,Ce),Pt.map(cn=>{const yn=cn.$hostId$+"."+cn.$nodeId$,bn=Qt.$orgLocNodes$.get(yn),vr=cn.$elm$;bn&&pe&&""===bn["s-en"]&&bn.parentNode.insertBefore(vr,bn.nextSibling),_t||(vr["s-hn"]=q,bn&&(vr["s-ol"]=bn,vr["s-ol"]["s-nr"]=vr)),Qt.$orgLocNodes$.delete(yn)}),_t&&Xt.map(cn=>{cn&&_t.appendChild(cn)})})(N,Ce.$tagName$,dt,q)}dt||12&Ce.$flags$&&Jn(N);{let _t=N;for(;_t=_t.parentNode||_t.host;)if(1===_t.nodeType&&_t.hasAttribute("s-id")&&_t["s-p"]||_t["s-p"]){Nr(q,q.$ancestorComponent$=_t);break}}Ce.$members$&&Object.entries(Ce.$members$).map(([_t,[Pt]])=>{if(31&Pt&&N.hasOwnProperty(_t)){const tn=N[_t];delete N[_t],N[_t]=tn}}),Zn(N,q,Ce)}Ye()}})(this))}disconnectedCallback(){Qt.jmp(()=>ei(this))}componentOnReady(){return kn(this).$onReadyPromise$}};Xe.$lazyBundleId$=te[0],!_t.includes(er)&&!Pt.get(er)&&(dt.push(er),Pt.define(er,dn(li,Xe,1)))})}),I&&(Yt.innerHTML+=Ie),Yt.innerHTML+=dt+"{visibility:hidden}.hydrated{visibility:inherit}",Yt.innerHTML.length){Yt.setAttribute("data-styles","");const te=null!==(Ce=Qt.$nonce$)&&void 0!==Ce?Ce:lt(Gt);null!=te&&Yt.setAttribute("nonce",te),tn.insertBefore(Yt,Xt?Xt.nextSibling:tn.firstChild)}vr=!1,cn.length?cn.map(te=>te.connectedCallback()):Qt.jmp(()=>bn=setTimeout(J,30))},Hr=(N,q,Ce,Ye)=>{Ce&&Ce.map(([dt,_t,Pt])=>{const tn=pt(N,dt),Xt=It(q,Pt),Yt=Nt(dt);Qt.ael(tn,_t,Xt,Yt),(q.$rmListeners$=q.$rmListeners$||[]).push(()=>Qt.rel(tn,_t,Xt,Yt))})},It=(N,q)=>Ce=>{try{256&N.$flags$?N.$lazyInstance$[q](Ce):(N.$queuedListeners$=N.$queuedListeners$||[]).push([q,Ce])}catch(Ye){de(Ye)}},pt=(N,q)=>4&q?Gt:8&q?Kt:16&q?Gt.body:N,Nt=N=>0!=(2&N),Qn=new WeakMap,kn=N=>Qn.get(N),ir=(N,q)=>Qn.set(q.$lazyInstance$=N,q),Pr=(N,q)=>{const Ce={$flags$:0,$hostElement$:N,$cmpMeta$:q,$instanceValues$:new Map};return Ce.$onInstancePromise$=new Promise(Ye=>Ce.$onInstanceResolve$=Ye),Ce.$onReadyPromise$=new Promise(Ye=>Ce.$onReadyResolve$=Ye),N["s-p"]=[],N["s-rc"]=[],Hr(N,Ce,q.$listeners$),Qn.set(N,Ce)},Gn=(N,q)=>q in N,de=(N,q)=>(0,console.error)(N,q),Be=new Map,Ge=(N,q,Ce)=>{const Ye=N.$tagName$.replace(/-/g,"_"),dt=N.$lazyBundleId$,_t=Be.get(dt);return _t?_t[Ye]:M(863)(`./${dt}.entry.js`).then(Pt=>(Be.set(dt,Pt),Pt[Ye]),de)},ft=new Map,jt=[],Kt=typeof window<"u"?window:{},Gt=Kt.document||{head:{}},Qt={$flags$:0,$resourcesUrl$:"",jmp:N=>N(),raf:N=>requestAnimationFrame(N),ael:(N,q,Ce,Ye)=>N.addEventListener(q,Ce,Ye),rel:(N,q,Ce,Ye)=>N.removeEventListener(q,Ce,Ye),ce:(N,q)=>new CustomEvent(N,q)},Rn=N=>{Object.assign(Qt,N)},pe=!0,U=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),me=[],be=[],$e=(N,q)=>Ce=>{N.push(Ce),oe||(oe=!0,q&&4&Qt.$flags$?Jt(yt):Qt.raf(yt))},gt=N=>{for(let q=0;q<N.length;q++)try{N[q](performance.now())}catch(Ce){de(Ce)}N.length=0},yt=()=>{gt(me),gt(be),(oe=me.length>0)&&Qt.raf(yt)},Jt=N=>Promise.resolve(void 0).then(N),Mn=$e(me,!1),Wn=$e(be,!0)},6535:(an,tt,M)=>{"use strict";M.r(tt),M.d(tt,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>Ke});var l=M(2019);const P=(ze,Pe,Fe,ct)=>{const We=_e(ze)?{capture:!!ct.capture,passive:!!ct.passive}:!!ct.capture;let Te,Ue;return ze.__zone_symbol__addEventListener?(Te="__zone_symbol__addEventListener",Ue="__zone_symbol__removeEventListener"):(Te="addEventListener",Ue="removeEventListener"),ze[Te](Pe,Fe,We),()=>{ze[Ue](Pe,Fe,We)}},_e=ze=>{if(void 0===le)try{const Pe=Object.defineProperty({},"passive",{get:()=>{le=!0}});ze.addEventListener("optsTest",()=>{},Pe)}catch{le=!1}return!!le};let le;const ye=ze=>ze instanceof Document?ze:ze.ownerDocument,Ke=ze=>{let Pe=!1,Fe=!1,ct=!0,We=!1;const Te=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ze),Ue=Te.canStart,Qe=Te.onWillStart,xe=Te.onStart,He=Te.onEnd,je=Te.notCaptured,Ie=Te.onMove,ue=Te.threshold,W=Te.passive,ke=Te.blurOnStart,Re={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},nt=((ze,Pe,Fe)=>{const ct=Fe*(Math.PI/180),We="x"===ze,Te=Math.cos(ct),Ue=Pe*Pe;let Qe=0,xe=0,He=!1,je=0;return{start(Ie,ue){Qe=Ie,xe=ue,je=0,He=!0},detect(Ie,ue){if(!He)return!1;const W=Ie-Qe,ke=ue-xe,Re=W*W+ke*ke;if(Re<Ue)return!1;const nt=Math.sqrt(Re),it=(We?W:ke)/nt;return je=it>Te?1:it<-Te?-1:0,He=!1,!0},isGesture:()=>0!==je,getDirection:()=>je}})(Te.direction,Te.threshold,Te.maxAngle),it=l.G.createGesture({name:ze.gestureName,priority:ze.gesturePriority,disableScroll:ze.disableScroll}),Vt=()=>{Pe&&(We=!1,Ie&&Ie(Re))},Zt=()=>!!it.capture()&&(Pe=!0,ct=!1,Re.startX=Re.currentX,Re.startY=Re.currentY,Re.startTime=Re.currentTime,Qe?Qe(Re).then(Se):Se(),!0),Se=()=>{ke&&(()=>{if(typeof document<"u"){const ut=document.activeElement;ut?.blur&&ut.blur()}})(),xe&&xe(Re),ct=!0},ce=()=>{Pe=!1,Fe=!1,We=!1,ct=!0,it.release()},Me=ut=>{const $t=Pe,on=ct;if(ce(),on){if(ie(Re,ut),$t)return void(He&&He(Re));je&&je(Re)}},fe=((ze,Pe,Fe,ct,We)=>{let Te,Ue,Qe,xe,He,je,Ie,ue=0;const W=ot=>{ue=Date.now()+2e3,Pe(ot)&&(!Ue&&Fe&&(Ue=P(ze,"touchmove",Fe,We)),Qe||(Qe=P(ot.target,"touchend",Re,We)),xe||(xe=P(ot.target,"touchcancel",Re,We)))},ke=ot=>{ue>Date.now()||Pe(ot)&&(!je&&Fe&&(je=P(ye(ze),"mousemove",Fe,We)),Ie||(Ie=P(ye(ze),"mouseup",nt,We)))},Re=ot=>{it(),ct&&ct(ot)},nt=ot=>{lt(),ct&&ct(ot)},it=()=>{Ue&&Ue(),Qe&&Qe(),xe&&xe(),Ue=Qe=xe=void 0},lt=()=>{je&&je(),Ie&&Ie(),je=Ie=void 0},Ut=()=>{it(),lt()},Vt=(ot=!0)=>{ot?(Te||(Te=P(ze,"touchstart",W,We)),He||(He=P(ze,"mousedown",ke,We))):(Te&&Te(),He&&He(),Te=He=void 0,Ut())};return{enable:Vt,stop:Ut,destroy:()=>{Vt(!1),ct=Fe=Pe=void 0}}})(Te.el,ut=>{const $t=Oe(ut);return!(Fe||!ct||(oe(ut,Re),Re.startX=Re.currentX,Re.startY=Re.currentY,Re.startTime=Re.currentTime=$t,Re.velocityX=Re.velocityY=Re.deltaX=Re.deltaY=0,Re.event=ut,Ue&&!1===Ue(Re))||(it.release(),!it.start()))&&(Fe=!0,0===ue?Zt():(nt.start(Re.startX,Re.startY),!0))},ut=>{Pe?!We&&ct&&(We=!0,ie(Re,ut),requestAnimationFrame(Vt)):(ie(Re,ut),nt.detect(Re.currentX,Re.currentY)&&(!nt.isGesture()||!Zt())&&rt())},Me,{capture:!1,passive:W}),rt=()=>{ce(),fe.stop(),je&&je(Re)};return{enable(ut=!0){ut||(Pe&&Me(void 0),ce()),fe.enable(ut)},destroy(){it.destroy(),fe.destroy()}}},ie=(ze,Pe)=>{if(!Pe)return;const Fe=ze.currentX,ct=ze.currentY,We=ze.currentTime;oe(Pe,ze);const Te=ze.currentX,Ue=ze.currentY,xe=(ze.currentTime=Oe(Pe))-We;if(xe>0&&xe<100){const je=(Ue-ct)/xe;ze.velocityX=(Te-Fe)/xe*.7+.3*ze.velocityX,ze.velocityY=.7*je+.3*ze.velocityY}ze.deltaX=Te-ze.startX,ze.deltaY=Ue-ze.startY,ze.event=Pe},oe=(ze,Pe)=>{let Fe=0,ct=0;if(ze){const We=ze.changedTouches;if(We&&We.length>0){const Te=We[0];Fe=Te.clientX,ct=Te.clientY}else void 0!==ze.pageX&&(Fe=ze.pageX,ct=ze.pageY)}Pe.currentX=Fe,Pe.currentY=ct},Oe=ze=>ze.timeStamp||Date.now()},2400:(an,tt,M)=>{"use strict";M.d(tt,{a:()=>P,b:()=>_e,p:()=>l});const l=(le,...Ee)=>console.warn(`[Ionic Warning]: ${le}`,...Ee),P=(le,...Ee)=>console.error(`[Ionic Error]: ${le}`,...Ee),_e=(le,...Ee)=>console.error(`<${le.tagName.toLowerCase()}> must be used inside ${Ee.join(" or ")}.`)},1848:(an,tt,M)=>{"use strict";M.d(tt,{d:()=>P,w:()=>l});const l=typeof window<"u"?window:void 0,P=typeof document<"u"?document:void 0},4232:(an,tt,M)=>{"use strict";M.d(tt,{b:()=>ge,c:()=>ye,d:()=>ve,e:()=>ue,g:()=>Re,l:()=>je,s:()=>W,t:()=>oe,w:()=>Ie});var l=M(5861),P=M(9942),_e=M(512);const ge="ionViewWillLeave",ye="ionViewDidLeave",ve="ionViewWillUnload",oe=nt=>new Promise((it,lt)=>{(0,P.w)(()=>{Oe(nt),ze(nt).then(Ut=>{Ut.animation&&Ut.animation.destroy(),Pe(nt),it(Ut)},Ut=>{Pe(nt),lt(Ut)})})}),Oe=nt=>{const it=nt.enteringEl,lt=nt.leavingEl;ke(it,lt,nt.direction),nt.showGoBack?it.classList.add("can-go-back"):it.classList.remove("can-go-back"),W(it,!1),it.style.setProperty("pointer-events","none"),lt&&(W(lt,!1),lt.style.setProperty("pointer-events","none"))},ze=function(){var nt=(0,l.Z)(function*(it){const lt=yield Fe(it);return lt&&P.B.isBrowser?ct(lt,it):We(it)});return function(lt){return nt.apply(this,arguments)}}(),Pe=nt=>{const it=nt.enteringEl,lt=nt.leavingEl;it.classList.remove("ion-page-invisible"),it.style.removeProperty("pointer-events"),void 0!==lt&&(lt.classList.remove("ion-page-invisible"),lt.style.removeProperty("pointer-events"))},Fe=function(){var nt=(0,l.Z)(function*(it){return it.leavingEl&&it.animated&&0!==it.duration?it.animationBuilder?it.animationBuilder:"ios"===it.mode?(yield Promise.resolve().then(M.bind(M,4810))).iosTransitionAnimation:(yield Promise.resolve().then(M.bind(M,2655))).mdTransitionAnimation:void 0});return function(lt){return nt.apply(this,arguments)}}(),ct=function(){var nt=(0,l.Z)(function*(it,lt){yield Te(lt,!0);const Ut=it(lt.baseEl,lt);xe(lt.enteringEl,lt.leavingEl);const Vt=yield Qe(Ut,lt);return lt.progressCallback&&lt.progressCallback(void 0),Vt&&He(lt.enteringEl,lt.leavingEl),{hasCompleted:Vt,animation:Ut}});return function(lt,Ut){return nt.apply(this,arguments)}}(),We=function(){var nt=(0,l.Z)(function*(it){const lt=it.enteringEl,Ut=it.leavingEl;return yield Te(it,!1),xe(lt,Ut),He(lt,Ut),{hasCompleted:!0}});return function(lt){return nt.apply(this,arguments)}}(),Te=function(){var nt=(0,l.Z)(function*(it,lt){(void 0!==it.deepWait?it.deepWait:lt)&&(yield Promise.all([ue(it.enteringEl),ue(it.leavingEl)])),yield Ue(it.viewIsReady,it.enteringEl)});return function(lt,Ut){return nt.apply(this,arguments)}}(),Ue=function(){var nt=(0,l.Z)(function*(it,lt){it&&(yield it(lt))});return function(lt,Ut){return nt.apply(this,arguments)}}(),Qe=(nt,it)=>{const lt=it.progressCallback,Ut=new Promise(Vt=>{nt.onFinish(Zt=>Vt(1===Zt))});return lt?(nt.progressStart(!0),lt(nt)):nt.play(),Ut},xe=(nt,it)=>{je(it,ge),je(nt,"ionViewWillEnter")},He=(nt,it)=>{je(nt,"ionViewDidEnter"),je(it,ye)},je=(nt,it)=>{if(nt){const lt=new CustomEvent(it,{bubbles:!1,cancelable:!1});nt.dispatchEvent(lt)}},Ie=()=>new Promise(nt=>(0,_e.r)(()=>(0,_e.r)(()=>nt()))),ue=function(){var nt=(0,l.Z)(function*(it){const lt=it;if(lt){if(null!=lt.componentOnReady){if(null!=(yield lt.componentOnReady()))return}else if(null!=lt.__registerHost)return void(yield new Promise(Vt=>(0,_e.r)(Vt)));yield Promise.all(Array.from(lt.children).map(ue))}});return function(lt){return nt.apply(this,arguments)}}(),W=(nt,it)=>{it?(nt.setAttribute("aria-hidden","true"),nt.classList.add("ion-page-hidden")):(nt.hidden=!1,nt.removeAttribute("aria-hidden"),nt.classList.remove("ion-page-hidden"))},ke=(nt,it,lt)=>{void 0!==nt&&(nt.style.zIndex="back"===lt?"99":"101"),void 0!==it&&(it.style.zIndex="100")},Re=nt=>nt.classList.contains("ion-page")?nt:nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||nt},5551:(an,tt,M)=>{"use strict";M.d(tt,{a:()=>oe,b:()=>Vt,c:()=>_e,i:()=>Zt});var l=M(9942);class P{constructor(){this.m=new Map}reset(Se){this.m=new Map(Object.entries(Se))}get(Se,ce){const Me=this.m.get(Se);return void 0!==Me?Me:ce}getBoolean(Se,ce=!1){const Me=this.m.get(Se);return void 0===Me?ce:"string"==typeof Me?"true"===Me:!!Me}getNumber(Se,ce){const Me=parseFloat(this.m.get(Se));return isNaN(Me)?void 0!==ce?ce:NaN:Me}set(Se,ce){this.m.set(Se,ce)}}const _e=new P,Ke="ionic-persist-config",oe=(ot,Se)=>("string"==typeof ot&&(Se=ot,ot=void 0),(ot=>Oe(ot))(ot).includes(Se)),Oe=(ot=window)=>{if(typeof ot>"u")return[];ot.Ionic=ot.Ionic||{};let Se=ot.Ionic.platforms;return null==Se&&(Se=ot.Ionic.platforms=ze(ot),Se.forEach(ce=>ot.document.documentElement.classList.add(`plt-${ce}`))),Se},ze=ot=>{const Se=_e.get("platform");return Object.keys(lt).filter(ce=>{const Me=Se?.[ce];return"function"==typeof Me?Me(ot):lt[ce](ot)})},Fe=ot=>!!(nt(ot,/iPad/i)||nt(ot,/Macintosh/i)&&He(ot)),Te=ot=>nt(ot,/android|sink/i),He=ot=>it(ot,"(any-pointer:coarse)"),Ie=ot=>ue(ot)||W(ot),ue=ot=>!!(ot.cordova||ot.phonegap||ot.PhoneGap),W=ot=>{const Se=ot.Capacitor;return!!Se?.isNative},nt=(ot,Se)=>Se.test(ot.navigator.userAgent),it=(ot,Se)=>{var ce;return null===(ce=ot.matchMedia)||void 0===ce?void 0:ce.call(ot,Se).matches},lt={ipad:Fe,iphone:ot=>nt(ot,/iPhone/i),ios:ot=>nt(ot,/iPhone|iPod/i)||Fe(ot),android:Te,phablet:ot=>{const Se=ot.innerWidth,ce=ot.innerHeight,Me=Math.min(Se,ce),fe=Math.max(Se,ce);return Me>390&&Me<520&&fe>620&&fe<800},tablet:ot=>{const Se=ot.innerWidth,ce=ot.innerHeight,Me=Math.min(Se,ce),fe=Math.max(Se,ce);return Fe(ot)||(ot=>Te(ot)&&!nt(ot,/mobile/i))(ot)||Me>460&&Me<820&&fe>780&&fe<1400},cordova:ue,capacitor:W,electron:ot=>nt(ot,/electron/i),pwa:ot=>{var Se;return!!(null!==(Se=ot.matchMedia)&&void 0!==Se&&Se.call(ot,"(display-mode: standalone)").matches||ot.navigator.standalone)},mobile:He,mobileweb:ot=>He(ot)&&!Ie(ot),desktop:ot=>!He(ot),hybrid:Ie};let Ut;const Vt=ot=>ot&&(0,l.g)(ot)||Ut,Zt=(ot={})=>{if(typeof window>"u")return;const Se=window.document,ce=window,Me=ce.Ionic=ce.Ionic||{},fe={};ot._ael&&(fe.ael=ot._ael),ot._rel&&(fe.rel=ot._rel),ot._ce&&(fe.ce=ot._ce),(0,l.a)(fe);const rt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ot=>{try{const Se=ot.sessionStorage.getItem(Ke);return null!==Se?JSON.parse(Se):{}}catch{return{}}})(ce)),{persistConfig:!1}),Me.config),(ot=>{const Se={};return ot.location.search.slice(1).split("&").map(ce=>ce.split("=")).map(([ce,Me])=>[decodeURIComponent(ce),decodeURIComponent(Me)]).filter(([ce])=>((ot,Se)=>ot.substr(0,Se.length)===Se)(ce,"ionic:")).map(([ce,Me])=>[ce.slice(6),Me]).forEach(([ce,Me])=>{Se[ce]=Me}),Se})(ce)),ot);_e.reset(rt),_e.getBoolean("persistConfig")&&((ot,Se)=>{try{ot.sessionStorage.setItem(Ke,JSON.stringify(Se))}catch{return}})(ce,rt),Oe(ce),Me.config=_e,Me.mode=Ut=_e.get("mode",Se.documentElement.getAttribute("mode")||(oe(ce,"ios")?"ios":"md")),_e.set("mode",Ut),Se.documentElement.setAttribute("mode",Ut),Se.documentElement.classList.add(Ut),_e.getBoolean("_testing")&&_e.set("animated",!1);const ut=on=>{var qt;return null===(qt=on.tagName)||void 0===qt?void 0:qt.startsWith("ION-")},$t=on=>["ios","md"].includes(on);(0,l.c)(on=>{for(;on;){const qt=on.mode||on.getAttribute("mode");if(qt){if($t(qt))return qt;ut(on)&&console.warn('Invalid ionic mode: "'+qt+'", expected: "ios" or "md"')}on=on.parentElement}return Ut})}},4810:(an,tt,M)=>{"use strict";M.r(tt),M.d(tt,{iosTransitionAnimation:()=>ze,shadow:()=>ye});var l=M(4913),P=M(4232);M(1848),M(9942);const ge=Fe=>document.querySelector(`${Fe}.ion-cloned-element`),ye=Fe=>Fe.shadowRoot||Fe,ve=Fe=>{const ct="ION-TABS"===Fe.tagName?Fe:Fe.querySelector("ion-tabs"),We="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ct){const Te=ct.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Te?Te.querySelector(We):null}return Fe.querySelector(We)},Ke=(Fe,ct)=>{const We="ION-TABS"===Fe.tagName?Fe:Fe.querySelector("ion-tabs");let Te=[];if(null!=We){const Ue=We.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ue&&(Te=Ue.querySelectorAll("ion-buttons"))}else Te=Fe.querySelectorAll("ion-buttons");for(const Ue of Te){const Qe=Ue.closest("ion-header"),xe=Qe&&!Qe.classList.contains("header-collapse-condense-inactive"),He=Ue.querySelector("ion-back-button"),je=Ue.classList.contains("buttons-collapse");if(null!==He&&("start"===Ue.slot||""===Ue.slot)&&(je&&xe&&ct||!je))return He}return null},oe=(Fe,ct,We,Te,Ue,Qe,xe,He,je)=>{var Ie,ue;const W=ct?`calc(100% - ${Ue.right+4}px)`:Ue.left-4+"px",ke=ct?"right":"left",Re=ct?"left":"right",nt=ct?"right":"left",it=(null===(Ie=Qe.textContent)||void 0===Ie?void 0:Ie.trim())===(null===(ue=He.textContent)||void 0===ue?void 0:ue.trim()),Ut=(je.height-Pe)/xe.height,Vt=it?`scale(${je.width/xe.width}, ${Ut})`:`scale(${Ut})`,Zt="scale(1)",Se=ye(Te).querySelector("ion-icon").getBoundingClientRect(),ce=ct?Se.width/2-(Se.right-Ue.right)+"px":Ue.left-Se.width/2+"px",Me=ct?`-${window.innerWidth-Ue.right}px`:`${Ue.left}px`,fe=`${je.top}px`,rt=`${Ue.top}px`,on=We?[{offset:0,transform:`translate3d(${Me}, ${rt}, 0)`},{offset:1,transform:`translate3d(${ce}, ${fe}, 0)`}]:[{offset:0,transform:`translate3d(${ce}, ${fe}, 0)`},{offset:1,transform:`translate3d(${Me}, ${rt}, 0)`}],In=We?[{offset:0,opacity:1,transform:Zt},{offset:1,opacity:0,transform:Vt}]:[{offset:0,opacity:0,transform:Vt},{offset:1,opacity:1,transform:Zt}],Et=We?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],mt=(0,l.c)(),Ot=(0,l.c)(),fn=(0,l.c)(),At=ge("ion-back-button"),Bn=ye(At).querySelector(".button-text"),mn=ye(At).querySelector("ion-icon");At.text=Te.text,At.mode=Te.mode,At.icon=Te.icon,At.color=Te.color,At.disabled=Te.disabled,At.style.setProperty("display","block"),At.style.setProperty("position","fixed"),Ot.addElement(mn),mt.addElement(Bn),fn.addElement(At),fn.beforeStyles({position:"absolute",top:"0px",[nt]:"0px"}).keyframes(on),mt.beforeStyles({"transform-origin":`${ke} top`}).beforeAddWrite(()=>{Te.style.setProperty("display","none"),At.style.setProperty(ke,W)}).afterAddWrite(()=>{Te.style.setProperty("display",""),At.style.setProperty("display","none"),At.style.removeProperty(ke)}).keyframes(In),Ot.beforeStyles({"transform-origin":`${Re} center`}).keyframes(Et),Fe.addAnimation([mt,Ot,fn])},Oe=(Fe,ct,We,Te,Ue,Qe,xe,He)=>{var je,Ie;const ue=ct?"right":"left",W=ct?`calc(100% - ${Ue.right}px)`:`${Ue.left}px`,Re=`${Ue.top}px`,it=ct?`-${window.innerWidth-He.right-8}px`:He.x-8+"px",Ut=He.y-2+"px",Vt=(null===(je=xe.textContent)||void 0===je?void 0:je.trim())===(null===(Ie=Te.textContent)||void 0===Ie?void 0:Ie.trim()),ot=He.height/(Qe.height-Pe),Se="scale(1)",ce=Vt?`scale(${He.width/Qe.width}, ${ot})`:`scale(${ot})`,rt=We?[{offset:0,opacity:0,transform:`translate3d(${it}, ${Ut}, 0) ${ce}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Re}, 0) ${Se}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Re}, 0) ${Se}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${it}, ${Ut}, 0) ${ce}`}],ut=ge("ion-title"),$t=(0,l.c)();ut.innerText=Te.innerText,ut.size=Te.size,ut.color=Te.color,$t.addElement(ut),$t.beforeStyles({"transform-origin":`${ue} top`,height:`${Ue.height}px`,display:"",position:"relative",[ue]:W}).beforeAddWrite(()=>{Te.style.setProperty("opacity","0")}).afterAddWrite(()=>{Te.style.setProperty("opacity",""),ut.style.setProperty("display","none")}).keyframes(rt),Fe.addAnimation($t)},ze=(Fe,ct)=>{var We;try{const Te="cubic-bezier(0.32,0.72,0,1)",Ue="opacity",Qe="transform",xe="0%",je="rtl"===Fe.ownerDocument.dir,Ie=je?"-99.5%":"99.5%",ue=je?"33%":"-33%",W=ct.enteringEl,ke=ct.leavingEl,Re="back"===ct.direction,nt=W.querySelector(":scope > ion-content"),it=W.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),lt=W.querySelectorAll(":scope > ion-header > ion-toolbar"),Ut=(0,l.c)(),Vt=(0,l.c)();if(Ut.addElement(W).duration((null!==(We=ct.duration)&&void 0!==We?We:0)||540).easing(ct.easing||Te).fill("both").beforeRemoveClass("ion-page-invisible"),ke&&null!=Fe){const ce=(0,l.c)();ce.addElement(Fe),Ut.addAnimation(ce)}if(nt||0!==lt.length||0!==it.length?(Vt.addElement(nt),Vt.addElement(it)):Vt.addElement(W.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ut.addAnimation(Vt),Re?Vt.beforeClearStyles([Ue]).fromTo("transform",`translateX(${ue})`,`translateX(${xe})`).fromTo(Ue,.8,1):Vt.beforeClearStyles([Ue]).fromTo("transform",`translateX(${Ie})`,`translateX(${xe})`),nt){const ce=ye(nt).querySelector(".transition-effect");if(ce){const Me=ce.querySelector(".transition-cover"),fe=ce.querySelector(".transition-shadow"),rt=(0,l.c)(),ut=(0,l.c)(),$t=(0,l.c)();rt.addElement(ce).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ut.addElement(Me).beforeClearStyles([Ue]).fromTo(Ue,0,.1),$t.addElement(fe).beforeClearStyles([Ue]).fromTo(Ue,.03,.7),rt.addAnimation([ut,$t]),Vt.addAnimation([rt])}}const Zt=W.querySelector("ion-header.header-collapse-condense"),{forward:ot,backward:Se}=((Fe,ct,We,Te,Ue)=>{const Qe=Ke(Te,We),xe=ve(Ue),He=ve(Te),je=Ke(Ue,We),Ie=null!==Qe&&null!==xe&&!We,ue=null!==He&&null!==je&&We;if(Ie){const W=xe.getBoundingClientRect(),ke=Qe.getBoundingClientRect(),Re=ye(Qe).querySelector(".button-text"),nt=Re.getBoundingClientRect(),lt=ye(xe).querySelector(".toolbar-title").getBoundingClientRect();Oe(Fe,ct,We,xe,W,lt,Re,nt),oe(Fe,ct,We,Qe,ke,Re,nt,xe,lt)}else if(ue){const W=He.getBoundingClientRect(),ke=je.getBoundingClientRect(),Re=ye(je).querySelector(".button-text"),nt=Re.getBoundingClientRect(),lt=ye(He).querySelector(".toolbar-title").getBoundingClientRect();Oe(Fe,ct,We,He,W,lt,Re,nt),oe(Fe,ct,We,je,ke,Re,nt,He,lt)}return{forward:Ie,backward:ue}})(Ut,je,Re,W,ke);if(lt.forEach(ce=>{const Me=(0,l.c)();Me.addElement(ce),Ut.addAnimation(Me);const fe=(0,l.c)();fe.addElement(ce.querySelector("ion-title"));const rt=(0,l.c)(),ut=Array.from(ce.querySelectorAll("ion-buttons,[menuToggle]")),$t=ce.closest("ion-header"),on=$t?.classList.contains("header-collapse-condense-inactive");let qt;qt=ut.filter(Re?Et=>{const mt=Et.classList.contains("buttons-collapse");return mt&&!on||!mt}:Et=>!Et.classList.contains("buttons-collapse")),rt.addElement(qt);const Lt=(0,l.c)();Lt.addElement(ce.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const In=(0,l.c)();In.addElement(ye(ce).querySelector(".toolbar-background"));const Xn=(0,l.c)(),kt=ce.querySelector("ion-back-button");if(kt&&Xn.addElement(kt),Me.addAnimation([fe,rt,Lt,In,Xn]),rt.fromTo(Ue,.01,1),Lt.fromTo(Ue,.01,1),Re)on||fe.fromTo("transform",`translateX(${ue})`,`translateX(${xe})`).fromTo(Ue,.01,1),Lt.fromTo("transform",`translateX(${ue})`,`translateX(${xe})`),Xn.fromTo(Ue,.01,1);else if(Zt||fe.fromTo("transform",`translateX(${Ie})`,`translateX(${xe})`).fromTo(Ue,.01,1),Lt.fromTo("transform",`translateX(${Ie})`,`translateX(${xe})`),In.beforeClearStyles([Ue,"transform"]),$t?.translucent?In.fromTo("transform",je?"translateX(-100%)":"translateX(100%)","translateX(0px)"):In.fromTo(Ue,.01,"var(--opacity)"),ot||Xn.fromTo(Ue,.01,1),kt&&!ot){const mt=(0,l.c)();mt.addElement(ye(kt).querySelector(".button-text")).fromTo("transform",je?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Me.addAnimation(mt)}}),ke){const ce=(0,l.c)(),Me=ke.querySelector(":scope > ion-content"),fe=ke.querySelectorAll(":scope > ion-header > ion-toolbar"),rt=ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Me||0!==fe.length||0!==rt.length?(ce.addElement(Me),ce.addElement(rt)):ce.addElement(ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ut.addAnimation(ce),Re){ce.beforeClearStyles([Ue]).fromTo("transform",`translateX(${xe})`,je?"translateX(-100%)":"translateX(100%)");const ut=(0,P.g)(ke);Ut.afterAddWrite(()=>{"normal"===Ut.getDirection()&&ut.style.setProperty("display","none")})}else ce.fromTo("transform",`translateX(${xe})`,`translateX(${ue})`).fromTo(Ue,1,.8);if(Me){const ut=ye(Me).querySelector(".transition-effect");if(ut){const $t=ut.querySelector(".transition-cover"),on=ut.querySelector(".transition-shadow"),qt=(0,l.c)(),Lt=(0,l.c)(),In=(0,l.c)();qt.addElement(ut).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Lt.addElement($t).beforeClearStyles([Ue]).fromTo(Ue,.1,0),In.addElement(on).beforeClearStyles([Ue]).fromTo(Ue,.7,.03),qt.addAnimation([Lt,In]),ce.addAnimation([qt])}}fe.forEach(ut=>{const $t=(0,l.c)();$t.addElement(ut);const on=(0,l.c)();on.addElement(ut.querySelector("ion-title"));const qt=(0,l.c)(),Lt=ut.querySelectorAll("ion-buttons,[menuToggle]"),In=ut.closest("ion-header"),Xn=In?.classList.contains("header-collapse-condense-inactive"),kt=Array.from(Lt).filter(Bn=>{const mn=Bn.classList.contains("buttons-collapse");return mn&&!Xn||!mn});qt.addElement(kt);const Et=(0,l.c)(),mt=ut.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");mt.length>0&&Et.addElement(mt);const Ot=(0,l.c)();Ot.addElement(ye(ut).querySelector(".toolbar-background"));const fn=(0,l.c)(),At=ut.querySelector("ion-back-button");if(At&&fn.addElement(At),$t.addAnimation([on,qt,Et,fn,Ot]),Ut.addAnimation($t),fn.fromTo(Ue,.99,0),qt.fromTo(Ue,.99,0),Et.fromTo(Ue,.99,0),Re){if(Xn||on.fromTo("transform",`translateX(${xe})`,je?"translateX(-100%)":"translateX(100%)").fromTo(Ue,.99,0),Et.fromTo("transform",`translateX(${xe})`,je?"translateX(-100%)":"translateX(100%)"),Ot.beforeClearStyles([Ue,"transform"]),In?.translucent?Ot.fromTo("transform","translateX(0px)",je?"translateX(-100%)":"translateX(100%)"):Ot.fromTo(Ue,"var(--opacity)",0),At&&!Se){const mn=(0,l.c)();mn.addElement(ye(At).querySelector(".button-text")).fromTo("transform",`translateX(${xe})`,`translateX(${(je?-124:124)+"px"})`),$t.addAnimation(mn)}}else Xn||on.fromTo("transform",`translateX(${xe})`,`translateX(${ue})`).fromTo(Ue,.99,0).afterClearStyles([Qe,Ue]),Et.fromTo("transform",`translateX(${xe})`,`translateX(${ue})`).afterClearStyles([Qe,Ue]),fn.afterClearStyles([Ue]),on.afterClearStyles([Ue]),qt.afterClearStyles([Ue])})}return Ut}catch(Te){throw Te}},Pe=10},2655:(an,tt,M)=>{"use strict";M.r(tt),M.d(tt,{mdTransitionAnimation:()=>Ee});var l=M(4913),P=M(4232);M(1848),M(9942);const Ee=(ge,ye)=>{var ve,Ke,ie;const ze="back"===ye.direction,Fe=ye.leavingEl,ct=(0,P.g)(ye.enteringEl),We=ct.querySelector("ion-toolbar"),Te=(0,l.c)();if(Te.addElement(ct).fill("both").beforeRemoveClass("ion-page-invisible"),ze?Te.duration((null!==(ve=ye.duration)&&void 0!==ve?ve:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Te.duration((null!==(Ke=ye.duration)&&void 0!==Ke?Ke:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),We){const Ue=(0,l.c)();Ue.addElement(We),Te.addAnimation(Ue)}if(Fe&&ze){Te.duration((null!==(ie=ye.duration)&&void 0!==ie?ie:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ue=(0,l.c)();Ue.addElement((0,P.g)(Fe)).onFinish(Qe=>{1===Qe&&Ue.elements.length>0&&Ue.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Te.addAnimation(Ue)}return Te}},2936:(an,tt,M)=>{"use strict";M.d(tt,{B:()=>on,G:()=>qt,O:()=>Lt,a:()=>Oe,b:()=>ze,c:()=>We,d:()=>In,e:()=>Xn,f:()=>Vt,g:()=>ot,h:()=>Me,i:()=>rt,j:()=>Ue,k:()=>Qe,l:()=>Pe,m:()=>Fe,n:()=>ie,o:()=>je,q:()=>lt,s:()=>$t,t:()=>Te});var l=M(5861),P=M(1848),_e=M(5551),le=M(3254),Ee=M(4393),ge=M(512),ye=M(2400);let ve=0,Ke=0;const ie=new WeakMap,oe=kt=>({create:Et=>xe(kt,Et),dismiss:(Et,mt,Ot)=>Re(document,Et,mt,kt,Ot),getTop:()=>(0,l.Z)(function*(){return lt(document,kt)})()}),Oe=oe("ion-alert"),ze=oe("ion-action-sheet"),Pe=oe("ion-loading"),Fe=oe("ion-modal"),We=oe("ion-popover"),Te=oe("ion-toast"),Ue=kt=>{typeof document<"u"&&ke(document);const Et=ve++;kt.overlayIndex=Et},Qe=kt=>(kt.hasAttribute("id")||(kt.id="ion-overlay-"+ ++Ke),kt.id),xe=(kt,Et)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(kt).then(()=>{const mt=document.createElement(kt);return mt.classList.add("overlay-hidden"),Object.assign(mt,Object.assign(Object.assign({},Et),{hasController:!0})),Se(document).appendChild(mt),new Promise(Ot=>(0,ge.c)(mt,Ot))}):Promise.resolve(),He='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',je=(kt,Et)=>{let mt=kt.querySelector(He);const Ot=mt?.shadowRoot;Ot&&(mt=Ot.querySelector(He)||mt),mt?(0,ge.f)(mt):Et.focus()},ue=(kt,Et)=>{const mt=Array.from(kt.querySelectorAll(He));let Ot=mt.length>0?mt[mt.length-1]:null;const fn=Ot?.shadowRoot;fn&&(Ot=fn.querySelector(He)||Ot),Ot?Ot.focus():Et.focus()},ke=kt=>{0===ve&&(ve=1,kt.addEventListener("focus",Et=>{((kt,Et)=>{const mt=lt(Et,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ot=kt.target;mt&&Ot&&!mt.classList.contains("ion-disable-focus-trap")&&(mt.shadowRoot?(()=>{if(mt.contains(Ot))mt.lastFocus=Ot;else{const Bn=mt.lastFocus;je(mt,mt),Bn===Et.activeElement&&ue(mt,mt),mt.lastFocus=Et.activeElement}})():(()=>{if(mt===Ot)mt.lastFocus=void 0;else{const Bn=(0,ge.g)(mt);if(!Bn.contains(Ot))return;const mn=Bn.querySelector(".ion-overlay-wrapper");if(!mn)return;if(mn.contains(Ot)||Ot===Bn.querySelector("ion-backdrop"))mt.lastFocus=Ot;else{const Ln=mt.lastFocus;je(mn,mt),Ln===Et.activeElement&&ue(mn,mt),mt.lastFocus=Et.activeElement}}})())})(Et,kt)},!0),kt.addEventListener("ionBackButton",Et=>{const mt=lt(kt);mt?.backdropDismiss&&Et.detail.register(Ee.OVERLAY_BACK_BUTTON_PRIORITY,()=>mt.dismiss(void 0,on))}),kt.addEventListener("keydown",Et=>{if("Escape"===Et.key){const mt=lt(kt);mt?.backdropDismiss&&mt.dismiss(void 0,on)}}))},Re=(kt,Et,mt,Ot,fn)=>{const At=lt(kt,Ot,fn);return At?At.dismiss(Et,mt):Promise.reject("overlay does not exist")},it=(kt,Et)=>((kt,Et)=>(void 0===Et&&(Et="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(kt.querySelectorAll(Et)).filter(mt=>mt.overlayIndex>0)))(kt,Et).filter(mt=>!(kt=>kt.classList.contains("overlay-hidden"))(mt)),lt=(kt,Et,mt)=>{const Ot=it(kt,Et);return void 0===mt?Ot[Ot.length-1]:Ot.find(fn=>fn.id===mt)},Ut=(kt=!1)=>{const mt=Se(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");mt&&(kt?mt.setAttribute("aria-hidden","true"):mt.removeAttribute("aria-hidden"))},Vt=function(){var kt=(0,l.Z)(function*(Et,mt,Ot,fn,At){var Bn,mn;if(Et.presented)return;Ut(!0),Et.presented=!0,Et.willPresent.emit(),null===(Bn=Et.willPresentShorthand)||void 0===Bn||Bn.emit();const Ln=(0,_e.b)(Et),Hn=Et.enterAnimation?Et.enterAnimation:_e.c.get(mt,"ios"===Ln?Ot:fn);(yield ce(Et,Hn,Et.el,At))&&(Et.didPresent.emit(),null===(mn=Et.didPresentShorthand)||void 0===mn||mn.emit()),"ION-TOAST"!==Et.el.tagName&&Zt(Et.el),Et.keyboardClose&&(null===document.activeElement||!Et.el.contains(document.activeElement))&&Et.el.focus()});return function(mt,Ot,fn,At,Bn){return kt.apply(this,arguments)}}(),Zt=function(){var kt=(0,l.Z)(function*(Et){let mt=document.activeElement;if(!mt)return;const Ot=mt?.shadowRoot;Ot&&(mt=Ot.querySelector(He)||mt),yield Et.onDidDismiss(),mt.focus()});return function(mt){return kt.apply(this,arguments)}}(),ot=function(){var kt=(0,l.Z)(function*(Et,mt,Ot,fn,At,Bn,mn){var Ln,Hn;if(!Et.presented)return!1;void 0!==P.d&&1===it(P.d).length&&Ut(!1),Et.presented=!1;try{Et.el.style.setProperty("pointer-events","none"),Et.willDismiss.emit({data:mt,role:Ot}),null===(Ln=Et.willDismissShorthand)||void 0===Ln||Ln.emit({data:mt,role:Ot});const Mr=(0,_e.b)(Et),cr=Et.leaveAnimation?Et.leaveAnimation:_e.c.get(fn,"ios"===Mr?At:Bn);Ot!==qt&&(yield ce(Et,cr,Et.el,mn)),Et.didDismiss.emit({data:mt,role:Ot}),null===(Hn=Et.didDismissShorthand)||void 0===Hn||Hn.emit({data:mt,role:Ot}),ie.delete(Et),Et.el.classList.add("overlay-hidden"),Et.el.style.removeProperty("pointer-events"),void 0!==Et.el.lastFocus&&(Et.el.lastFocus=void 0)}catch(Mr){console.error(Mr)}return Et.el.remove(),!0});return function(mt,Ot,fn,At,Bn,mn,Ln){return kt.apply(this,arguments)}}(),Se=kt=>kt.querySelector("ion-app")||kt.body,ce=function(){var kt=(0,l.Z)(function*(Et,mt,Ot,fn){Ot.classList.remove("overlay-hidden");const Bn=mt(Et.el,fn);(!Et.animated||!_e.c.getBoolean("animated",!0))&&Bn.duration(0),Et.keyboardClose&&Bn.beforeAddWrite(()=>{const Ln=Ot.ownerDocument.activeElement;Ln?.matches("input,ion-input, ion-textarea")&&Ln.blur()});const mn=ie.get(Et)||[];return ie.set(Et,[...mn,Bn]),yield Bn.play(),!0});return function(mt,Ot,fn,At){return kt.apply(this,arguments)}}(),Me=(kt,Et)=>{let mt;const Ot=new Promise(fn=>mt=fn);return fe(kt,Et,fn=>{mt(fn.detail)}),Ot},fe=(kt,Et,mt)=>{const Ot=fn=>{(0,ge.b)(kt,Et,Ot),mt(fn)};(0,ge.a)(kt,Et,Ot)},rt=kt=>"cancel"===kt||kt===on,ut=kt=>kt(),$t=(kt,Et)=>{if("function"==typeof kt)return _e.c.get("_zoneGate",ut)(()=>{try{return kt(Et)}catch(Ot){throw Ot}})},on="backdrop",qt="gesture",Lt=39,In=kt=>{let mt,Et=!1;const Ot=(0,le.C)(),fn=(mn=!1)=>{if(mt&&!mn)return{delegate:mt,inline:Et};const{el:Ln,hasController:Hn,delegate:Mr}=kt;return Et=null!==Ln.parentNode&&!Hn,mt=Et?Mr||Ot:Mr,{inline:Et,delegate:mt}};return{attachViewToDom:function(){var mn=(0,l.Z)(function*(Ln){const{delegate:Hn}=fn(!0);if(Hn)return yield Hn.attachViewToDom(kt.el,Ln);const{hasController:Mr}=kt;if(Mr&&void 0!==Ln)throw new Error("framework delegate is missing");return null});return function(Hn){return mn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:mn}=fn();mn&&void 0!==kt.el&&mn.removeViewFromDom(kt.el.parentElement,kt.el)}}},Xn=()=>{let kt;const Et=()=>{kt&&(kt(),kt=void 0)};return{addClickListener:(Ot,fn)=>{Et();const At=void 0!==fn?document.getElementById(fn):null;At?kt=((mn,Ln)=>{const Hn=()=>{Ln.present()};return mn.addEventListener("click",Hn),()=>{mn.removeEventListener("click",Hn)}})(At,Ot):(0,ye.p)(`A trigger element with the ID "${fn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ot)},removeClickListener:Et}}},822:(an,tt,M)=>{"use strict";M.d(tt,{K:()=>Ee});var l=M(6814),P=M(451),_e=M(95),le=M(9212);let Ee=(()=>{class ge{static#e=this.\u0275fac=function(Ke){return new(Ke||ge)};static#t=this.\u0275mod=le.oAB({type:ge});static#n=this.\u0275inj=le.cJS({imports:[l.ez,P.Pc,_e.u5,_e.UX]})}return ge})()},7346:(an,tt,M)=>{"use strict";var l=M(6593),P=M(9212),_e=M(2692),le=M(7217),Ee=M(721),ge=M(3960),ye=M(1920),ve=M(9535),Ke=M(3182),ie=M(5861),oe=M(534),Oe=M(9058),ze=M(4537);const Pe="firebasestorage.googleapis.com";class Ue extends Oe.ZR{constructor(j,we,Ae=0){super(xe(j),`Firebase Storage: ${we} (${xe(j)})`),this.status_=Ae,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ue.prototype)}get status(){return this.status_}set status(j){this.status_=j}_codeEquals(j){return xe(j)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(j){this.customData.serverResponse=j,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Qe=function(V){return V.UNKNOWN="unknown",V.OBJECT_NOT_FOUND="object-not-found",V.BUCKET_NOT_FOUND="bucket-not-found",V.PROJECT_NOT_FOUND="project-not-found",V.QUOTA_EXCEEDED="quota-exceeded",V.UNAUTHENTICATED="unauthenticated",V.UNAUTHORIZED="unauthorized",V.UNAUTHORIZED_APP="unauthorized-app",V.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",V.INVALID_CHECKSUM="invalid-checksum",V.CANCELED="canceled",V.INVALID_EVENT_NAME="invalid-event-name",V.INVALID_URL="invalid-url",V.INVALID_DEFAULT_BUCKET="invalid-default-bucket",V.NO_DEFAULT_BUCKET="no-default-bucket",V.CANNOT_SLICE_BLOB="cannot-slice-blob",V.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",V.NO_DOWNLOAD_URL="no-download-url",V.INVALID_ARGUMENT="invalid-argument",V.INVALID_ARGUMENT_COUNT="invalid-argument-count",V.APP_DELETED="app-deleted",V.INVALID_ROOT_OPERATION="invalid-root-operation",V.INVALID_FORMAT="invalid-format",V.INTERNAL_ERROR="internal-error",V.UNSUPPORTED_ENVIRONMENT="unsupported-environment",V}(Qe||{});function xe(V){return"storage/"+V}function ce(V){return new Ue(Qe.INVALID_ARGUMENT,V)}function Me(){return new Ue(Qe.APP_DELETED,"The Firebase app was deleted.")}class $t{constructor(j,we){this.bucket=j,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const j=encodeURIComponent;return"/b/"+j(this.bucket)+"/o/"+j(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(j,we){let Ae;try{Ae=$t.makeFromUrl(j,we)}catch{return new $t(j,"")}if(""===Ae.path)return Ae;throw function lt(V){return new Ue(Qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+V+"'.")}(j)}static makeFromUrl(j,we){let Ae=null;const ht="([A-Za-z0-9.\\-_]+)",wn=new RegExp("^gs://"+ht+"(/(.*))?$","i");function sr(_i){_i.path_=decodeURIComponent(_i.path)}const Ii=we.replace(/[.]/g,"\\."),Ui=[{regex:wn,indices:{bucket:1,path:3},postModify:function Ct(_i){"/"===_i.path.charAt(_i.path.length-1)&&(_i.path_=_i.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ii}/v[A-Za-z0-9_]+/b/${ht}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:sr},{regex:new RegExp(`^https?://${we===Pe?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${ht}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:sr}];for(let _i=0;_i<Ui.length;_i++){const Os=Ui[_i],C=Os.regex.exec(j);if(C){let O=C[Os.indices.path];O||(O=""),Ae=new $t(C[Os.indices.bucket],O),Os.postModify(Ae);break}}if(null==Ae)throw function it(V){return new Ue(Qe.INVALID_URL,"Invalid URL '"+V+"'.")}(j);return Ae}}class on{constructor(j){this.promise_=Promise.reject(j)}getPromise(){return this.promise_}cancel(j=!1){}}function fn(V,j,we,Ae){if(Ae<j)throw ce(`Invalid value for '${V}'. Expected ${j} or greater.`);if(Ae>we)throw ce(`Invalid value for '${V}'. Expected ${we} or less.`)}var mn=function(V){return V[V.NO_ERROR=0]="NO_ERROR",V[V.NETWORK_ERROR=1]="NETWORK_ERROR",V[V.ABORT=2]="ABORT",V}(mn||{});class Hn{constructor(j,we,Ae,ht,Ct,un,wn,_n,sr,br,Ii,Rr=!0){this.url_=j,this.method_=we,this.headers_=Ae,this.body_=ht,this.successCodes_=Ct,this.additionalRetryCodes_=un,this.callback_=wn,this.errorCallback_=_n,this.timeout_=sr,this.progressCallback_=br,this.connectionFactory_=Ii,this.retry=Rr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((oi,Gr)=>{this.resolve_=oi,this.reject_=Gr,this.start_()})}start_(){const we=(Ae,ht)=>{const Ct=this.resolve_,un=this.reject_,wn=ht.connection;if(ht.wasSuccessCode)try{const _n=this.callback_(wn,wn.getResponse());!function In(V){return void 0!==V}(_n)?Ct():Ct(_n)}catch(_n){un(_n)}else if(null!==wn){const _n=function He(){return new Ue(Qe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();_n.serverResponse=wn.getErrorText(),un(this.errorCallback_?this.errorCallback_(wn,_n):_n)}else un(ht.canceled?this.appDelete_?Me():function nt(){return new Ue(Qe.CANCELED,"User canceled the upload/download.")}():function Re(){return new Ue(Qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?we(0,new Mr(!1,null,!0)):this.backoffId_=function qt(V,j,we){let Ae=1,ht=null,Ct=null,un=!1,wn=0;function _n(){return 2===wn}let sr=!1;function br(...yi){sr||(sr=!0,j.apply(null,yi))}function Ii(yi){ht=setTimeout(()=>{ht=null,V(oi,_n())},yi)}function Rr(){Ct&&clearTimeout(Ct)}function oi(yi,...io){if(sr)return void Rr();if(yi)return Rr(),void br.call(null,yi,...io);if(_n()||un)return Rr(),void br.call(null,yi,...io);let Ui;Ae<64&&(Ae*=2),1===wn?(wn=2,Ui=0):Ui=1e3*(Ae+Math.random()),Ii(Ui)}let Gr=!1;function Qi(yi){Gr||(Gr=!0,Rr(),!sr&&(null!==ht?(yi||(wn=2),clearTimeout(ht),Ii(0)):yi||(wn=1)))}return Ii(0),Ct=setTimeout(()=>{un=!0,Qi(!0)},we),Qi}((Ae,ht)=>{if(ht)return void Ae(!1,new Mr(!1,null,!0));const Ct=this.connectionFactory_();this.pendingConnection_=Ct;const un=wn=>{null!==this.progressCallback_&&this.progressCallback_(wn.loaded,wn.lengthComputable?wn.total:-1)};null!==this.progressCallback_&&Ct.addUploadProgressListener(un),Ct.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ct.removeUploadProgressListener(un),this.pendingConnection_=null;const wn=Ct.getErrorCode()===mn.NO_ERROR,_n=Ct.getStatus();if(!wn||function Ln(V,j){const we=V>=500&&V<600,ht=-1!==[408,429].indexOf(V),Ct=-1!==j.indexOf(V);return we||ht||Ct}(_n,this.additionalRetryCodes_)&&this.retry){const br=Ct.getErrorCode()===mn.ABORT;return void Ae(!1,new Mr(!1,null,br))}const sr=-1!==this.successCodes_.indexOf(_n);Ae(!0,new Mr(sr,Ct))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(j){this.canceled_=!0,this.appDelete_=j||!1,null!==this.backoffId_&&function Lt(V){V(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Mr{constructor(j,we,Ae){this.wasSuccessCode=j,this.connection=we,this.canceled=!!Ae}}class _t{constructor(j,we){this._service=j,this._location=we instanceof $t?we:$t.makeFromUrl(we,j.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(j,we){return new _t(j,we)}get root(){const j=new $t(this._location.bucket,"");return this._newRef(this._service,j)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Ir(V){const j=V.lastIndexOf("/",V.length-2);return-1===j?V:V.slice(j+1)}(this._location.path)}get storage(){return this._service}get parent(){const j=function Cn(V){if(0===V.length)return null;const j=V.lastIndexOf("/");return-1===j?"":V.slice(0,j)}(this._location.path);if(null===j)return null;const we=new $t(this._location.bucket,j);return new _t(this._service,we)}_throwIfRoot(j){if(""===this._location.path)throw function fe(V){return new Ue(Qe.INVALID_ROOT_OPERATION,"The operation '"+V+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(j)}}function ji(V,j){const we=j?.storageBucket;return null==we?null:$t.makeFromBucketSpec(we,V)}class So{constructor(j,we,Ae,ht,Ct){this.app=j,this._authProvider=we,this._appCheckProvider=Ae,this._url=ht,this._firebaseVersion=Ct,this._bucket=null,this._host=Pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ht?$t.makeFromBucketSpec(ht,this._host):ji(this._host,this.app.options)}get host(){return this._host}set host(j){this._host=j,this._bucket=null!=this._url?$t.makeFromBucketSpec(this._url,j):ji(j,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(j){fn("time",0,Number.POSITIVE_INFINITY,j),this._maxUploadRetryTime=j}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(j){fn("time",0,Number.POSITIVE_INFINITY,j),this._maxOperationRetryTime=j}_getAuthToken(){var j=this;return(0,ie.Z)(function*(){if(j._overrideAuthToken)return j._overrideAuthToken;const we=j._authProvider.getImmediate({optional:!0});if(we){const Ae=yield we.getToken();if(null!==Ae)return Ae.accessToken}return null})()}_getAppCheckToken(){var j=this;return(0,ie.Z)(function*(){const we=j._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(j=>j.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(j){return new _t(this,j)}_makeRequest(j,we,Ae,ht,Ct=!0){if(this._deleted)return new on(Me());{const un=function Vn(V,j,we,Ae,ht,Ct,un=!0){const wn=function Bn(V){const j=encodeURIComponent;let we="?";for(const Ae in V)V.hasOwnProperty(Ae)&&(we=we+(j(Ae)+"=")+j(V[Ae])+"&");return we=we.slice(0,-1),we}(V.urlParams),_n=V.url+wn,sr=Object.assign({},V.headers);return function Fn(V,j){j&&(V["X-Firebase-GMPID"]=j)}(sr,j),function cr(V,j){null!==j&&j.length>0&&(V.Authorization="Firebase "+j)}(sr,we),function Kn(V,j){V["X-Firebase-Storage-Version"]="webjs/"+(j??"AppManager")}(sr,Ct),function zr(V,j){null!==j&&(V["X-Firebase-AppCheck"]=j)}(sr,Ae),new Hn(_n,V.method,sr,V.body,V.successCodes,V.additionalRetryCodes,V.handler,V.errorHandler,V.timeout,V.progressCallback,ht,un)}(j,this._appId,Ae,ht,we,this._firebaseVersion,Ct);return this._requests.add(un),un.getPromise().then(()=>this._requests.delete(un),()=>this._requests.delete(un)),un}}makeRequestWithTokens(j,we){var Ae=this;return(0,ie.Z)(function*(){const[ht,Ct]=yield Promise.all([Ae._getAuthToken(),Ae._getAppCheckToken()]);return Ae._makeRequest(j,we,ht,Ct).getPromise()})()}}const mo="@firebase/storage",Wo="storage";function Uo(V=(0,oe.getApp)(),j){V=(0,Oe.m9)(V);const Ae=(0,oe._getProvider)(V,Wo).getImmediate({identifier:j}),ht=(0,Oe.P0)("storage");return ht&&function ea(V,j,we,Ae={}){!function _r(V,j,we,Ae={}){V.host=`${j}:${we}`,V._protocol="http";const{mockUserToken:ht}=Ae;ht&&(V._overrideAuthToken="string"==typeof ht?ht:(0,Oe.Sg)(ht,V.app.options.projectId))}(V,j,we,Ae)}(Ae,...ht),Ae}function ps(V,{instanceIdentifier:j}){const we=V.getProvider("app").getImmediate(),Ae=V.getProvider("auth-internal"),ht=V.getProvider("app-check-internal");return new So(we,Ae,ht,j,oe.SDK_VERSION)}!function gs(){(0,oe._registerComponent)(new ze.wA(Wo,ps,"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(mo,"0.12.0",""),(0,oe.registerVersion)(mo,"0.12.0","esm2017")}();class Zi{constructor(j){return j}}const Io="storage",Yo=new P.OlP("angularfire2.storage-instances");function lo(V){return(j,we)=>{const Ae=j.runOutsideAngular(()=>V(we));return new Zi(Ae)}}const no={provide:class bs{constructor(){return(0,ye.vb)(Io)}},deps:[[new P.FiY,Yo]]},To={provide:Zi,useFactory:function rs(V,j){const we=(0,ye.JM)(Io,V,j);return we&&new Zi(we)},deps:[[new P.FiY,Yo],Ee.Ot]};let ro=(()=>{class V{constructor(){(0,Ke.KN)("angularfire",ye.q4.full,"gcs")}static \u0275fac=function(Ae){return new(Ae||V)};static \u0275mod=P.oAB({type:V});static \u0275inj=P.cJS({providers:[To,no]})}return V})();function is(V,...j){return{ngModule:ro,providers:[{provide:Yo,useFactory:lo(V),multi:!0,deps:[P.R0b,P.zs3,ye.HU,Ee.z6,[new P.FiY,ve.dh],[new P.FiY,ye.Rf],...j]}]}}const nr=(0,ye.u3)(Uo,!0),Ms_firebaseConfig={apiKey:"AIzaSyC2VtO_6L0SbeDRLZninsrLxCQEf15mpcw",authDomain:"triatgames-fee93.firebaseapp.com",projectId:"triatgames-fee93",storageBucket:"triatgames-fee93.appspot.com",messagingSenderId:"23924959621",appId:"1:23924959621:web:cb2e1e30fb3c2972d0bcec",measurementId:"G-NDWVMD99HT"};var fr=M(5472),ln=M(451);let F=(()=>{class V{constructor(){}static#e=this.\u0275fac=function(Ae){return new(Ae||V)};static#t=this.\u0275cmp=P.Xpm({type:V,selectors:[["app-root"]],decls:2,vars:0,template:function(Ae,ht){1&Ae&&(P.TgZ(0,"ion-app"),P._UZ(1,"ion-router-outlet"),P.qZA())},dependencies:[ln.dr,ln.jP]})}return V})();var $=M(8407),x=M(7398),ne=M(8180);const qe=(0,x.U)(V=>!!V);let On=(()=>{class V{router;auth;constructor(we,Ae){this.router=we,this.auth=Ae}canActivate=(we,Ae)=>{const ht=we.data.authGuardPipe||(()=>qe);return(0,ve.EA)(this.auth).pipe((0,ne.q)(1),ht(we,Ae),(0,x.U)(Ct=>"boolean"==typeof Ct?Ct:Array.isArray(Ct)?this.router.createUrlTree(Ct):this.router.parseUrl(Ct)))};static \u0275fac=function(Ae){return new(Ae||V)(P.LFG(_e.F0),P.LFG(ve.gx))};static \u0275prov=P.Yz7({token:V,factory:V.\u0275fac,providedIn:"any"})}return V})();const gn=V=>({canActivate:[On],data:{authGuardPipe:V}}),qi=()=>{return V=["login"],(0,$.z)(qe,(0,x.U)(j=>j||V));var V},Mo=[{path:"home",loadChildren:()=>Promise.all([M.e(4555),M.e(9275),M.e(6260)]).then(M.bind(M,6260)).then(V=>V.HomePageModule),...gn(qi)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadChildren:()=>M.e(6488).then(M.bind(M,6488)).then(V=>V.LoginPageModule),...gn(()=>{return V=["home"],(0,$.z)(qe,(0,x.U)(j=>j&&V||!0));var V})},{path:"ahorcado",loadChildren:()=>Promise.all([M.e(4555),M.e(9275),M.e(8592),M.e(3061)]).then(M.bind(M,3061)).then(V=>V.AhorcadoPageModule),...gn(qi)},{path:"trivial",loadChildren:()=>Promise.all([M.e(4555),M.e(9275),M.e(8592),M.e(7416)]).then(M.bind(M,7416)).then(V=>V.TrivialPageModule),...gn(qi)},{path:"lista-test",loadChildren:()=>Promise.all([M.e(8592),M.e(1347)]).then(M.bind(M,1347)).then(V=>V.ListaTestPageModule),...gn(qi)},{path:"who-are",loadChildren:()=>Promise.all([M.e(4555),M.e(5857)]).then(M.bind(M,5857)).then(V=>V.WhoArePageModule),...gn(qi)},{path:"wordle",loadChildren:()=>Promise.all([M.e(4555),M.e(9275),M.e(8592),M.e(6287)]).then(M.bind(M,6287)).then(V=>V.WordlePageModule),...gn(qi)},{path:"edit-profile",loadChildren:()=>M.e(6950).then(M.bind(M,6950)).then(V=>V.EditProfilePageModule),...gn(qi)},{path:"puntuaciones",loadChildren:()=>Promise.all([M.e(4555),M.e(9275),M.e(8592),M.e(2051)]).then(M.bind(M,2051)).then(V=>V.PuntuacionesPageModule),...gn(qi)}];let uo=(()=>{class V{static#e=this.\u0275fac=function(Ae){return new(Ae||V)};static#t=this.\u0275mod=P.oAB({type:V});static#n=this.\u0275inj=P.cJS({imports:[_e.Bz.forRoot(Mo,{preloadingStrategy:_e.wm}),_e.Bz]})}return V})();var Li=M(822),xs=M(9862),ss=M(6814);let lr=(()=>{class V{static#e=this.\u0275fac=function(Ae){return new(Ae||V)};static#t=this.\u0275mod=P.oAB({type:V,bootstrap:[F]});static#n=this.\u0275inj=P.cJS({providers:[{provide:_e.wN,useClass:fr.r4},ss.uU],imports:[l.b2,ln.Pc.forRoot(),uo,xs.JF,le.hO.initializeApp(Ms_firebaseConfig),Li.K,(0,Ee.hX)(()=>(0,Ee.ZF)(Ms_firebaseConfig)),(0,ve.AR)(()=>(0,ve.v0)()),is(()=>nr()),(0,ge.Cm)(()=>(0,ge.ad)())]})}return V})();(0,P.G48)(),l.q6().bootstrapModule(lr).catch(V=>console.log(V))},5619:(an,tt,M)=>{"use strict";M.d(tt,{X:()=>P});var l=M(8645);class P extends l.x{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const Ee=super._subscribe(le);return!Ee.closed&&le.next(this._value),Ee}getValue(){const{hasError:le,thrownError:Ee,_value:ge}=this;if(le)throw Ee;return this._throwIfClosed(),ge}next(le){super.next(this._value=le)}}},5592:(an,tt,M)=>{"use strict";M.d(tt,{y:()=>ve});var l=M(305),P=M(7394),_e=M(4850),le=M(8407),Ee=M(2653),ge=M(4674),ye=M(1441);let ve=(()=>{class Oe{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const Fe=new Oe;return Fe.source=this,Fe.operator=Pe,Fe}subscribe(Pe,Fe,ct){const We=function oe(Oe){return Oe&&Oe instanceof l.Lv||function ie(Oe){return Oe&&(0,ge.m)(Oe.next)&&(0,ge.m)(Oe.error)&&(0,ge.m)(Oe.complete)}(Oe)&&(0,P.Nn)(Oe)}(Pe)?Pe:new l.Hp(Pe,Fe,ct);return(0,ye.x)(()=>{const{operator:Te,source:Ue}=this;We.add(Te?Te.call(We,Ue):Ue?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Fe){Pe.error(Fe)}}forEach(Pe,Fe){return new(Fe=Ke(Fe))((ct,We)=>{const Te=new l.Hp({next:Ue=>{try{Pe(Ue)}catch(Qe){We(Qe),Te.unsubscribe()}},error:We,complete:ct});this.subscribe(Te)})}_subscribe(Pe){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(Pe)}[_e.L](){return this}pipe(...Pe){return(0,le.U)(Pe)(this)}toPromise(Pe){return new(Pe=Ke(Pe))((Fe,ct)=>{let We;this.subscribe(Te=>We=Te,Te=>ct(Te),()=>Fe(We))})}}return Oe.create=ze=>new Oe(ze),Oe})();function Ke(Oe){var ze;return null!==(ze=Oe??Ee.config.Promise)&&void 0!==ze?ze:Promise}},8645:(an,tt,M)=>{"use strict";M.d(tt,{x:()=>ye});var l=M(5592),P=M(7394);const le=(0,M(2306).d)(Ke=>function(){Ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=M(9039),ge=M(1441);let ye=(()=>{class Ke extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Oe=new ve(this,this);return Oe.operator=oe,Oe}_throwIfClosed(){if(this.closed)throw new le}next(oe){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(oe)}})}error(oe){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(oe)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Oe,isStopped:ze,observers:Pe}=this;return Oe||ze?P.Lc:(this.currentObservers=null,Pe.push(oe),new P.w0(()=>{this.currentObservers=null,(0,Ee.P)(Pe,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Oe,thrownError:ze,isStopped:Pe}=this;Oe?oe.error(ze):Pe&&oe.complete()}asObservable(){const oe=new l.y;return oe.source=this,oe}}return Ke.create=(ie,oe)=>new ve(ie,oe),Ke})();class ve extends ye{constructor(ie,oe){super(),this.destination=ie,this.source=oe}next(ie){var oe,Oe;null===(Oe=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Oe||Oe.call(oe,ie)}error(ie){var oe,Oe;null===(Oe=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Oe||Oe.call(oe,ie)}complete(){var ie,oe;null===(oe=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===oe||oe.call(ie)}_subscribe(ie){var oe,Oe;return null!==(Oe=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(ie))&&void 0!==Oe?Oe:P.Lc}}},305:(an,tt,M)=>{"use strict";M.d(tt,{Hp:()=>ct,Lv:()=>Oe});var l=M(4674),P=M(7394),_e=M(2653),le=M(3894),Ee=M(2420);const ge=Ke("C",void 0,void 0);function Ke(xe,He,je){return{kind:xe,value:He,error:je}}var ie=M(7599),oe=M(1441);class Oe extends P.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,P.Nn)(He)&&He.add(this)):this.destination=Qe}static create(He,je,Ie){return new ct(He,je,Ie)}next(He){this.isStopped?Ue(function ve(xe){return Ke("N",xe,void 0)}(He),this):this._next(He)}error(He){this.isStopped?Ue(function ye(xe){return Ke("E",void 0,xe)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?Ue(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Pe(xe,He){return ze.call(xe,He)}class Fe{constructor(He){this.partialObserver=He}next(He){const{partialObserver:je}=this;if(je.next)try{je.next(He)}catch(Ie){We(Ie)}}error(He){const{partialObserver:je}=this;if(je.error)try{je.error(He)}catch(Ie){We(Ie)}else We(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(je){We(je)}}}class ct extends Oe{constructor(He,je,Ie){let ue;if(super(),(0,l.m)(He)||!He)ue={next:He??void 0,error:je??void 0,complete:Ie??void 0};else{let W;this&&_e.config.useDeprecatedNextContext?(W=Object.create(He),W.unsubscribe=()=>this.unsubscribe(),ue={next:He.next&&Pe(He.next,W),error:He.error&&Pe(He.error,W),complete:He.complete&&Pe(He.complete,W)}):ue=He}this.destination=new Fe(ue)}}function We(xe){_e.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(xe):(0,le.h)(xe)}function Ue(xe,He){const{onStoppedNotification:je}=_e.config;je&&ie.z.setTimeout(()=>je(xe,He))}const Qe={closed:!0,next:Ee.Z,error:function Te(xe){throw xe},complete:Ee.Z}},7394:(an,tt,M)=>{"use strict";M.d(tt,{Lc:()=>ge,w0:()=>Ee,Nn:()=>ye});var l=M(4674);const _e=(0,M(2306).d)(Ke=>function(oe){Ke(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Oe,ze)=>`${ze+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var le=M(9039);class Ee{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Pe of oe)Pe.remove(this);else oe.remove(this);const{initialTeardown:Oe}=this;if((0,l.m)(Oe))try{Oe()}catch(Pe){ie=Pe instanceof _e?Pe.errors:[Pe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Pe of ze)try{ve(Pe)}catch(Fe){ie=ie??[],Fe instanceof _e?ie=[...ie,...Fe.errors]:ie.push(Fe)}}if(ie)throw new _e(ie)}}add(ie){var oe;if(ie&&ie!==this)if(this.closed)ve(ie);else{if(ie instanceof Ee){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(ie)}}_hasParent(ie){const{_parentage:oe}=this;return oe===ie||Array.isArray(oe)&&oe.includes(ie)}_addParent(ie){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(ie),oe):oe?[oe,ie]:ie}_removeParent(ie){const{_parentage:oe}=this;oe===ie?this._parentage=null:Array.isArray(oe)&&(0,le.P)(oe,ie)}remove(ie){const{_finalizers:oe}=this;oe&&(0,le.P)(oe,ie),ie instanceof Ee&&ie._removeParent(this)}}Ee.EMPTY=(()=>{const Ke=new Ee;return Ke.closed=!0,Ke})();const ge=Ee.EMPTY;function ye(Ke){return Ke instanceof Ee||Ke&&"closed"in Ke&&(0,l.m)(Ke.remove)&&(0,l.m)(Ke.add)&&(0,l.m)(Ke.unsubscribe)}function ve(Ke){(0,l.m)(Ke)?Ke():Ke.unsubscribe()}},2653:(an,tt,M)=>{"use strict";M.d(tt,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(an,tt,M)=>{"use strict";M.d(tt,{a:()=>ie});var l=M(5592),P=M(7453),_e=M(2459),le=M(2737),Ee=M(7400),ge=M(4564),ye=M(2714),ve=M(8251),Ke=M(7103);function ie(...ze){const Pe=(0,ge.yG)(ze),Fe=(0,ge.jO)(ze),{args:ct,keys:We}=(0,P.D)(ze);if(0===ct.length)return(0,_e.D)([],Pe);const Te=new l.y(function oe(ze,Pe,Fe=le.y){return ct=>{Oe(Pe,()=>{const{length:We}=ze,Te=new Array(We);let Ue=We,Qe=We;for(let xe=0;xe<We;xe++)Oe(Pe,()=>{const He=(0,_e.D)(ze[xe],Pe);let je=!1;He.subscribe((0,ve.x)(ct,Ie=>{Te[xe]=Ie,je||(je=!0,Qe--),Qe||ct.next(Fe(Te.slice()))},()=>{--Ue||ct.complete()}))},ct)},ct)}}(ct,Pe,We?Ue=>(0,ye.n)(We,Ue):le.y));return Fe?Te.pipe((0,Ee.Z)(Fe)):Te}function Oe(ze,Pe,Fe){ze?(0,Ke.f)(Fe,ze,Pe):Pe()}},5211:(an,tt,M)=>{"use strict";M.d(tt,{z:()=>Ee});var l=M(7537),_e=M(4564),le=M(2459);function Ee(...ge){return function P(){return(0,l.J)(1)}()((0,le.D)(ge,(0,_e.yG)(ge)))}},6232:(an,tt,M)=>{"use strict";M.d(tt,{E:()=>P});const P=new(M(5592).y)(Ee=>Ee.complete())},2459:(an,tt,M)=>{"use strict";M.d(tt,{D:()=>He});var l=M(4829),P=M(3093),_e=M(5137),ge=M(5592),ve=M(4971),Ke=M(4674),ie=M(7103);function Oe(je,Ie){if(!je)throw new Error("Iterable cannot be null");return new ge.y(ue=>{(0,ie.f)(ue,Ie,()=>{const W=je[Symbol.asyncIterator]();(0,ie.f)(ue,Ie,()=>{W.next().then(ke=>{ke.done?ue.complete():ue.next(ke.value)})},0,!0)})})}var ze=M(8382),Pe=M(4026),Fe=M(4266),ct=M(3664),We=M(5726),Te=M(9853),Ue=M(541);function He(je,Ie){return Ie?function xe(je,Ie){if(null!=je){if((0,ze.c)(je))return function le(je,Ie){return(0,l.Xf)(je).pipe((0,_e.R)(Ie),(0,P.Q)(Ie))}(je,Ie);if((0,Fe.z)(je))return function ye(je,Ie){return new ge.y(ue=>{let W=0;return Ie.schedule(function(){W===je.length?ue.complete():(ue.next(je[W++]),ue.closed||this.schedule())})})}(je,Ie);if((0,Pe.t)(je))return function Ee(je,Ie){return(0,l.Xf)(je).pipe((0,_e.R)(Ie),(0,P.Q)(Ie))}(je,Ie);if((0,We.D)(je))return Oe(je,Ie);if((0,ct.T)(je))return function oe(je,Ie){return new ge.y(ue=>{let W;return(0,ie.f)(ue,Ie,()=>{W=je[ve.h](),(0,ie.f)(ue,Ie,()=>{let ke,Re;try{({value:ke,done:Re}=W.next())}catch(nt){return void ue.error(nt)}Re?ue.complete():ue.next(ke)},0,!0)}),()=>(0,Ke.m)(W?.return)&&W.return()})}(je,Ie);if((0,Ue.L)(je))return function Qe(je,Ie){return Oe((0,Ue.Q)(je),Ie)}(je,Ie)}throw(0,Te.z)(je)}(je,Ie):(0,l.Xf)(je)}},2438:(an,tt,M)=>{"use strict";M.d(tt,{R:()=>ie});var l=M(4829),P=M(5592),_e=M(1631),le=M(4266),Ee=M(4674),ge=M(7400);const ye=["addListener","removeListener"],ve=["addEventListener","removeEventListener"],Ke=["on","off"];function ie(Fe,ct,We,Te){if((0,Ee.m)(We)&&(Te=We,We=void 0),Te)return ie(Fe,ct,We).pipe((0,ge.Z)(Te));const[Ue,Qe]=function Pe(Fe){return(0,Ee.m)(Fe.addEventListener)&&(0,Ee.m)(Fe.removeEventListener)}(Fe)?ve.map(xe=>He=>Fe[xe](ct,He,We)):function Oe(Fe){return(0,Ee.m)(Fe.addListener)&&(0,Ee.m)(Fe.removeListener)}(Fe)?ye.map(oe(Fe,ct)):function ze(Fe){return(0,Ee.m)(Fe.on)&&(0,Ee.m)(Fe.off)}(Fe)?Ke.map(oe(Fe,ct)):[];if(!Ue&&(0,le.z)(Fe))return(0,_e.z)(xe=>ie(xe,ct,We))((0,l.Xf)(Fe));if(!Ue)throw new TypeError("Invalid event target");return new P.y(xe=>{const He=(...je)=>xe.next(1<je.length?je:je[0]);return Ue(He),()=>Qe(He)})}function oe(Fe,ct){return We=>Te=>Fe[We](ct,Te)}},4829:(an,tt,M)=>{"use strict";M.d(tt,{Xf:()=>ze});var l=M(7582),P=M(4266),_e=M(4026),le=M(5592),Ee=M(8382),ge=M(5726),ye=M(9853),ve=M(3664),Ke=M(541),ie=M(4674),oe=M(3894),Oe=M(4850);function ze(xe){if(xe instanceof le.y)return xe;if(null!=xe){if((0,Ee.c)(xe))return function Pe(xe){return new le.y(He=>{const je=xe[Oe.L]();if((0,ie.m)(je.subscribe))return je.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,P.z)(xe))return function Fe(xe){return new le.y(He=>{for(let je=0;je<xe.length&&!He.closed;je++)He.next(xe[je]);He.complete()})}(xe);if((0,_e.t)(xe))return function ct(xe){return new le.y(He=>{xe.then(je=>{He.closed||(He.next(je),He.complete())},je=>He.error(je)).then(null,oe.h)})}(xe);if((0,ge.D)(xe))return Te(xe);if((0,ve.T)(xe))return function We(xe){return new le.y(He=>{for(const je of xe)if(He.next(je),He.closed)return;He.complete()})}(xe);if((0,Ke.L)(xe))return function Ue(xe){return Te((0,Ke.Q)(xe))}(xe)}throw(0,ye.z)(xe)}function Te(xe){return new le.y(He=>{(function Qe(xe,He){var je,Ie,ue,W;return(0,l.mG)(this,void 0,void 0,function*(){try{for(je=(0,l.KL)(xe);!(Ie=yield je.next()).done;)if(He.next(Ie.value),He.closed)return}catch(ke){ue={error:ke}}finally{try{Ie&&!Ie.done&&(W=je.return)&&(yield W.call(je))}finally{if(ue)throw ue.error}}He.complete()})})(xe,He).catch(je=>He.error(je))})}},2096:(an,tt,M)=>{"use strict";M.d(tt,{of:()=>_e});var l=M(4564),P=M(2459);function _e(...le){const Ee=(0,l.yG)(le);return(0,P.D)(le,Ee)}},8251:(an,tt,M)=>{"use strict";M.d(tt,{x:()=>P});var l=M(305);function P(le,Ee,ge,ye,ve){return new _e(le,Ee,ge,ye,ve)}class _e extends l.Lv{constructor(Ee,ge,ye,ve,Ke,ie){super(Ee),this.onFinalize=Ke,this.shouldUnsubscribe=ie,this._next=ge?function(oe){try{ge(oe)}catch(Oe){Ee.error(Oe)}}:super._next,this._error=ve?function(oe){try{ve(oe)}catch(Oe){Ee.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(oe){Ee.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},6328:(an,tt,M)=>{"use strict";M.d(tt,{b:()=>_e});var l=M(1631),P=M(4674);function _e(le,Ee){return(0,P.m)(Ee)?(0,l.z)(le,Ee,1):(0,l.z)(le,1)}},3572:(an,tt,M)=>{"use strict";M.d(tt,{d:()=>_e});var l=M(9360),P=M(8251);function _e(le){return(0,l.e)((Ee,ge)=>{let ye=!1;Ee.subscribe((0,P.x)(ge,ve=>{ye=!0,ge.next(ve)},()=>{ye||ge.next(le),ge.complete()}))})}},3997:(an,tt,M)=>{"use strict";M.d(tt,{x:()=>le});var l=M(2737),P=M(9360),_e=M(8251);function le(ge,ye=l.y){return ge=ge??Ee,(0,P.e)((ve,Ke)=>{let ie,oe=!0;ve.subscribe((0,_e.x)(Ke,Oe=>{const ze=ye(Oe);(oe||!ge(ie,ze))&&(oe=!1,ie=ze,Ke.next(Oe))}))})}function Ee(ge,ye){return ge===ye}},2181:(an,tt,M)=>{"use strict";M.d(tt,{h:()=>_e});var l=M(9360),P=M(8251);function _e(le,Ee){return(0,l.e)((ge,ye)=>{let ve=0;ge.subscribe((0,P.x)(ye,Ke=>le.call(Ee,Ke,ve++)&&ye.next(Ke)))})}},4716:(an,tt,M)=>{"use strict";M.d(tt,{x:()=>P});var l=M(9360);function P(_e){return(0,l.e)((le,Ee)=>{try{le.subscribe(Ee)}finally{Ee.add(_e)}})}},1374:(an,tt,M)=>{"use strict";M.d(tt,{P:()=>ye});var l=M(6973),P=M(2181),_e=M(8180),le=M(3572),Ee=M(3026),ge=M(2737);function ye(ve,Ke){const ie=arguments.length>=2;return oe=>oe.pipe(ve?(0,P.h)((Oe,ze)=>ve(Oe,ze,oe)):ge.y,(0,_e.q)(1),ie?(0,le.d)(Ke):(0,Ee.T)(()=>new l.K))}},7398:(an,tt,M)=>{"use strict";M.d(tt,{U:()=>_e});var l=M(9360),P=M(8251);function _e(le,Ee){return(0,l.e)((ge,ye)=>{let ve=0;ge.subscribe((0,P.x)(ye,Ke=>{ye.next(le.call(Ee,Ke,ve++))}))})}},7537:(an,tt,M)=>{"use strict";M.d(tt,{J:()=>_e});var l=M(1631),P=M(2737);function _e(le=1/0){return(0,l.z)(P.y,le)}},1631:(an,tt,M)=>{"use strict";M.d(tt,{z:()=>ve});var l=M(7398),P=M(4829),_e=M(9360),le=M(7103),Ee=M(8251),ye=M(4674);function ve(Ke,ie,oe=1/0){return(0,ye.m)(ie)?ve((Oe,ze)=>(0,l.U)((Pe,Fe)=>ie(Oe,Pe,ze,Fe))((0,P.Xf)(Ke(Oe,ze))),oe):("number"==typeof ie&&(oe=ie),(0,_e.e)((Oe,ze)=>function ge(Ke,ie,oe,Oe,ze,Pe,Fe,ct){const We=[];let Te=0,Ue=0,Qe=!1;const xe=()=>{Qe&&!We.length&&!Te&&ie.complete()},He=Ie=>Te<Oe?je(Ie):We.push(Ie),je=Ie=>{Pe&&ie.next(Ie),Te++;let ue=!1;(0,P.Xf)(oe(Ie,Ue++)).subscribe((0,Ee.x)(ie,W=>{ze?.(W),Pe?He(W):ie.next(W)},()=>{ue=!0},void 0,()=>{if(ue)try{for(Te--;We.length&&Te<Oe;){const W=We.shift();Fe?(0,le.f)(ie,Fe,()=>je(W)):je(W)}xe()}catch(W){ie.error(W)}}))};return Ke.subscribe((0,Ee.x)(ie,He,()=>{Qe=!0,xe()})),()=>{ct?.()}}(Oe,ze,Ke,oe)))}},3093:(an,tt,M)=>{"use strict";M.d(tt,{Q:()=>le});var l=M(7103),P=M(9360),_e=M(8251);function le(Ee,ge=0){return(0,P.e)((ye,ve)=>{ye.subscribe((0,_e.x)(ve,Ke=>(0,l.f)(ve,Ee,()=>ve.next(Ke),ge),()=>(0,l.f)(ve,Ee,()=>ve.complete(),ge),Ke=>(0,l.f)(ve,Ee,()=>ve.error(Ke),ge)))})}},6699:(an,tt,M)=>{"use strict";M.d(tt,{R:()=>le});var l=M(9360),P=M(8251);function le(Ee,ge){return(0,l.e)(function _e(Ee,ge,ye,ve,Ke){return(ie,oe)=>{let Oe=ye,ze=ge,Pe=0;ie.subscribe((0,P.x)(oe,Fe=>{const ct=Pe++;ze=Oe?Ee(ze,Fe,ct):(Oe=!0,Fe),ve&&oe.next(ze)},Ke&&(()=>{Oe&&oe.next(ze),oe.complete()})))}}(Ee,ge,arguments.length>=2,!0))}},7921:(an,tt,M)=>{"use strict";M.d(tt,{O:()=>le});var l=M(5211),P=M(4564),_e=M(9360);function le(...Ee){const ge=(0,P.yG)(Ee);return(0,_e.e)((ye,ve)=>{(ge?(0,l.z)(Ee,ye,ge):(0,l.z)(Ee,ye)).subscribe(ve)})}},5137:(an,tt,M)=>{"use strict";M.d(tt,{R:()=>P});var l=M(9360);function P(_e,le=0){return(0,l.e)((Ee,ge)=>{ge.add(_e.schedule(()=>Ee.subscribe(ge),le))})}},4664:(an,tt,M)=>{"use strict";M.d(tt,{w:()=>le});var l=M(4829),P=M(9360),_e=M(8251);function le(Ee,ge){return(0,P.e)((ye,ve)=>{let Ke=null,ie=0,oe=!1;const Oe=()=>oe&&!Ke&&ve.complete();ye.subscribe((0,_e.x)(ve,ze=>{Ke?.unsubscribe();let Pe=0;const Fe=ie++;(0,l.Xf)(Ee(ze,Fe)).subscribe(Ke=(0,_e.x)(ve,ct=>ve.next(ge?ge(ze,ct,Fe,Pe++):ct),()=>{Ke=null,Oe()}))},()=>{oe=!0,Oe()}))})}},8180:(an,tt,M)=>{"use strict";M.d(tt,{q:()=>le});var l=M(6232),P=M(9360),_e=M(8251);function le(Ee){return Ee<=0?()=>l.E:(0,P.e)((ge,ye)=>{let ve=0;ge.subscribe((0,_e.x)(ye,Ke=>{++ve<=Ee&&(ye.next(Ke),Ee<=ve&&ye.complete())}))})}},9397:(an,tt,M)=>{"use strict";M.d(tt,{b:()=>Ee});var l=M(4674),P=M(9360),_e=M(8251),le=M(2737);function Ee(ge,ye,ve){const Ke=(0,l.m)(ge)||ye||ve?{next:ge,error:ye,complete:ve}:ge;return Ke?(0,P.e)((ie,oe)=>{var Oe;null===(Oe=Ke.subscribe)||void 0===Oe||Oe.call(Ke);let ze=!0;ie.subscribe((0,_e.x)(oe,Pe=>{var Fe;null===(Fe=Ke.next)||void 0===Fe||Fe.call(Ke,Pe),oe.next(Pe)},()=>{var Pe;ze=!1,null===(Pe=Ke.complete)||void 0===Pe||Pe.call(Ke),oe.complete()},Pe=>{var Fe;ze=!1,null===(Fe=Ke.error)||void 0===Fe||Fe.call(Ke,Pe),oe.error(Pe)},()=>{var Pe,Fe;ze&&(null===(Pe=Ke.unsubscribe)||void 0===Pe||Pe.call(Ke)),null===(Fe=Ke.finalize)||void 0===Fe||Fe.call(Ke)}))}):le.y}},3026:(an,tt,M)=>{"use strict";M.d(tt,{T:()=>le});var l=M(6973),P=M(9360),_e=M(8251);function le(ge=Ee){return(0,P.e)((ye,ve)=>{let Ke=!1;ye.subscribe((0,_e.x)(ve,ie=>{Ke=!0,ve.next(ie)},()=>Ke?ve.complete():ve.error(ge())))})}function Ee(){return new l.K}},1954:(an,tt,M)=>{"use strict";M.d(tt,{o:()=>Ee});var l=M(7394);class P extends l.w0{constructor(ye,ve){super()}schedule(ye,ve=0){return this}}const _e={setInterval(ge,ye,...ve){const{delegate:Ke}=_e;return Ke?.setInterval?Ke.setInterval(ge,ye,...ve):setInterval(ge,ye,...ve)},clearInterval(ge){const{delegate:ye}=_e;return(ye?.clearInterval||clearInterval)(ge)},delegate:void 0};var le=M(9039);class Ee extends P{constructor(ye,ve){super(ye,ve),this.scheduler=ye,this.work=ve,this.pending=!1}schedule(ye,ve=0){var Ke;if(this.closed)return this;this.state=ye;const ie=this.id,oe=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(oe,ie,ve)),this.pending=!0,this.delay=ve,this.id=null!==(Ke=this.id)&&void 0!==Ke?Ke:this.requestAsyncId(oe,this.id,ve),this}requestAsyncId(ye,ve,Ke=0){return _e.setInterval(ye.flush.bind(ye,this),Ke)}recycleAsyncId(ye,ve,Ke=0){if(null!=Ke&&this.delay===Ke&&!1===this.pending)return ve;null!=ve&&_e.clearInterval(ve)}execute(ye,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ke=this._execute(ye,ve);if(Ke)return Ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,ve){let ie,Ke=!1;try{this.work(ye)}catch(oe){Ke=!0,ie=oe||new Error("Scheduled action threw falsy error")}if(Ke)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:ye,scheduler:ve}=this,{actions:Ke}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(Ke,this),null!=ye&&(this.id=this.recycleAsyncId(ve,ye,null)),this.delay=null,super.unsubscribe()}}}},2631:(an,tt,M)=>{"use strict";M.d(tt,{v:()=>_e});var l=M(4552);class P{constructor(Ee,ge=P.now){this.schedulerActionCtor=Ee,this.now=ge}schedule(Ee,ge=0,ye){return new this.schedulerActionCtor(this,Ee).schedule(ye,ge)}}P.now=l.l.now;class _e extends P{constructor(Ee,ge=P.now){super(Ee,ge),this.actions=[],this._active=!1}flush(Ee){const{actions:ge}=this;if(this._active)return void ge.push(Ee);let ye;this._active=!0;do{if(ye=Ee.execute(Ee.state,Ee.delay))break}while(Ee=ge.shift());if(this._active=!1,ye){for(;Ee=ge.shift();)Ee.unsubscribe();throw ye}}}},6321:(an,tt,M)=>{"use strict";M.d(tt,{z:()=>_e});var l=M(1954);const _e=new(M(2631).v)(l.o)},4552:(an,tt,M)=>{"use strict";M.d(tt,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(an,tt,M)=>{"use strict";M.d(tt,{z:()=>l});const l={setTimeout(P,_e,...le){const{delegate:Ee}=l;return Ee?.setTimeout?Ee.setTimeout(P,_e,...le):setTimeout(P,_e,...le)},clearTimeout(P){const{delegate:_e}=l;return(_e?.clearTimeout||clearTimeout)(P)},delegate:void 0}},4971:(an,tt,M)=>{"use strict";M.d(tt,{h:()=>P});const P=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(an,tt,M)=>{"use strict";M.d(tt,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(an,tt,M)=>{"use strict";M.d(tt,{K:()=>P});const P=(0,M(2306).d)(_e=>function(){_e(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(an,tt,M)=>{"use strict";M.d(tt,{_6:()=>ge,jO:()=>le,yG:()=>Ee});var l=M(4674);function _e(ye){return ye[ye.length-1]}function le(ye){return(0,l.m)(_e(ye))?ye.pop():void 0}function Ee(ye){return function P(ye){return ye&&(0,l.m)(ye.schedule)}(_e(ye))?ye.pop():void 0}function ge(ye,ve){return"number"==typeof _e(ye)?ye.pop():ve}},7453:(an,tt,M)=>{"use strict";M.d(tt,{D:()=>Ee});const{isArray:l}=Array,{getPrototypeOf:P,prototype:_e,keys:le}=Object;function Ee(ye){if(1===ye.length){const ve=ye[0];if(l(ve))return{args:ve,keys:null};if(function ge(ye){return ye&&"object"==typeof ye&&P(ye)===_e}(ve)){const Ke=le(ve);return{args:Ke.map(ie=>ve[ie]),keys:Ke}}}return{args:ye,keys:null}}},9039:(an,tt,M)=>{"use strict";function l(P,_e){if(P){const le=P.indexOf(_e);0<=le&&P.splice(le,1)}}M.d(tt,{P:()=>l})},2306:(an,tt,M)=>{"use strict";function l(P){const le=P(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}M.d(tt,{d:()=>l})},2714:(an,tt,M)=>{"use strict";function l(P,_e){return P.reduce((le,Ee,ge)=>(le[Ee]=_e[ge],le),{})}M.d(tt,{n:()=>l})},1441:(an,tt,M)=>{"use strict";M.d(tt,{O:()=>le,x:()=>_e});var l=M(2653);let P=null;function _e(Ee){if(l.config.useDeprecatedSynchronousErrorHandling){const ge=!P;if(ge&&(P={errorThrown:!1,error:null}),Ee(),ge){const{errorThrown:ye,error:ve}=P;if(P=null,ye)throw ve}}else Ee()}function le(Ee){l.config.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=Ee)}},7103:(an,tt,M)=>{"use strict";function l(P,_e,le,Ee=0,ge=!1){const ye=_e.schedule(function(){le(),ge?P.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(P.add(ye),!ge)return ye}M.d(tt,{f:()=>l})},2737:(an,tt,M)=>{"use strict";function l(P){return P}M.d(tt,{y:()=>l})},4266:(an,tt,M)=>{"use strict";M.d(tt,{z:()=>l});const l=P=>P&&"number"==typeof P.length&&"function"!=typeof P},5726:(an,tt,M)=>{"use strict";M.d(tt,{D:()=>P});var l=M(4674);function P(_e){return Symbol.asyncIterator&&(0,l.m)(_e?.[Symbol.asyncIterator])}},4674:(an,tt,M)=>{"use strict";function l(P){return"function"==typeof P}M.d(tt,{m:()=>l})},8382:(an,tt,M)=>{"use strict";M.d(tt,{c:()=>_e});var l=M(4850),P=M(4674);function _e(le){return(0,P.m)(le[l.L])}},3664:(an,tt,M)=>{"use strict";M.d(tt,{T:()=>_e});var l=M(4971),P=M(4674);function _e(le){return(0,P.m)(le?.[l.h])}},4026:(an,tt,M)=>{"use strict";M.d(tt,{t:()=>P});var l=M(4674);function P(_e){return(0,l.m)(_e?.then)}},541:(an,tt,M)=>{"use strict";M.d(tt,{L:()=>le,Q:()=>_e});var l=M(7582),P=M(4674);function _e(Ee){return(0,l.FC)(this,arguments,function*(){const ye=Ee.getReader();try{for(;;){const{value:ve,done:Ke}=yield(0,l.qq)(ye.read());if(Ke)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ve)}}finally{ye.releaseLock()}})}function le(Ee){return(0,P.m)(Ee?.getReader)}},9360:(an,tt,M)=>{"use strict";M.d(tt,{A:()=>P,e:()=>_e});var l=M(4674);function P(le){return(0,l.m)(le?.lift)}function _e(le){return Ee=>{if(P(Ee))return Ee.lift(function(ge){try{return le(ge,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(an,tt,M)=>{"use strict";M.d(tt,{Z:()=>le});var l=M(7398);const{isArray:P}=Array;function le(Ee){return(0,l.U)(ge=>function _e(Ee,ge){return P(ge)?Ee(...ge):Ee(ge)}(Ee,ge))}},2420:(an,tt,M)=>{"use strict";function l(){}M.d(tt,{Z:()=>l})},8407:(an,tt,M)=>{"use strict";M.d(tt,{U:()=>_e,z:()=>P});var l=M(2737);function P(...le){return _e(le)}function _e(le){return 0===le.length?l.y:1===le.length?le[0]:function(ge){return le.reduce((ye,ve)=>ve(ye),ge)}}},3894:(an,tt,M)=>{"use strict";M.d(tt,{h:()=>_e});var l=M(2653),P=M(7599);function _e(le){P.z.setTimeout(()=>{const{onUnhandledError:Ee}=l.config;if(!Ee)throw le;Ee(le)})}},9853:(an,tt,M)=>{"use strict";function l(P){return new TypeError(`You provided ${null!==P&&"object"==typeof P?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(tt,{z:()=>l})},863:(an,tt,M)=>{var l={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,5248,433],"./ion-datetime_3.entry.js":[7059,5248,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function P(_e){if(!M.o(l,_e))return Promise.resolve().then(()=>{var ge=new Error("Cannot find module '"+_e+"'");throw ge.code="MODULE_NOT_FOUND",ge});var le=l[_e],Ee=le[0];return Promise.all(le.slice(1).map(M.e)).then(()=>M(Ee))}P.keys=()=>Object.keys(l),P.id=863,an.exports=P},6814:(an,tt,M)=>{"use strict";M.d(tt,{Do:()=>ct,EM:()=>qo,HT:()=>le,JF:()=>Zi,K0:()=>ge,Mx:()=>Be,O5:()=>U,PM:()=>ws,S$:()=>ze,V_:()=>ve,Ye:()=>We,b0:()=>Fe,bD:()=>mi,ez:()=>to,mk:()=>jt,q:()=>_e,sg:()=>Rn,tP:()=>dt,uU:()=>Xe,w_:()=>Ee});var l=M(9212);let P=null;function _e(){return P}function le(C){P||(P=C)}class Ee{}const ge=new l.OlP("DocumentToken");let ye=(()=>{class C{historyGo(O){throw new Error("Not implemented")}static#e=this.\u0275fac=function(z){return new(z||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:()=>(0,l.f3M)(Ke),providedIn:"platform"})}return C})();const ve=new l.OlP("Location Initialized");let Ke=(()=>{class C extends ye{constructor(){super(),this._doc=(0,l.f3M)(ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _e().getBaseHref(this._doc)}onPopState(O){const z=_e().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",O,!1),()=>z.removeEventListener("popstate",O)}onHashChange(O){const z=_e().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",O,!1),()=>z.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,z,Le){this._history.pushState(O,z,Le)}replaceState(O,z,Le){this._history.replaceState(O,z,Le)}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}static#e=this.\u0275fac=function(z){return new(z||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:()=>new C,providedIn:"platform"})}return C})();function ie(C,K){if(0==C.length)return K;if(0==K.length)return C;let O=0;return C.endsWith("/")&&O++,K.startsWith("/")&&O++,2==O?C+K.substring(1):1==O?C+K:C+"/"+K}function oe(C){const K=C.match(/#|\?|$/),O=K&&K.index||C.length;return C.slice(0,O-("/"===C[O-1]?1:0))+C.slice(O)}function Oe(C){return C&&"?"!==C[0]?"?"+C:C}let ze=(()=>{class C{historyGo(O){throw new Error("Not implemented")}static#e=this.\u0275fac=function(z){return new(z||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:()=>(0,l.f3M)(Fe),providedIn:"root"})}return C})();const Pe=new l.OlP("appBaseHref");let Fe=(()=>{class C extends ze{constructor(O,z){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=z??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return ie(this._baseHref,O)}path(O=!1){const z=this._platformLocation.pathname+Oe(this._platformLocation.search),Le=this._platformLocation.hash;return Le&&O?`${z}${Le}`:z}pushState(O,z,Le,bt){const Wt=this.prepareExternalUrl(Le+Oe(bt));this._platformLocation.pushState(O,z,Wt)}replaceState(O,z,Le,bt){const Wt=this.prepareExternalUrl(Le+Oe(bt));this._platformLocation.replaceState(O,z,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static#e=this.\u0275fac=function(z){return new(z||C)(l.LFG(ye),l.LFG(Pe,8))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),ct=(()=>{class C extends ze{constructor(O,z){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(O){const z=ie(this._baseHref,O);return z.length>0?"#"+z:z}pushState(O,z,Le,bt){let Wt=this.prepareExternalUrl(Le+Oe(bt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState(O,z,Wt)}replaceState(O,z,Le,bt){let Wt=this.prepareExternalUrl(Le+Oe(bt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState(O,z,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static#e=this.\u0275fac=function(z){return new(z||C)(l.LFG(ye),l.LFG(Pe,8))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})(),We=(()=>{class C{constructor(O){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const z=this._locationStrategy.getBaseHref();this._basePath=function xe(C){if(new RegExp("^(https?:)?//").test(C)){const[,O]=C.split(/\/\/[^\/]+/);return O}return C}(oe(Qe(z))),this._locationStrategy.onPopState(Le=>{this._subject.emit({url:this.path(!0),pop:!0,state:Le.state,type:Le.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,z=""){return this.path()==this.normalize(O+Oe(z))}normalize(O){return C.stripTrailingSlash(function Ue(C,K){if(!C||!K.startsWith(C))return K;const O=K.substring(C.length);return""===O||["/",";","?","#"].includes(O[0])?O:K}(this._basePath,Qe(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,z="",Le=null){this._locationStrategy.pushState(Le,"",O,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Oe(z)),Le)}replaceState(O,z="",Le=null){this._locationStrategy.replaceState(Le,"",O,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Oe(z)),Le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)})),()=>{const z=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",z){this._urlChangeListeners.forEach(Le=>Le(O,z))}subscribe(O,z,Le){return this._subject.subscribe({next:O,error:z,complete:Le})}static#e=this.normalizeQueryParams=Oe;static#t=this.joinWithSlash=ie;static#n=this.stripTrailingSlash=oe;static#r=this.\u0275fac=function(z){return new(z||C)(l.LFG(ze))};static#i=this.\u0275prov=l.Yz7({token:C,factory:()=>function Te(){return new We((0,l.LFG)(ze))}(),providedIn:"root"})}return C})();function Qe(C){return C.replace(/\/index.html$/,"")}var ue=function(C){return C[C.Format=0]="Format",C[C.Standalone=1]="Standalone",C}(ue||{}),W=function(C){return C[C.Narrow=0]="Narrow",C[C.Abbreviated=1]="Abbreviated",C[C.Wide=2]="Wide",C[C.Short=3]="Short",C}(W||{}),ke=function(C){return C[C.Short=0]="Short",C[C.Medium=1]="Medium",C[C.Long=2]="Long",C[C.Full=3]="Full",C}(ke||{}),Re=function(C){return C[C.Decimal=0]="Decimal",C[C.Group=1]="Group",C[C.List=2]="List",C[C.PercentSign=3]="PercentSign",C[C.PlusSign=4]="PlusSign",C[C.MinusSign=5]="MinusSign",C[C.Exponential=6]="Exponential",C[C.SuperscriptingExponent=7]="SuperscriptingExponent",C[C.PerMille=8]="PerMille",C[C.Infinity=9]="Infinity",C[C.NaN=10]="NaN",C[C.TimeSeparator=11]="TimeSeparator",C[C.CurrencyDecimal=12]="CurrencyDecimal",C[C.CurrencyGroup=13]="CurrencyGroup",C}(Re||{});function ce(C,K){return Ot((0,l.cg1)(C)[l.wAp.DateFormat],K)}function Me(C,K){return Ot((0,l.cg1)(C)[l.wAp.TimeFormat],K)}function fe(C,K){return Ot((0,l.cg1)(C)[l.wAp.DateTimeFormat],K)}function rt(C,K){const O=(0,l.cg1)(C),z=O[l.wAp.NumberSymbols][K];if(typeof z>"u"){if(K===Re.CurrencyDecimal)return O[l.wAp.NumberSymbols][Re.Decimal];if(K===Re.CurrencyGroup)return O[l.wAp.NumberSymbols][Re.Group]}return z}function Xn(C){if(!C[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ot(C,K){for(let O=K;O>-1;O--)if(typeof C[O]<"u")return C[O];throw new Error("Locale data API: locale data undefined")}function fn(C){const[K,O]=C.split(":");return{hours:+K,minutes:+O}}const Ln=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hn={},Mr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var cr=function(C){return C[C.Short=0]="Short",C[C.ShortGMT=1]="ShortGMT",C[C.Long=2]="Long",C[C.Extended=3]="Extended",C}(cr||{}),Kn=function(C){return C[C.FullYear=0]="FullYear",C[C.Month=1]="Month",C[C.Date=2]="Date",C[C.Hours=3]="Hours",C[C.Minutes=4]="Minutes",C[C.Seconds=5]="Seconds",C[C.FractionalSeconds=6]="FractionalSeconds",C[C.Day=7]="Day",C}(Kn||{}),Fn=function(C){return C[C.DayPeriods=0]="DayPeriods",C[C.Days=1]="Days",C[C.Months=2]="Months",C[C.Eras=3]="Eras",C}(Fn||{});function zr(C,K,O,z){let Le=function Y(C){if(Z(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[Le,bt=1,Wt=1]=C.split("-").map(jn=>+jn);return Vn(Le,bt-1,Wt)}const O=parseFloat(C);if(!isNaN(C-O))return new Date(O);let z;if(z=C.match(Ln))return function J(C){const K=new Date(0);let O=0,z=0;const Le=C[8]?K.setUTCFullYear:K.setFullYear,bt=C[8]?K.setUTCHours:K.setHours;C[9]&&(O=Number(C[9]+C[10]),z=Number(C[9]+C[11])),Le.call(K,Number(C[1]),Number(C[2])-1,Number(C[3]));const Wt=Number(C[4]||0)-O,jn=Number(C[5]||0)-z,Ti=Number(C[6]||0),Fr=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return bt.call(K,Wt,jn,Ti,Fr),K}(z)}const K=new Date(C);if(!Z(K))throw new Error(`Unable to convert "${C}" into a date`);return K}(C);K=$r(O,K)||K;let jn,Wt=[];for(;K;){if(jn=Mr.exec(K),!jn){Wt.push(K);break}{Wt=Wt.concat(jn.slice(1));const Kr=Wt.pop();if(!Kr)break;K=Kr}}let Ti=Le.getTimezoneOffset();z&&(Ti=Un(z,Ti),Le=function Ne(C,K,O){const z=O?-1:1,Le=C.getTimezoneOffset();return function Ir(C,K){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+K),C}(C,z*(Un(K,Le)-Le))}(Le,z,!0));let Fr="";return Wt.forEach(Kr=>{const Yn=function Cn(C){if(Jr[C])return Jr[C];let K;switch(C){case"G":case"GG":case"GGG":K=zt(Fn.Eras,W.Abbreviated);break;case"GGGG":K=zt(Fn.Eras,W.Wide);break;case"GGGGG":K=zt(Fn.Eras,W.Narrow);break;case"y":K=$n(Kn.FullYear,1,0,!1,!0);break;case"yy":K=$n(Kn.FullYear,2,0,!0,!0);break;case"yyy":K=$n(Kn.FullYear,3,0,!1,!0);break;case"yyyy":K=$n(Kn.FullYear,4,0,!1,!0);break;case"Y":K=Dr(1);break;case"YY":K=Dr(2,!0);break;case"YYY":K=Dr(3);break;case"YYYY":K=Dr(4);break;case"M":case"L":K=$n(Kn.Month,1,1);break;case"MM":case"LL":K=$n(Kn.Month,2,1);break;case"MMM":K=zt(Fn.Months,W.Abbreviated);break;case"MMMM":K=zt(Fn.Months,W.Wide);break;case"MMMMM":K=zt(Fn.Months,W.Narrow);break;case"LLL":K=zt(Fn.Months,W.Abbreviated,ue.Standalone);break;case"LLLL":K=zt(Fn.Months,W.Wide,ue.Standalone);break;case"LLLLL":K=zt(Fn.Months,W.Narrow,ue.Standalone);break;case"w":K=kr(1);break;case"ww":K=kr(2);break;case"W":K=kr(1,!0);break;case"d":K=$n(Kn.Date,1);break;case"dd":K=$n(Kn.Date,2);break;case"c":case"cc":K=$n(Kn.Day,1);break;case"ccc":K=zt(Fn.Days,W.Abbreviated,ue.Standalone);break;case"cccc":K=zt(Fn.Days,W.Wide,ue.Standalone);break;case"ccccc":K=zt(Fn.Days,W.Narrow,ue.Standalone);break;case"cccccc":K=zt(Fn.Days,W.Short,ue.Standalone);break;case"E":case"EE":case"EEE":K=zt(Fn.Days,W.Abbreviated);break;case"EEEE":K=zt(Fn.Days,W.Wide);break;case"EEEEE":K=zt(Fn.Days,W.Narrow);break;case"EEEEEE":K=zt(Fn.Days,W.Short);break;case"a":case"aa":case"aaa":K=zt(Fn.DayPeriods,W.Abbreviated);break;case"aaaa":K=zt(Fn.DayPeriods,W.Wide);break;case"aaaaa":K=zt(Fn.DayPeriods,W.Narrow);break;case"b":case"bb":case"bbb":K=zt(Fn.DayPeriods,W.Abbreviated,ue.Standalone,!0);break;case"bbbb":K=zt(Fn.DayPeriods,W.Wide,ue.Standalone,!0);break;case"bbbbb":K=zt(Fn.DayPeriods,W.Narrow,ue.Standalone,!0);break;case"B":case"BB":case"BBB":K=zt(Fn.DayPeriods,W.Abbreviated,ue.Format,!0);break;case"BBBB":K=zt(Fn.DayPeriods,W.Wide,ue.Format,!0);break;case"BBBBB":K=zt(Fn.DayPeriods,W.Narrow,ue.Format,!0);break;case"h":K=$n(Kn.Hours,1,-12);break;case"hh":K=$n(Kn.Hours,2,-12);break;case"H":K=$n(Kn.Hours,1);break;case"HH":K=$n(Kn.Hours,2);break;case"m":K=$n(Kn.Minutes,1);break;case"mm":K=$n(Kn.Minutes,2);break;case"s":K=$n(Kn.Seconds,1);break;case"ss":K=$n(Kn.Seconds,2);break;case"S":K=$n(Kn.FractionalSeconds,1);break;case"SS":K=$n(Kn.FractionalSeconds,2);break;case"SSS":K=$n(Kn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":K=ui(cr.Short);break;case"ZZZZZ":K=ui(cr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":K=ui(cr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":K=ui(cr.Long);break;default:return null}return Jr[C]=K,K}(Kr);Fr+=Yn?Yn(Le,O,Ti):"''"===Kr?"'":Kr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Fr}function Vn(C,K,O){const z=new Date(0);return z.setFullYear(C,K,O),z.setHours(0,0,0),z}function $r(C,K){const O=function it(C){return(0,l.cg1)(C)[l.wAp.LocaleId]}(C);if(Hn[O]=Hn[O]||{},Hn[O][K])return Hn[O][K];let z="";switch(K){case"shortDate":z=ce(C,ke.Short);break;case"mediumDate":z=ce(C,ke.Medium);break;case"longDate":z=ce(C,ke.Long);break;case"fullDate":z=ce(C,ke.Full);break;case"shortTime":z=Me(C,ke.Short);break;case"mediumTime":z=Me(C,ke.Medium);break;case"longTime":z=Me(C,ke.Long);break;case"fullTime":z=Me(C,ke.Full);break;case"short":const Le=$r(C,"shortTime"),bt=$r(C,"shortDate");z=Dn(fe(C,ke.Short),[Le,bt]);break;case"medium":const Wt=$r(C,"mediumTime"),jn=$r(C,"mediumDate");z=Dn(fe(C,ke.Medium),[Wt,jn]);break;case"long":const Ti=$r(C,"longTime"),Fr=$r(C,"longDate");z=Dn(fe(C,ke.Long),[Ti,Fr]);break;case"full":const Kr=$r(C,"fullTime"),Yn=$r(C,"fullDate");z=Dn(fe(C,ke.Full),[Kr,Yn])}return z&&(Hn[O][K]=z),z}function Dn(C,K){return K&&(C=C.replace(/\{([^}]+)}/g,function(O,z){return null!=K&&z in K?K[z]:O})),C}function mr(C,K,O="-",z,Le){let bt="";(C<0||Le&&C<=0)&&(Le?C=1-C:(C=-C,bt=O));let Wt=String(C);for(;Wt.length<K;)Wt="0"+Wt;return z&&(Wt=Wt.slice(Wt.length-K)),bt+Wt}function $n(C,K,O=0,z=!1,Le=!1){return function(bt,Wt){let jn=function Qr(C,K){switch(C){case Kn.FullYear:return K.getFullYear();case Kn.Month:return K.getMonth();case Kn.Date:return K.getDate();case Kn.Hours:return K.getHours();case Kn.Minutes:return K.getMinutes();case Kn.Seconds:return K.getSeconds();case Kn.FractionalSeconds:return K.getMilliseconds();case Kn.Day:return K.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,bt);if((O>0||jn>-O)&&(jn+=O),C===Kn.Hours)0===jn&&-12===O&&(jn=12);else if(C===Kn.FractionalSeconds)return function Ai(C,K){return mr(C,3).substring(0,K)}(jn,K);const Ti=rt(Wt,Re.MinusSign);return mr(jn,K,Ti,z,Le)}}function zt(C,K,O=ue.Format,z=!1){return function(Le,bt){return function wr(C,K,O,z,Le,bt){switch(O){case Fn.Months:return function Vt(C,K,O){const z=(0,l.cg1)(C),bt=Ot([z[l.wAp.MonthsFormat],z[l.wAp.MonthsStandalone]],K);return Ot(bt,O)}(K,Le,z)[C.getMonth()];case Fn.Days:return function Ut(C,K,O){const z=(0,l.cg1)(C),bt=Ot([z[l.wAp.DaysFormat],z[l.wAp.DaysStandalone]],K);return Ot(bt,O)}(K,Le,z)[C.getDay()];case Fn.DayPeriods:const Wt=C.getHours(),jn=C.getMinutes();if(bt){const Fr=function kt(C){const K=(0,l.cg1)(C);return Xn(K),(K[l.wAp.ExtraData][2]||[]).map(z=>"string"==typeof z?fn(z):[fn(z[0]),fn(z[1])])}(K),Kr=function Et(C,K,O){const z=(0,l.cg1)(C);Xn(z);const bt=Ot([z[l.wAp.ExtraData][0],z[l.wAp.ExtraData][1]],K)||[];return Ot(bt,O)||[]}(K,Le,z),Yn=Fr.findIndex(fi=>{if(Array.isArray(fi)){const[Zr,xi]=fi,vs=Wt>=Zr.hours&&jn>=Zr.minutes,Ht=Wt<xi.hours||Wt===xi.hours&&jn<xi.minutes;if(Zr.hours<xi.hours){if(vs&&Ht)return!0}else if(vs||Ht)return!0}else if(fi.hours===Wt&&fi.minutes===jn)return!0;return!1});if(-1!==Yn)return Kr[Yn]}return function lt(C,K,O){const z=(0,l.cg1)(C),bt=Ot([z[l.wAp.DayPeriodsFormat],z[l.wAp.DayPeriodsStandalone]],K);return Ot(bt,O)}(K,Le,z)[Wt<12?0:1];case Fn.Eras:return function Zt(C,K){return Ot((0,l.cg1)(C)[l.wAp.Eras],K)}(K,z)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${O}`)}}(Le,bt,C,K,O,z)}}function ui(C){return function(K,O,z){const Le=-1*z,bt=rt(O,Re.MinusSign),Wt=Le>0?Math.floor(Le/60):Math.ceil(Le/60);switch(C){case cr.Short:return(Le>=0?"+":"")+mr(Wt,2,bt)+mr(Math.abs(Le%60),2,bt);case cr.ShortGMT:return"GMT"+(Le>=0?"+":"")+mr(Wt,1,bt);case cr.Long:return"GMT"+(Le>=0?"+":"")+mr(Wt,2,bt)+":"+mr(Math.abs(Le%60),2,bt);case cr.Extended:return 0===z?"Z":(Le>=0?"+":"")+mr(Wt,2,bt)+":"+mr(Math.abs(Le%60),2,bt);default:throw new Error(`Unknown zone width "${C}"`)}}}const Yr=0,ur=4;function Nr(C){return Vn(C.getFullYear(),C.getMonth(),C.getDate()+(ur-C.getDay()))}function kr(C,K=!1){return function(O,z){let Le;if(K){const bt=new Date(O.getFullYear(),O.getMonth(),1).getDay()-1,Wt=O.getDate();Le=1+Math.floor((Wt+bt)/7)}else{const bt=Nr(O),Wt=function or(C){const K=Vn(C,Yr,1).getDay();return Vn(C,0,1+(K<=ur?ur:ur+7)-K)}(bt.getFullYear()),jn=bt.getTime()-Wt.getTime();Le=1+Math.round(jn/6048e5)}return mr(Le,C,rt(z,Re.MinusSign))}}function Dr(C,K=!1){return function(O,z){return mr(Nr(O).getFullYear(),C,rt(z,Re.MinusSign),K)}}const Jr={};function Un(C,K){C=C.replace(/:/g,"");const O=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(O)?K:O}function Z(C){return C instanceof Date&&!isNaN(C.valueOf())}function Be(C,K){K=encodeURIComponent(K);for(const O of C.split(";")){const z=O.indexOf("="),[Le,bt]=-1==z?[O,""]:[O.slice(0,z),O.slice(z+1)];if(Le.trim()===K)return decodeURIComponent(bt)}return null}const Ge=/\s+/,ft=[];let jt=(()=>{class C{constructor(O,z){this._ngEl=O,this._renderer=z,this.initialClasses=ft,this.stateMap=new Map}set klass(O){this.initialClasses=null!=O?O.trim().split(Ge):ft}set ngClass(O){this.rawClass="string"==typeof O?O.trim().split(Ge):O}ngDoCheck(){for(const z of this.initialClasses)this._updateState(z,!0);const O=this.rawClass;if(Array.isArray(O)||O instanceof Set)for(const z of O)this._updateState(z,!0);else if(null!=O)for(const z of Object.keys(O))this._updateState(z,!!O[z]);this._applyStateDiff()}_updateState(O,z){const Le=this.stateMap.get(O);void 0!==Le?(Le.enabled!==z&&(Le.changed=!0,Le.enabled=z),Le.touched=!0):this.stateMap.set(O,{enabled:z,changed:!0,touched:!0})}_applyStateDiff(){for(const O of this.stateMap){const z=O[0],Le=O[1];Le.changed?(this._toggleClass(z,Le.enabled),Le.changed=!1):Le.touched||(Le.enabled&&this._toggleClass(z,!1),this.stateMap.delete(z)),Le.touched=!1}}_toggleClass(O,z){(O=O.trim()).length>0&&O.split(Ge).forEach(Le=>{z?this._renderer.addClass(this._ngEl.nativeElement,Le):this._renderer.removeClass(this._ngEl.nativeElement,Le)})}static#e=this.\u0275fac=function(z){return new(z||C)(l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["","ngClass",""]],inputs:{klass:[l.lbL.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return C})();class Qt{constructor(K,O,z,Le){this.$implicit=K,this.ngForOf=O,this.index=z,this.count=Le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rn=(()=>{class C{set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}constructor(O,z,Le){this._viewContainer=O,this._template=z,this._differs=Le,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const z=this._viewContainer;O.forEachOperation((Le,bt,Wt)=>{if(null==Le.previousIndex)z.createEmbeddedView(this._template,new Qt(Le.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)z.remove(null===bt?void 0:bt);else if(null!==bt){const jn=z.get(bt);z.move(jn,Wt),pe(jn,Le)}});for(let Le=0,bt=z.length;Le<bt;Le++){const jn=z.get(Le).context;jn.index=Le,jn.count=bt,jn.ngForOf=this._ngForOf}O.forEachIdentityChange(Le=>{pe(z.get(Le.currentIndex),Le)})}static ngTemplateContextGuard(O,z){return!0}static#e=this.\u0275fac=function(z){return new(z||C)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return C})();function pe(C,K){C.context.$implicit=K.item}let U=(()=>{class C{constructor(O,z){this._viewContainer=O,this._context=new me,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){be("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){be("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,z){return!0}static#e=this.\u0275fac=function(z){return new(z||C)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return C})();class me{constructor(){this.$implicit=null,this.ngIf=null}}function be(C,K){if(K&&!K.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,l.AaK)(K)}'.`)}let dt=(()=>{class C{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(this._shouldRecreateView(O)){const z=this._viewContainerRef;if(this._viewRef&&z.remove(z.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Le=this._createContextForwardProxy();this._viewRef=z.createEmbeddedView(this.ngTemplateOutlet,Le,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(O){return!!O.ngTemplateOutlet||!!O.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(O,z,Le)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,z,Le),get:(O,z,Le)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,z,Le)}})}static#e=this.\u0275fac=function(z){return new(z||C)(l.Y36(l.s_b))};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]})}return C})();const S=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ae=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Xe=(()=>{class C{constructor(O,z,Le){this.locale=O,this.defaultTimezone=z,this.defaultOptions=Le}transform(O,z,Le,bt){if(null==O||""===O||O!=O)return null;try{return zr(O,z??this.defaultOptions?.dateFormat??"mediumDate",bt||this.locale,Le??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Wt){throw function Pt(C,K){return new l.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(z){return new(z||C)(l.Y36(l.soG,16),l.Y36(S,24),l.Y36(ae,24))};static#t=this.\u0275pipe=l.Yjl({name:"date",type:C,pure:!0,standalone:!0})}return C})(),to=(()=>{class C{static#e=this.\u0275fac=function(z){return new(z||C)};static#t=this.\u0275mod=l.oAB({type:C});static#n=this.\u0275inj=l.cJS({})}return C})();const mi="browser",Sr="server";function ws(C){return C===Sr}let qo=(()=>{class C{static#e=this.\u0275prov=(0,l.Yz7)({token:C,providedIn:"root",factory:()=>function Js(C){return C===mi}((0,l.f3M)(l.Lbi))?new Us((0,l.f3M)(ge),window):new gs})}return C})();class Us{constructor(K,O){this.document=K,this.window=O,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(K){this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){const O=function ps(C,K){const O=C.getElementById(K)||C.getElementsByName(K)[0];if(O)return O;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const z=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let Le=z.currentNode;for(;Le;){const bt=Le.shadowRoot;if(bt){const Wt=bt.getElementById(K)||bt.querySelector(`[name="${K}"]`);if(Wt)return Wt}Le=z.nextNode()}}return null}(this.document,K);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(K){this.window.history.scrollRestoration=K}scrollToElement(K){const O=K.getBoundingClientRect(),z=O.left+this.window.pageXOffset,Le=O.top+this.window.pageYOffset,bt=this.offset();this.window.scrollTo(z-bt[0],Le-bt[1])}}class gs{setOffset(K){}getScrollPosition(){return[0,0]}scrollToPosition(K){}scrollToAnchor(K){}setHistoryScrollRestoration(K){}}class Zi{}},9862:(an,tt,M)=>{"use strict";M.d(tt,{JF:()=>xn,eN:()=>Me}),M(5861);var P=M(9212),_e=M(2096),le=M(5592),Ee=M(2459),ge=M(6328),ye=M(2181),ve=M(7398),Ke=M(4716),ie=M(4664),oe=M(6814);class Oe{}class ze{}class Pe{constructor(Be){this.normalizedNames=new Map,this.lazyUpdate=null,Be?"string"==typeof Be?this.lazyInit=()=>{this.headers=new Map,Be.split("\n").forEach(Ge=>{const ft=Ge.indexOf(":");if(ft>0){const jt=Ge.slice(0,ft),Kt=jt.toLowerCase(),Gt=Ge.slice(ft+1).trim();this.maybeSetNormalizedName(jt,Kt),this.headers.has(Kt)?this.headers.get(Kt).push(Gt):this.headers.set(Kt,[Gt])}})}:typeof Headers<"u"&&Be instanceof Headers?(this.headers=new Map,Be.forEach((Ge,ft)=>{this.setHeaderEntries(ft,Ge)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Be).forEach(([Ge,ft])=>{this.setHeaderEntries(Ge,ft)})}:this.headers=new Map}has(Be){return this.init(),this.headers.has(Be.toLowerCase())}get(Be){this.init();const Ge=this.headers.get(Be.toLowerCase());return Ge&&Ge.length>0?Ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Be){return this.init(),this.headers.get(Be.toLowerCase())||null}append(Be,Ge){return this.clone({name:Be,value:Ge,op:"a"})}set(Be,Ge){return this.clone({name:Be,value:Ge,op:"s"})}delete(Be,Ge){return this.clone({name:Be,value:Ge,op:"d"})}maybeSetNormalizedName(Be,Ge){this.normalizedNames.has(Ge)||this.normalizedNames.set(Ge,Be)}init(){this.lazyInit&&(this.lazyInit instanceof Pe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Be=>this.applyUpdate(Be)),this.lazyUpdate=null))}copyFrom(Be){Be.init(),Array.from(Be.headers.keys()).forEach(Ge=>{this.headers.set(Ge,Be.headers.get(Ge)),this.normalizedNames.set(Ge,Be.normalizedNames.get(Ge))})}clone(Be){const Ge=new Pe;return Ge.lazyInit=this.lazyInit&&this.lazyInit instanceof Pe?this.lazyInit:this,Ge.lazyUpdate=(this.lazyUpdate||[]).concat([Be]),Ge}applyUpdate(Be){const Ge=Be.name.toLowerCase();switch(Be.op){case"a":case"s":let ft=Be.value;if("string"==typeof ft&&(ft=[ft]),0===ft.length)return;this.maybeSetNormalizedName(Be.name,Ge);const jt=("a"===Be.op?this.headers.get(Ge):void 0)||[];jt.push(...ft),this.headers.set(Ge,jt);break;case"d":const Kt=Be.value;if(Kt){let Gt=this.headers.get(Ge);if(!Gt)return;Gt=Gt.filter(Qt=>-1===Kt.indexOf(Qt)),0===Gt.length?(this.headers.delete(Ge),this.normalizedNames.delete(Ge)):this.headers.set(Ge,Gt)}else this.headers.delete(Ge),this.normalizedNames.delete(Ge)}}setHeaderEntries(Be,Ge){const ft=(Array.isArray(Ge)?Ge:[Ge]).map(Kt=>Kt.toString()),jt=Be.toLowerCase();this.headers.set(jt,ft),this.maybeSetNormalizedName(Be,jt)}forEach(Be){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ge=>Be(this.normalizedNames.get(Ge),this.headers.get(Ge)))}}class ct{encodeKey(Be){return Qe(Be)}encodeValue(Be){return Qe(Be)}decodeKey(Be){return decodeURIComponent(Be)}decodeValue(Be){return decodeURIComponent(Be)}}const Te=/%(\d[a-f0-9])/gi,Ue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qe(de){return encodeURIComponent(de).replace(Te,(Be,Ge)=>Ue[Ge]??Be)}function xe(de){return`${de}`}class He{constructor(Be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Be.encoder||new ct,Be.fromString){if(Be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function We(de,Be){const Ge=new Map;return de.length>0&&de.replace(/^\?/,"").split("&").forEach(jt=>{const Kt=jt.indexOf("="),[Gt,Qt]=-1==Kt?[Be.decodeKey(jt),""]:[Be.decodeKey(jt.slice(0,Kt)),Be.decodeValue(jt.slice(Kt+1))],Rn=Ge.get(Gt)||[];Rn.push(Qt),Ge.set(Gt,Rn)}),Ge}(Be.fromString,this.encoder)}else Be.fromObject?(this.map=new Map,Object.keys(Be.fromObject).forEach(Ge=>{const ft=Be.fromObject[Ge],jt=Array.isArray(ft)?ft.map(xe):[xe(ft)];this.map.set(Ge,jt)})):this.map=null}has(Be){return this.init(),this.map.has(Be)}get(Be){this.init();const Ge=this.map.get(Be);return Ge?Ge[0]:null}getAll(Be){return this.init(),this.map.get(Be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Be,Ge){return this.clone({param:Be,value:Ge,op:"a"})}appendAll(Be){const Ge=[];return Object.keys(Be).forEach(ft=>{const jt=Be[ft];Array.isArray(jt)?jt.forEach(Kt=>{Ge.push({param:ft,value:Kt,op:"a"})}):Ge.push({param:ft,value:jt,op:"a"})}),this.clone(Ge)}set(Be,Ge){return this.clone({param:Be,value:Ge,op:"s"})}delete(Be,Ge){return this.clone({param:Be,value:Ge,op:"d"})}toString(){return this.init(),this.keys().map(Be=>{const Ge=this.encoder.encodeKey(Be);return this.map.get(Be).map(ft=>Ge+"="+this.encoder.encodeValue(ft)).join("&")}).filter(Be=>""!==Be).join("&")}clone(Be){const Ge=new He({encoder:this.encoder});return Ge.cloneFrom=this.cloneFrom||this,Ge.updates=(this.updates||[]).concat(Be),Ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Be=>this.map.set(Be,this.cloneFrom.map.get(Be))),this.updates.forEach(Be=>{switch(Be.op){case"a":case"s":const Ge=("a"===Be.op?this.map.get(Be.param):void 0)||[];Ge.push(xe(Be.value)),this.map.set(Be.param,Ge);break;case"d":if(void 0===Be.value){this.map.delete(Be.param);break}{let ft=this.map.get(Be.param)||[];const jt=ft.indexOf(xe(Be.value));-1!==jt&&ft.splice(jt,1),ft.length>0?this.map.set(Be.param,ft):this.map.delete(Be.param)}}}),this.cloneFrom=this.updates=null)}}class Ie{constructor(){this.map=new Map}set(Be,Ge){return this.map.set(Be,Ge),this}get(Be){return this.map.has(Be)||this.map.set(Be,Be.defaultValue()),this.map.get(Be)}delete(Be){return this.map.delete(Be),this}has(Be){return this.map.has(Be)}keys(){return this.map.keys()}}function W(de){return typeof ArrayBuffer<"u"&&de instanceof ArrayBuffer}function ke(de){return typeof Blob<"u"&&de instanceof Blob}function Re(de){return typeof FormData<"u"&&de instanceof FormData}class it{constructor(Be,Ge,ft,jt){let Kt;if(this.url=Ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Be.toUpperCase(),function ue(de){switch(de){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||jt?(this.body=void 0!==ft?ft:null,Kt=jt):Kt=ft,Kt&&(this.reportProgress=!!Kt.reportProgress,this.withCredentials=!!Kt.withCredentials,Kt.responseType&&(this.responseType=Kt.responseType),Kt.headers&&(this.headers=Kt.headers),Kt.context&&(this.context=Kt.context),Kt.params&&(this.params=Kt.params),this.transferCache=Kt.transferCache),this.headers||(this.headers=new Pe),this.context||(this.context=new Ie),this.params){const Gt=this.params.toString();if(0===Gt.length)this.urlWithParams=Ge;else{const Qt=Ge.indexOf("?");this.urlWithParams=Ge+(-1===Qt?"?":Qt<Ge.length-1?"&":"")+Gt}}else this.params=new He,this.urlWithParams=Ge}serializeBody(){return null===this.body?null:W(this.body)||ke(this.body)||Re(this.body)||function nt(de){return typeof URLSearchParams<"u"&&de instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof He?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Re(this.body)?null:ke(this.body)?this.body.type||null:W(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof He?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Be={}){const Ge=Be.method||this.method,ft=Be.url||this.url,jt=Be.responseType||this.responseType,Kt=void 0!==Be.body?Be.body:this.body,Gt=void 0!==Be.withCredentials?Be.withCredentials:this.withCredentials,Qt=void 0!==Be.reportProgress?Be.reportProgress:this.reportProgress;let Rn=Be.headers||this.headers,pe=Be.params||this.params;const se=Be.context??this.context;return void 0!==Be.setHeaders&&(Rn=Object.keys(Be.setHeaders).reduce((U,me)=>U.set(me,Be.setHeaders[me]),Rn)),Be.setParams&&(pe=Object.keys(Be.setParams).reduce((U,me)=>U.set(me,Be.setParams[me]),pe)),new it(Ge,ft,Kt,{params:pe,headers:Rn,context:se,reportProgress:Qt,responseType:jt,withCredentials:Gt})}}var lt=function(de){return de[de.Sent=0]="Sent",de[de.UploadProgress=1]="UploadProgress",de[de.ResponseHeader=2]="ResponseHeader",de[de.DownloadProgress=3]="DownloadProgress",de[de.Response=4]="Response",de[de.User=5]="User",de}(lt||{});class Ut{constructor(Be,Ge=Se.Ok,ft="OK"){this.headers=Be.headers||new Pe,this.status=void 0!==Be.status?Be.status:Ge,this.statusText=Be.statusText||ft,this.url=Be.url||null,this.ok=this.status>=200&&this.status<300}}class Vt extends Ut{constructor(Be={}){super(Be),this.type=lt.ResponseHeader}clone(Be={}){return new Vt({headers:Be.headers||this.headers,status:void 0!==Be.status?Be.status:this.status,statusText:Be.statusText||this.statusText,url:Be.url||this.url||void 0})}}class Zt extends Ut{constructor(Be={}){super(Be),this.type=lt.Response,this.body=void 0!==Be.body?Be.body:null}clone(Be={}){return new Zt({body:void 0!==Be.body?Be.body:this.body,headers:Be.headers||this.headers,status:void 0!==Be.status?Be.status:this.status,statusText:Be.statusText||this.statusText,url:Be.url||this.url||void 0})}}class ot extends Ut{constructor(Be){super(Be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Be.url||"(unknown url)"}`:`Http failure response for ${Be.url||"(unknown url)"}: ${Be.status} ${Be.statusText}`,this.error=Be.error||null}}var Se=function(de){return de[de.Continue=100]="Continue",de[de.SwitchingProtocols=101]="SwitchingProtocols",de[de.Processing=102]="Processing",de[de.EarlyHints=103]="EarlyHints",de[de.Ok=200]="Ok",de[de.Created=201]="Created",de[de.Accepted=202]="Accepted",de[de.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",de[de.NoContent=204]="NoContent",de[de.ResetContent=205]="ResetContent",de[de.PartialContent=206]="PartialContent",de[de.MultiStatus=207]="MultiStatus",de[de.AlreadyReported=208]="AlreadyReported",de[de.ImUsed=226]="ImUsed",de[de.MultipleChoices=300]="MultipleChoices",de[de.MovedPermanently=301]="MovedPermanently",de[de.Found=302]="Found",de[de.SeeOther=303]="SeeOther",de[de.NotModified=304]="NotModified",de[de.UseProxy=305]="UseProxy",de[de.Unused=306]="Unused",de[de.TemporaryRedirect=307]="TemporaryRedirect",de[de.PermanentRedirect=308]="PermanentRedirect",de[de.BadRequest=400]="BadRequest",de[de.Unauthorized=401]="Unauthorized",de[de.PaymentRequired=402]="PaymentRequired",de[de.Forbidden=403]="Forbidden",de[de.NotFound=404]="NotFound",de[de.MethodNotAllowed=405]="MethodNotAllowed",de[de.NotAcceptable=406]="NotAcceptable",de[de.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",de[de.RequestTimeout=408]="RequestTimeout",de[de.Conflict=409]="Conflict",de[de.Gone=410]="Gone",de[de.LengthRequired=411]="LengthRequired",de[de.PreconditionFailed=412]="PreconditionFailed",de[de.PayloadTooLarge=413]="PayloadTooLarge",de[de.UriTooLong=414]="UriTooLong",de[de.UnsupportedMediaType=415]="UnsupportedMediaType",de[de.RangeNotSatisfiable=416]="RangeNotSatisfiable",de[de.ExpectationFailed=417]="ExpectationFailed",de[de.ImATeapot=418]="ImATeapot",de[de.MisdirectedRequest=421]="MisdirectedRequest",de[de.UnprocessableEntity=422]="UnprocessableEntity",de[de.Locked=423]="Locked",de[de.FailedDependency=424]="FailedDependency",de[de.TooEarly=425]="TooEarly",de[de.UpgradeRequired=426]="UpgradeRequired",de[de.PreconditionRequired=428]="PreconditionRequired",de[de.TooManyRequests=429]="TooManyRequests",de[de.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",de[de.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",de[de.InternalServerError=500]="InternalServerError",de[de.NotImplemented=501]="NotImplemented",de[de.BadGateway=502]="BadGateway",de[de.ServiceUnavailable=503]="ServiceUnavailable",de[de.GatewayTimeout=504]="GatewayTimeout",de[de.HttpVersionNotSupported=505]="HttpVersionNotSupported",de[de.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",de[de.InsufficientStorage=507]="InsufficientStorage",de[de.LoopDetected=508]="LoopDetected",de[de.NotExtended=510]="NotExtended",de[de.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",de}(Se||{});function ce(de,Be){return{body:Be,headers:de.headers,context:de.context,observe:de.observe,params:de.params,reportProgress:de.reportProgress,responseType:de.responseType,withCredentials:de.withCredentials,transferCache:de.transferCache}}let Me=(()=>{class de{constructor(Ge){this.handler=Ge}request(Ge,ft,jt={}){let Kt;if(Ge instanceof it)Kt=Ge;else{let Rn,pe;Rn=jt.headers instanceof Pe?jt.headers:new Pe(jt.headers),jt.params&&(pe=jt.params instanceof He?jt.params:new He({fromObject:jt.params})),Kt=new it(Ge,ft,void 0!==jt.body?jt.body:null,{headers:Rn,context:jt.context,params:pe,reportProgress:jt.reportProgress,responseType:jt.responseType||"json",withCredentials:jt.withCredentials,transferCache:jt.transferCache})}const Gt=(0,_e.of)(Kt).pipe((0,ge.b)(Rn=>this.handler.handle(Rn)));if(Ge instanceof it||"events"===jt.observe)return Gt;const Qt=Gt.pipe((0,ye.h)(Rn=>Rn instanceof Zt));switch(jt.observe||"body"){case"body":switch(Kt.responseType){case"arraybuffer":return Qt.pipe((0,ve.U)(Rn=>{if(null!==Rn.body&&!(Rn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Rn.body}));case"blob":return Qt.pipe((0,ve.U)(Rn=>{if(null!==Rn.body&&!(Rn.body instanceof Blob))throw new Error("Response is not a Blob.");return Rn.body}));case"text":return Qt.pipe((0,ve.U)(Rn=>{if(null!==Rn.body&&"string"!=typeof Rn.body)throw new Error("Response is not a string.");return Rn.body}));default:return Qt.pipe((0,ve.U)(Rn=>Rn.body))}case"response":return Qt;default:throw new Error(`Unreachable: unhandled observe type ${jt.observe}}`)}}delete(Ge,ft={}){return this.request("DELETE",Ge,ft)}get(Ge,ft={}){return this.request("GET",Ge,ft)}head(Ge,ft={}){return this.request("HEAD",Ge,ft)}jsonp(Ge,ft){return this.request("JSONP",Ge,{params:(new He).append(ft,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ge,ft={}){return this.request("OPTIONS",Ge,ft)}patch(Ge,ft,jt={}){return this.request("PATCH",Ge,ce(jt,ft))}post(Ge,ft,jt={}){return this.request("POST",Ge,ce(jt,ft))}put(Ge,ft,jt={}){return this.request("PUT",Ge,ce(jt,ft))}static#e=this.\u0275fac=function(ft){return new(ft||de)(P.LFG(Oe))};static#t=this.\u0275prov=P.Yz7({token:de,factory:de.\u0275fac})}return de})();function In(de,Be){return Be(de)}function Xn(de,Be){return(Ge,ft)=>Be.intercept(Ge,{handle:jt=>de(jt,ft)})}const Et=new P.OlP(""),mt=new P.OlP(""),Ot=new P.OlP(""),fn=new P.OlP("");function At(){let de=null;return(Be,Ge)=>{null===de&&(de=((0,P.f3M)(Et,{optional:!0})??[]).reduceRight(Xn,In));const ft=(0,P.f3M)(P.I6F),jt=ft.add();return de(Be,Ge).pipe((0,Ke.x)(()=>ft.remove(jt)))}}let Ln=(()=>{class de extends Oe{constructor(Ge,ft){super(),this.backend=Ge,this.injector=ft,this.chain=null,this.pendingTasks=(0,P.f3M)(P.I6F);const jt=(0,P.f3M)(fn,{optional:!0});this.backend=jt??Ge}handle(Ge){if(null===this.chain){const jt=Array.from(new Set([...this.injector.get(mt),...this.injector.get(Ot,[])]));this.chain=jt.reduceRight((Kt,Gt)=>function kt(de,Be,Ge){return(ft,jt)=>(0,P.r_H)(Ge,()=>Be(ft,Kt=>de(Kt,jt)))}(Kt,Gt,this.injector),In)}const ft=this.pendingTasks.add();return this.chain(Ge,jt=>this.backend.handle(jt)).pipe((0,Ke.x)(()=>this.pendingTasks.remove(ft)))}static#e=this.\u0275fac=function(ft){return new(ft||de)(P.LFG(ze),P.LFG(P.lqb))};static#t=this.\u0275prov=P.Yz7({token:de,factory:de.\u0275fac})}return de})();const $n=/^\)\]\}',?\n/;let zt=(()=>{class de{constructor(Ge){this.xhrFactory=Ge}handle(Ge){if("JSONP"===Ge.method)throw new P.vHH(-2800,!1);const ft=this.xhrFactory;return(ft.\u0275loadImpl?(0,Ee.D)(ft.\u0275loadImpl()):(0,_e.of)(null)).pipe((0,ie.w)(()=>new le.y(Kt=>{const Gt=ft.build();if(Gt.open(Ge.method,Ge.urlWithParams),Ge.withCredentials&&(Gt.withCredentials=!0),Ge.headers.forEach((gt,yt)=>Gt.setRequestHeader(gt,yt.join(","))),Ge.headers.has("Accept")||Gt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ge.headers.has("Content-Type")){const gt=Ge.detectContentTypeHeader();null!==gt&&Gt.setRequestHeader("Content-Type",gt)}if(Ge.responseType){const gt=Ge.responseType.toLowerCase();Gt.responseType="json"!==gt?gt:"text"}const Qt=Ge.serializeBody();let Rn=null;const pe=()=>{if(null!==Rn)return Rn;const gt=Gt.statusText||"OK",yt=new Pe(Gt.getAllResponseHeaders()),Jt=function Qr(de){return"responseURL"in de&&de.responseURL?de.responseURL:/^X-Request-URL:/m.test(de.getAllResponseHeaders())?de.getResponseHeader("X-Request-URL"):null}(Gt)||Ge.url;return Rn=new Vt({headers:yt,status:Gt.status,statusText:gt,url:Jt}),Rn},se=()=>{let{headers:gt,status:yt,statusText:Jt,url:Mn}=pe(),Wn=null;yt!==Se.NoContent&&(Wn=typeof Gt.response>"u"?Gt.responseText:Gt.response),0===yt&&(yt=Wn?Se.Ok:0);let N=yt>=200&&yt<300;if("json"===Ge.responseType&&"string"==typeof Wn){const q=Wn;Wn=Wn.replace($n,"");try{Wn=""!==Wn?JSON.parse(Wn):null}catch(Ce){Wn=q,N&&(N=!1,Wn={error:Ce,text:Wn})}}N?(Kt.next(new Zt({body:Wn,headers:gt,status:yt,statusText:Jt,url:Mn||void 0})),Kt.complete()):Kt.error(new ot({error:Wn,headers:gt,status:yt,statusText:Jt,url:Mn||void 0}))},U=gt=>{const{url:yt}=pe(),Jt=new ot({error:gt,status:Gt.status||0,statusText:Gt.statusText||"Unknown Error",url:yt||void 0});Kt.error(Jt)};let me=!1;const be=gt=>{me||(Kt.next(pe()),me=!0);let yt={type:lt.DownloadProgress,loaded:gt.loaded};gt.lengthComputable&&(yt.total=gt.total),"text"===Ge.responseType&&Gt.responseText&&(yt.partialText=Gt.responseText),Kt.next(yt)},$e=gt=>{let yt={type:lt.UploadProgress,loaded:gt.loaded};gt.lengthComputable&&(yt.total=gt.total),Kt.next(yt)};return Gt.addEventListener("load",se),Gt.addEventListener("error",U),Gt.addEventListener("timeout",U),Gt.addEventListener("abort",U),Ge.reportProgress&&(Gt.addEventListener("progress",be),null!==Qt&&Gt.upload&&Gt.upload.addEventListener("progress",$e)),Gt.send(Qt),Kt.next({type:lt.Sent}),()=>{Gt.removeEventListener("error",U),Gt.removeEventListener("abort",U),Gt.removeEventListener("load",se),Gt.removeEventListener("timeout",U),Ge.reportProgress&&(Gt.removeEventListener("progress",be),null!==Qt&&Gt.upload&&Gt.upload.removeEventListener("progress",$e)),Gt.readyState!==Gt.DONE&&Gt.abort()}})))}static#e=this.\u0275fac=function(ft){return new(ft||de)(P.LFG(oe.JF))};static#t=this.\u0275prov=P.Yz7({token:de,factory:de.\u0275fac})}return de})();const wr=new P.OlP("XSRF_ENABLED"),Yr=new P.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),or=new P.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Nr{}let kr=(()=>{class de{constructor(Ge,ft,jt){this.doc=Ge,this.platform=ft,this.cookieName=jt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ge=this.doc.cookie||"";return Ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,oe.Mx)(Ge,this.cookieName),this.lastCookieString=Ge),this.lastToken}static#e=this.\u0275fac=function(ft){return new(ft||de)(P.LFG(oe.K0),P.LFG(P.Lbi),P.LFG(Yr))};static#t=this.\u0275prov=P.Yz7({token:de,factory:de.\u0275fac})}return de})();function Dr(de,Be){const Ge=de.url.toLowerCase();if(!(0,P.f3M)(wr)||"GET"===de.method||"HEAD"===de.method||Ge.startsWith("http://")||Ge.startsWith("https://"))return Be(de);const ft=(0,P.f3M)(Nr).getToken(),jt=(0,P.f3M)(or);return null!=ft&&!de.headers.has(jt)&&(de=de.clone({headers:de.headers.set(jt,ft)})),Be(de)}var Cn=function(de){return de[de.Interceptors=0]="Interceptors",de[de.LegacyInterceptors=1]="LegacyInterceptors",de[de.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",de[de.NoXsrfProtection=3]="NoXsrfProtection",de[de.JsonpSupport=4]="JsonpSupport",de[de.RequestsMadeViaParent=5]="RequestsMadeViaParent",de[de.Fetch=6]="Fetch",de}(Cn||{});function Ir(...de){const Be=[Me,zt,Ln,{provide:Oe,useExisting:Ln},{provide:ze,useExisting:zt},{provide:mt,useValue:Dr,multi:!0},{provide:wr,useValue:!0},{provide:Nr,useClass:kr}];for(const Ge of de)Be.push(...Ge.\u0275providers);return(0,P.MR2)(Be)}const Y=new P.OlP("LEGACY_INTERCEPTOR_FN");function J(){return function Un(de,Be){return{\u0275kind:de,\u0275providers:Be}}(Cn.LegacyInterceptors,[{provide:Y,useFactory:At},{provide:mt,useExisting:Y,multi:!0}])}let xn=(()=>{class de{static#e=this.\u0275fac=function(ft){return new(ft||de)};static#t=this.\u0275mod=P.oAB({type:de});static#n=this.\u0275inj=P.cJS({providers:[Ir(J())]})}return de})()},9212:(an,tt,M)=>{"use strict";M.d(tt,{tb:()=>RI,AFp:()=>La,ip1:()=>_C,hGG:()=>qR,z2F:()=>mh,Ojb:()=>Fm,sBO:()=>Hy,Sil:()=>QS,EJc:()=>kR,Xts:()=>_a,SBq:()=>Hu,lqb:()=>Ja,qLn:()=>gc,vpe:()=>Ta,XFs:()=>U,OlP:()=>N,zs3:()=>va,ZZ4:()=>Yd,aQg:()=>Ua,soG:()=>B_,YKP:()=>RD,h0i:()=>gh,R0b:()=>Ji,FiY:()=>m,Lbi:()=>wd,g9A:()=>Pp,Qsj:()=>Av,FYo:()=>Dy,JOm:()=>oc,tp0:()=>H,Rgc:()=>gm,dDg:()=>wR,eoX:()=>yC,q4F:()=>ZS,GfV:()=>cC,s_b:()=>X,ifc:()=>to,T8G:()=>Qy,VuI:()=>EM,LMc:()=>TM,MMx:()=>PD,Lck:()=>eS,eFA:()=>AC,G48:()=>UR,Gpc:()=>Qr,f3M:()=>_r,X6Q:()=>$R,$WT:()=>Hi,MR2:()=>Oi,_c5:()=>WR,qFp:()=>DM,r_H:()=>wp,rg0:()=>Mv,c2e:()=>uC,zSh:()=>rc,wAp:()=>up,I6F:()=>k_,vHH:()=>At,lri:()=>gC,rWj:()=>mC,cg1:()=>eI,kuF:()=>Bn,kL8:()=>uT,dqk:()=>Jt,Z0I:()=>ft,eJc:()=>el,QGY:()=>rI,F4k:()=>LT,RDi:()=>Nm,AaK:()=>Dn,qOj:()=>Nl,lbL:()=>ao,Xq5:()=>a_,TTD:()=>as,_Bn:()=>SD,jDz:()=>xD,xp6:()=>Xd,uIk:()=>VE,ekj:()=>HE,Suo:()=>iD,Xpm:()=>vi,lG2:()=>Aa,Yz7:()=>Gn,cJS:()=>Be,oAB:()=>os,Yjl:()=>na,Y36:()=>mc,_UZ:()=>ZE,GkF:()=>JE,qZA:()=>w_,TgZ:()=>C_,EpF:()=>aT,n5z:()=>_l,LFG:()=>ti,$8M:()=>Oc,$Z:()=>Tf,NdJ:()=>iI,CRH:()=>aD,oxw:()=>jT,Hsn:()=>HT,F$t:()=>zT,Q6J:()=>jE,s9C:()=>oI,DdM:()=>UD,iGM:()=>sD,MAs:()=>lD,KtG:()=>hl,CHM:()=>Gs,LSH:()=>Kh,P3R:()=>Xh,YNc:()=>Wf,W1O:()=>qD,_uU:()=>_D,Oqu:()=>fI,hij:()=>P_,AsE:()=>pI,Gf:()=>oD});let P=null,le=1;const Ee=Symbol("SIGNAL");function ge(t){const n=P;return P=t,n}function ze(t){if((!je(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==le)){if(!t.producerMustRecompute(t)&&!Ue(t))return t.dirty=!1,void(t.lastCleanEpoch=le);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=le}}function Ue(t){Ie(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(ze(i),a!==i.version))return!0}return!1}function He(t,n){if(function ue(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ie(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)He(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],u=t.liveConsumerNode[n];Ie(u),u.producerIndexOfThis[a]=n}}function je(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ie(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ut=null;var Xn=M(8645),kt=M(7394),Et=M(5619),mt=M(7398);const fn="https://g.co/ng/security#xss";class At extends Error{constructor(n,i){super(Bn(n,i)),this.code=n}}function Bn(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function Vn(t){for(let n in t)if(t[n]===Vn)return n;throw Error("Could not find renamed property on target object.")}function $r(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Dn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Dn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function mr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const $n=Vn({__forward_ref__:Vn});function Qr(t){return t.__forward_ref__=Qr,t.toString=function(){return Dn(this())},t}function zt(t){return wr(t)?t():t}function wr(t){return"function"==typeof t&&t.hasOwnProperty($n)&&t.__forward_ref__===Qr}function ui(t){return t&&!!t.\u0275providers}const Yr=Vn({\u0275cmp:Vn}),ur=Vn({\u0275dir:Vn}),or=Vn({\u0275pipe:Vn}),Nr=Vn({\u0275mod:Vn}),kr=Vn({\u0275fac:Vn}),Dr=Vn({__NG_ELEMENT_ID__:Vn}),Jr=Vn({__NG_ENV_ID__:Vn});function Cn(t){return"string"==typeof t?t:null==t?"":String(t)}function ee(t,n){throw new At(-201,!1)}function Nt(t,n){null==t&&function Rt(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Gn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Be(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ge(t){return jt(t,Qt)||jt(t,pe)}function ft(t){return null!==Ge(t)}function jt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Gt(t){return t&&(t.hasOwnProperty(Rn)||t.hasOwnProperty(se))?t[Rn]:null}const Qt=Vn({\u0275prov:Vn}),Rn=Vn({\u0275inj:Vn}),pe=Vn({ngInjectableDef:Vn}),se=Vn({ngInjectorDef:Vn});var U=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(U||{});let me;function be(){return me}function $e(t){const n=me;return me=t,n}function gt(t,n,i){const a=Ge(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&U.Optional?null:void 0!==n?n:void ee()}const Jt=globalThis;class N{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Gn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const bn={},vr="__NG_DI_FLAG__",Ur="ngTempTokenPath",te=/\n/gm,ae="__source";let Xe;function li(t){const n=Xe;return Xe=t,n}function Er(t,n=U.Default){if(void 0===Xe)throw new At(-203,!1);return null===Xe?gt(t,void 0,n):Xe.get(t,n&U.Optional?null:void 0,n)}function ti(t,n=U.Default){return(be()||Er)(zt(t),n)}function _r(t,n=U.Default){return ti(t,So(n))}function So(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mo(t){const n=[];for(let i=0;i<t.length;i++){const a=zt(t[i]);if(Array.isArray(a)){if(0===a.length)throw new At(900,!1);let u,h=U.Default;for(let g=0;g<a.length;g++){const y=a[g],T=Wo(y);"number"==typeof T?-1===T?u=y.token:h|=T:u=y}n.push(ti(u,h))}else n.push(ti(a))}return n}function Bo(t,n){return t[vr]=n,t.prototype[vr]=n,t}function Wo(t){return t[vr]}function eo(t){return{toString:t}.toString()}var so=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(so||{}),to=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(to||{});const mi={},Sr=[];var ao=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ao||{});function zi(t,n,i){let a=t.length;for(;;){const u=t.indexOf(n,i);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const h=n.length;if(u+h===a||t.charCodeAt(u+h)<=32)return u}i=u+1}}function Js(t,n,i){let a=0;for(;a<i.length;){const u=i[a];if("number"==typeof u){if(0!==u)break;a++;const h=i[a++],g=i[a++],y=i[a++];t.setAttribute(n,g,y,h)}else{const h=u,g=i[++a];$s(h)?t.setProperty(n,h,g):t.setAttribute(n,h,g),a++}}return a}function ws(t){return 3===t||4===t||6===t}function $s(t){return 64===t.charCodeAt(0)}function Uo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?i=u:0===i||ea(t,i,u,null,-1===i||2===i?n[++a]:null)}}return t}function ea(t,n,i,a,u){let h=0,g=t.length;if(-1===n)g=-1;else for(;h<t.length;){const y=t[h++];if("number"==typeof y){if(y===n){g=-1;break}if(y>n){g=h-1;break}}}for(;h<t.length;){const y=t[h];if("number"==typeof y)break;if(y===i){if(null===a)return void(null!==u&&(t[h+1]=u));if(a===t[h+1])return void(t[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==g&&(t.splice(g,0,n),h=g+1),t.splice(h++,0,i),null!==a&&t.splice(h++,0,a),null!==u&&t.splice(h++,0,u)}const qo="ng-template";function Us(t,n,i){let a=0,u=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&u){const g=t[a++];if(i&&"class"===h&&-1!==zi(g.toLowerCase(),n,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(u=!1)}}return!1}function ps(t){return 4===t.type&&t.value!==qo}function gs(t,n,i){return n===(4!==t.type||i?t.value:qo)}function Zi(t,n,i){let a=4;const u=t.attrs||[],h=function rs(t){for(let n=0;n<t.length;n++)if(ws(t[n]))return n;return t.length}(u);let g=!1;for(let y=0;y<n.length;y++){const T=n[y];if("number"!=typeof T){if(!g)if(4&a){if(a=2|1&a,""!==T&&!gs(t,T,i)||""===T&&1===n.length){if(Io(a))return!1;g=!0}}else{const k=8&a?T:n[++y];if(8&a&&null!==t.attrs){if(!Us(t.attrs,k,i)){if(Io(a))return!1;g=!0}continue}const he=bs(8&a?"class":T,u,ps(t),i);if(-1===he){if(Io(a))return!1;g=!0;continue}if(""!==k){let Ze;Ze=he>h?"":u[he+1].toLowerCase();const st=8&a?Ze:null;if(st&&-1!==zi(st,k,0)||2&a&&k!==Ze){if(Io(a))return!1;g=!0}}}}else{if(!g&&!Io(a)&&!Io(T))return!1;if(g&&Io(T))continue;g=!1,a=T|1&a}}return Io(a)||g}function Io(t){return 0==(1&t)}function bs(t,n,i,a){if(null===n)return-1;let u=0;if(a||!i){let h=!1;for(;u<n.length;){const g=n[u];if(g===t)return u;if(3===g||6===g)h=!0;else{if(1===g||2===g){let y=n[++u];for(;"string"==typeof y;)y=n[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=h?1:2}return-1}return function lo(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function js(t,n,i=!1){for(let a=0;a<n.length;a++)if(Zi(t,n[a],i))return!0;return!1}function no(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function To(t,n){return t?":not("+n.trim()+")":n}function ro(t){let n=t[0],i=1,a=2,u="",h=!1;for(;i<t.length;){let g=t[i];if("string"==typeof g)if(2&a){const y=t[++i];u+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?u+="."+g:4&a&&(u+=" "+g);else""!==u&&!Io(g)&&(n+=To(h,u),u=""),a=g,h=h||!Io(a);i++}return""!==u&&(n+=To(h,u)),n}function vi(t){return eo(()=>{const n=_s(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===so.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||to.Emulated,styles:t.styles||Sr,_:null,schemas:t.schemas||null,tView:null,id:""};ra(i);const a=t.dependencies;return i.directiveDefs=Ss(a,!1),i.pipeDefs=Ss(a,!0),i.id=function Ms(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of i)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function ms(t){return nr(t)||si(t)}function ta(t){return null!==t}function os(t){return eo(()=>({type:t.type,bootstrap:t.bootstrap||Sr,declarations:t.declarations||Sr,imports:t.imports||Sr,exports:t.exports||Sr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ys(t,n){if(null==t)return mi;const i={};for(const a in t)if(t.hasOwnProperty(a)){const u=t[a];let h,g,y=ao.None;Array.isArray(u)?(y=u[0],h=u[1],g=u[2]??h):(h=u,g=u),n?(i[h]=y!==ao.None?[a,y]:a,n[h]=g):i[h]=a}return i}function Aa(t){return eo(()=>{const n=_s(t);return ra(n),n})}function na(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function nr(t){return t[Yr]||null}function si(t){return t[ur]||null}function $i(t){return t[or]||null}function Hi(t){const n=nr(t)||si(t)||$i(t);return null!==n&&n.standalone}function Ei(t,n){const i=t[Nr]||null;if(!i&&!0===n)throw new Error(`Type ${Dn(t)} does not have '\u0275mod' property.`);return i}function _s(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||mi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Sr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ys(t.inputs,n),outputs:ys(t.outputs),debugInfo:null}}function ra(t){t.features?.forEach(n=>n(t))}function Ss(t,n){if(!t)return null;const i=n?$i:ms;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(ta)}const fr=0,ln=1,F=2,$=3,x=4,ne=5,qe=6,On=7,gn=8,ii=9,Fi=10,ar=11,Xi=12,Ps=13,Ro=14,ni=15,Do=16,qi=17,co=18,Mo=19,uo=20,Li=21,xs=22,ss=23,lr=25,V=1,we=7,ht=9,Ct=10;var un=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(un||{});function wn(t){return Array.isArray(t)&&"object"==typeof t[V]}function _n(t){return Array.isArray(t)&&!0===t[V]}function sr(t){return 0!=(4&t.flags)}function br(t){return t.componentOffset>-1}function Ii(t){return 1==(1&t.flags)}function Rr(t){return!!t.template}function oi(t){return 0!=(512&t[F])}function Ht(t,n){return t.hasOwnProperty(kr)?t[kr]:null}class pi{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function Vi(t,n,i,a){null!==n?n.applyValueToInputSignal(n,a):t[i]=a}function as(){return An}function An(t){return t.type.prototype.ngOnChanges&&(t.setInput=za),Nn}function Nn(){const t=Mt(this),n=t?.current;if(n){const i=t.previous;if(i===mi)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function za(t,n,i,a,u){const h=this.declaredInputs[a],g=Mt(t)||function rn(t,n){return t[vn]=n}(t,{previous:mi,current:null}),y=g.current||(g.current={}),T=g.previous,k=T[h];y[h]=new pi(k&&k.currentValue,i,T===mi),Vi(t,n,u,i)}as.ngInherit=!0;const vn="__ngSimpleChanges__";function Mt(t){return t[vn]||null}const Ko=function(t,n,i){};let ia=!1;function Si(t){for(;Array.isArray(t);)t=t[fr];return t}function Sa(t,n){return Si(n[t])}function wo(t,n){return Si(n[t.index])}function Zo(t,n){return t.data[n]}function ri(t,n){const i=n[t];return wn(i)?i:i[fr]}function Ns(t){return 128==(128&t[F])}function Hs(t,n){return null==n?null:t[n]}function Di(t){t[qi]=0}function pn(t){1024&t[F]||(t[F]|=1024,Ns(t)&&Vl(t))}function su(t){return 9216&t[F]||t[ss]?.dirty}function ks(t){su(t)?Vl(t):64&t[F]&&(function Ic(){return ia}()?(t[F]|=1024,Vl(t)):t[Fi].changeDetectionScheduler?.notify())}function Vl(t){t[Fi].changeDetectionScheduler?.notify();let n=jo(t);for(;null!==n&&!(8192&n[F])&&(n[F]|=8192,Ns(n));)n=jo(n)}function Es(t,n){if(256==(256&t[F]))throw new At(911,!1);null===t[Li]&&(t[Li]=[]),t[Li].push(n)}function jo(t){const n=t[$];return _n(n)?n[$]:n}const zn={lFrame:Ya(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function aa(){return zn.bindingsEnabled}function la(){return null!==zn.skipHydrationRootTNode}function Bt(){return zn.lFrame.lView}function qr(){return zn.lFrame.tView}function Gs(t){return zn.lFrame.contextLView=t,t[gn]}function hl(t){return zn.lFrame.contextLView=null,t}function di(){let t=Ul();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ul(){return zn.lFrame.currentTNode}function Gi(t,n){const i=zn.lFrame;i.currentTNode=t,i.isParent=n}function Ga(){return zn.lFrame.isParent}function fl(){zn.lFrame.isParent=!1}function E(){return zn.lFrame.bindingIndex++}function A(t){const n=zn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function Ve(t,n){const i=zn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Tt(n)}function Tt(t){zn.lFrame.currentDirectiveIndex=t}function xr(){return zn.lFrame.currentQueryIndex}function Br(t){zn.lFrame.currentQueryIndex=t}function Ki(t){const n=t[ln];return 2===n.type?n.declTNode:1===n.type?t[ne]:null}function Wa(t,n,i){if(i&U.SkipSelf){let u=n,h=t;for(;!(u=u.parent,null!==u||i&U.Host||(u=Ki(h),null===u||(h=h[Ro],10&u.type))););if(null===u)return!1;n=u,t=h}const a=zn.lFrame=qa();return a.currentTNode=n,a.lView=t,!0}function Pa(t){const n=qa(),i=t[ln];zn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function qa(){const t=zn.lFrame,n=null===t?null:t.child;return null===n?Ya(t):n}function Ya(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ua(){const t=zn.lFrame;return zn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const lu=ua;function cu(){const t=ua();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xo(){return zn.lFrame.selectedIndex}function da(t){zn.lFrame.selectedIndex=t}function Ri(){const t=zn.lFrame;return Zo(t.tView,t.selectedIndex)}let Ci=!0;function pl(){return Ci}function Wi(t){Ci=t}function gl(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const h=t.data[i].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:T,ngAfterViewChecked:k,ngOnDestroy:G}=h;g&&(t.contentHooks??=[]).push(-i,g),y&&((t.contentHooks??=[]).push(i,y),(t.contentCheckHooks??=[]).push(i,y)),T&&(t.viewHooks??=[]).push(-i,T),k&&((t.viewHooks??=[]).push(i,k),(t.viewCheckHooks??=[]).push(i,k)),null!=G&&(t.destroyHooks??=[]).push(i,G)}}function ha(t,n,i){hu(t,n,3,i)}function Oo(t,n,i,a){(3&t[F])===i&&hu(t,n,i,a)}function du(t,n){let i=t[F];(3&i)===n&&(i&=16383,i+=1,t[F]=i)}function hu(t,n,i,a){const h=a??-1,g=n.length-1;let y=0;for(let T=void 0!==a?65535&t[qi]:0;T<g;T++)if("number"==typeof n[T+1]){if(y=n[T],null!=a&&y>=a)break}else n[T]<0&&(t[qi]+=65536),(y<h||-1==h)&&(sd(t,i,n,T),t[qi]=(4294901760&t[qi])+T+2),T++}function ho(t,n){Ko(4,t,n);const i=ge(null);try{n.call(t)}finally{ge(i),Ko(5,t,n)}}function sd(t,n,i,a){const u=i[a]<0,h=i[a+1],y=t[u?-i[a]:i[a]];u?t[F]>>14<t[qi]>>16&&(3&t[F])===n&&(t[F]+=16384,ho(y,h)):ho(y,h)}const Is=-1;class Pi{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function Xa(t){return t!==Is}function Fs(t){return 32767&t}function fa(t,n){let i=function qs(t){return t>>16}(t),a=n;for(;i>0;)a=a[Ro],i--;return a}let Ys=!0;function wc(t){const n=Ys;return Ys=t,n}const zl=255,Ac=5;let ml=0;const us={};function Rc(t,n){const i=Mc(t,n);if(-1!==i)return i;const a=n[ln];a.firstCreatePass&&(t.injectorIndex=n.length,Hl(a.data,t),Hl(n,null),Hl(a.blueprint,null));const u=pa(t,n),h=t.injectorIndex;if(Xa(u)){const g=Fs(u),y=fa(u,n),T=y[ln].data;for(let k=0;k<8;k++)n[h+k]=y[g+k]|T[g+k]}return n[h+8]=u,h}function Hl(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Mc(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function pa(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,u=n;for(;null!==u;){if(a=Kl(u),null===a)return Is;if(i++,u=u[Ro],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return Is}function Gl(t,n,i){!function Sc(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Dr)&&(a=i[Dr]),null==a&&(a=i[Dr]=ml++);const u=a&zl;n.data[t+(u>>Ac)]|=1<<u}(t,n,i)}function ld(t,n,i){if(i&U.Optional||void 0!==t)return t;ee()}function Pc(t,n,i,a){if(i&U.Optional&&void 0===a&&(a=null),!(i&(U.Self|U.Host))){const u=t[ii],h=$e(void 0);try{return u?u.get(n,a,i&U.Optional):gt(n,a,i&U.Optional)}finally{$e(h)}}return ld(a,0,i)}function cd(t,n,i,a=U.Default,u){if(null!==t){if(2048&n[F]&&!(a&U.Self)){const g=function hd(t,n,i,a,u){let h=t,g=n;for(;null!==h&&null!==g&&2048&g[F]&&!(512&g[F]);){const y=yo(h,g,i,a|U.Self,us);if(y!==us)return y;let T=h.parent;if(!T){const k=g[uo];if(k){const G=k.get(i,us,a);if(G!==us)return G}T=Kl(g),g=g[Ro]}h=T}return u}(t,n,i,a,us);if(g!==us)return g}const h=yo(t,n,i,a,us);if(h!==us)return h}return Pc(n,i,a,u)}function yo(t,n,i,a,u){const h=function dd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Dr)?t[Dr]:void 0;return"number"==typeof n?n>=0?n&zl:bi:n}(i);if("function"==typeof h){if(!Wa(n,t,a))return a&U.Host?ld(u,0,a):Pc(n,i,a,u);try{let g;if(g=h(a),null!=g||a&U.Optional)return g;ee()}finally{lu()}}else if("number"==typeof h){let g=null,y=Mc(t,n),T=Is,k=a&U.Host?n[ni][ne]:null;for((-1===y||a&U.SkipSelf)&&(T=-1===y?pa(t,n):n[y+8],T!==Is&&Wl(a,!1)?(g=n[ln],y=Fs(T),n=fa(T,n)):y=-1);-1!==y;){const G=n[ln];if(xc(h,y,G.data)){const he=ud(y,n,i,g,a,k);if(he!==us)return he}T=n[y+8],T!==Is&&Wl(a,n[ln].data[y+8]===k)&&xc(h,y,n)?(g=G,y=Fs(T),n=fa(T,n)):y=-1}}return u}function ud(t,n,i,a,u,h){const g=n[ln],y=g.data[t+8],G=wi(y,g,i,null==a?br(y)&&Ys:a!=g&&0!=(3&y.type),u&U.Host&&h===y);return null!==G?ds(n,g,G,y):us}function wi(t,n,i,a,u){const h=t.providerIndexes,g=n.data,y=1048575&h,T=t.directiveStart,G=h>>20,Ze=u?y+G:t.directiveEnd;for(let st=a?y:y+G;st<Ze;st++){const xt=g[st];if(st<T&&i===xt||st>=T&&xt.type===i)return st}if(u){const st=g[T];if(st&&Rr(st)&&st.type===i)return T}return null}function ds(t,n,i,a){let u=t[i];const h=n.data;if(function Ws(t){return t instanceof Pi}(u)){const g=u;g.resolving&&function Y(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new At(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Un(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Cn(t)}(h[i]));const y=wc(g.canSeeViewProviders);g.resolving=!0;const k=g.injectImpl?$e(g.injectImpl):null;Wa(t,a,U.Default);try{u=t[i]=g.factory(void 0,h,t,a),n.firstCreatePass&&i>=a.directiveStart&&function Mi(t,n,i){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=n.type.prototype;if(a){const g=An(n);(i.preOrderHooks??=[]).push(t,g),(i.preOrderCheckHooks??=[]).push(t,g)}u&&(i.preOrderHooks??=[]).push(0-t,u),h&&((i.preOrderHooks??=[]).push(t,h),(i.preOrderCheckHooks??=[]).push(t,h))}(i,h[i],n)}finally{null!==k&&$e(k),wc(y),g.resolving=!1,lu()}}return u}function xc(t,n,i){return!!(i[n+(t>>Ac)]&1<<t)}function Wl(t,n){return!(t&U.Self||t&U.Host&&n)}class dr{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return cd(this._tNode,this._lView,n,So(a),i)}}function bi(){return new dr(di(),Bt())}function _l(t){return eo(()=>{const n=t.prototype.constructor,i=n[kr]||Yl(n),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const h=u[kr]||Yl(u);if(h&&h!==i)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Yl(t){return wr(t)?()=>{const n=Yl(zt(t));return n&&n()}:Ht(t)}function Kl(t){const n=t[ln],i=n.type;return 2===i?n.declTNode:1===i?t[ne]:null}function Oc(t){return function ad(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let u=0;for(;u<a;){const h=i[u];if(ws(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof i[u];)u++;else{if(h===n)return i[u+1];u+=2}}}return null}(di(),t)}const El="__parameters__";function Zl(t,n,i){return eo(()=>{const a=function fd(t){return function(...i){if(t){const a=t(...i);for(const u in a)this[u]=a[u]}}}(n);function u(...h){if(this instanceof u)return a.apply(this,h),this;const g=new u(...h);return y.annotation=g,y;function y(T,k,G){const he=T.hasOwnProperty(El)?T[El]:Object.defineProperty(T,El,{value:[]})[El];for(;he.length<=G;)he.push(null);return(he[G]=he[G]||[]).push(g),T}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function ka(t,n){t.forEach(i=>Array.isArray(i)?ka(i,n):n(i))}function mu(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ma(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Jo(t,n,i){let a=Zs(t,n);return a>=0?t[1|a]=i:(a=~a,function yu(t,n,i,a){let u=t.length;if(u==n)t.push(i,a);else if(1===u)t.push(a,t[0]),t[0]=i;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function Ks(t,n){const i=Zs(t,n);if(i>=0)return t[1|i]}function Zs(t,n){return function gd(t,n,i){let a=0,u=t.length>>i;for(;u!==a;){const h=a+(u-a>>1),g=t[h<<i];if(n===g)return h<<i;g>n?u=h:a=h+1}return~(u<<i)}(t,n,1)}const m=Bo(Zl("Optional"),8),H=Bo(Zl("SkipSelf"),4),_a=new N("ENVIRONMENT_INITIALIZER"),wl=new N("INJECTOR",-1),vd=new N("INJECTOR_DEF_TYPES");class ec{get(n,i=bn){if(i===bn){const a=new Error(`NullInjectorError: No provider for ${Dn(n)}!`);throw a.name="NullInjectorError",a}return i}}function Oi(t){return{\u0275providers:t}}function Dh(...t){return{\u0275providers:Ed(0,t),\u0275fromNgModule:!0}}function Ed(t,...n){const i=[],a=new Set;let u;const h=g=>{i.push(g)};return ka(n,g=>{const y=g;Ch(y,h,[],a)&&(u||=[],u.push(y))}),void 0!==u&&Ep(u,h),i}function Ep(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:u}=t[i];Ip(u,h=>{n(h,a)})}}function Ch(t,n,i,a){if(!(t=zt(t)))return!1;let u=null,h=Gt(t);const g=!h&&nr(t);if(h||g){if(g&&!g.standalone)return!1;u=t}else{const T=t.ngModule;if(h=Gt(T),!h)return!1;u=T}const y=a.has(u);if(g){if(y)return!1;if(a.add(u),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const k of T)Ch(k,n,i,a)}}else{if(!h)return!1;{if(null!=h.imports&&!y){let k;a.add(u);try{ka(h.imports,G=>{Ch(G,n,i,a)&&(k||=[],k.push(G))})}finally{}void 0!==k&&Ep(k,n)}if(!y){const k=Ht(u)||(()=>new u);n({provide:u,useFactory:k,deps:Sr},u),n({provide:vd,useValue:u,multi:!0},u),n({provide:_a,useValue:()=>ti(u),multi:!0},u)}const T=h.providers;if(null!=T&&!y){const k=t;Ip(T,G=>{n(G,k)})}}}return u!==t&&void 0!==t.providers}function Ip(t,n){for(let i of t)ui(i)&&(i=i.\u0275providers),Array.isArray(i)?Ip(i,n):n(i)}const wm=Vn({provide:String,useValue:Vn});function tc(t){return null!==t&&"object"==typeof t&&wm in t}function nc(t){return"function"==typeof t}const rc=new N("Set Injector scope."),Eu={},Dp={};let Id;function Iu(){return void 0===Id&&(Id=new ec),Id}class Ja{}class Tu extends Ja{get destroyed(){return this._destroyed}constructor(n,i,a,u){super(),this.parent=i,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bh(n,g=>this.processProvider(g)),this.records.set(wl,bl(void 0,this)),u.has("environment")&&this.records.set(Ja,bl(void 0,this));const h=this.records.get(rc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(vd,Sr,U.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=li(this),a=$e(void 0);try{return n()}finally{li(i),$e(a)}}get(n,i=bn,a=U.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Jr))return n[Jr](this);a=So(a);const h=li(this),g=$e(void 0);try{if(!(a&U.SkipSelf)){let T=this.records.get(n);if(void 0===T){const k=function Rm(t){return"function"==typeof t||"object"==typeof t&&t instanceof N}(n)&&Ge(n);T=k&&this.injectableDefInScope(k)?bl(po(n),Eu):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(a&U.Self?Iu():this.parent).get(n,i=a&U.Optional&&i===bn?null:i)}catch(y){if("NullInjectorError"===y.name){if((y[Ur]=y[Ur]||[]).unshift(Dn(n)),h)throw y;return function Cs(t,n,i,a){const u=t[Ur];throw n[ae]&&u.unshift(n[ae]),t.message=function $o(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Dn(n);if(Array.isArray(n))u=n.map(Dn).join(" -> ");else if("object"==typeof n){let h=[];for(let g in n)if(n.hasOwnProperty(g)){let y=n[g];h.push(g+":"+("string"==typeof y?JSON.stringify(y):Dn(y)))}u=`{${h.join(", ")}}`}return`${i}${a?"("+a+")":""}[${u}]: ${t.replace(te,"\n  ")}`}("\n"+t.message,u,i,a),t.ngTokenPath=u,t[Ur]=null,t}(y,n,"R3InjectorError",this.source)}throw y}finally{$e(g),li(h)}}resolveInjectorInitializers(){const n=li(this),i=$e(void 0);try{const u=this.get(_a,Sr,U.Self);for(const h of u)h()}finally{li(n),$e(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(Dn(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new At(205,!1)}processProvider(n){let i=nc(n=zt(n))?n:zt(n&&n.provide);const a=function Am(t){return tc(t)?bl(void 0,t.useValue):bl(Cp(t),Eu)}(n);if(!nc(n)&&!0===n.multi){let u=this.records.get(i);u||(u=bl(void 0,Eu,!0),u.factory=()=>mo(u.multi),this.records.set(i,u)),i=n,u.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===Eu&&(i.value=Dp,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Y_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=zt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function po(t){const n=Ge(t),i=null!==n?n.factory:Ht(t);if(null!==i)return i;if(t instanceof N)throw new At(204,!1);if(t instanceof Function)return function hi(t){if(t.length>0)throw new At(204,!1);const i=function Kt(t){return t&&(t[Qt]||t[pe])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new At(204,!1)}function Cp(t,n,i){let a;if(nc(t)){const u=zt(t);return Ht(u)||po(u)}if(tc(t))a=()=>zt(t.useValue);else if(function Tp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...mo(t.deps||[]));else if(function Qa(t){return!(!t||!t.useExisting)}(t))a=()=>ti(zt(t.useExisting));else{const u=zt(t&&(t.useClass||t.provide));if(!function Sm(t){return!!t.deps}(t))return Ht(u)||po(u);a=()=>new u(...mo(t.deps))}return a}function bl(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function bh(t,n){for(const i of t)Array.isArray(i)?bh(i,n):i&&ui(i)?bh(i.\u0275providers,n):n(i)}function wp(t,n){t instanceof Tu&&t.assertNotDestroyed();const a=li(t),u=$e(void 0);try{return n()}finally{li(a),$e(u)}}function xm(t,n=null,i=null,a){const u=Om(t,n,i,a);return u.resolveInjectorInitializers(),u}function Om(t,n=null,i=null,a,u=new Set){const h=[i||Sr,Dh(t)];return a=a||("object"==typeof t?void 0:Dn(t)),new Tu(h,n||Iu(),a||null,u)}let Cd,va=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=bn;static#t=this.NULL=new ec;static create(i,a){if(Array.isArray(i))return xm({name:""},a,i,"");{const u=i.name??"";return xm({name:u},i.parent,i.providers,u)}}static#n=this.\u0275prov=Gn({token:t,providedIn:"any",factory:()=>ti(wl)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function el(t){return!!Ei(t)}function Nm(t){Cd=t}const La=new N("AppId",{providedIn:"root",factory:()=>km}),km="ng",Pp=new N("Platform Initializer"),wd=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Fm=new N("CSP nonce",{providedIn:"root",factory:()=>function Ea(){if(void 0!==Cd)return Cd;if(typeof document<"u")return document;throw new At(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ts(t){return t instanceof Function?t():t}function Ph(t){return 128==(128&t.flags)}var oc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(oc||{});const Bc=/^>|^->|<!--|-->|--!>|<!-$/g,sc=/(<|>)/g,Gm="\u200b$1\u200b";const Oh=new Map;let av=0;const Md="__ngContext__";function No(t,n){wn(n)?(t[Md]=n[Mo],function Vp(t){Oh.set(t[Mo],t)}(n)):t[Md]=n}let Fh;function nl(t,n){return Fh(t,n)}function jc(t,n,i,a,u){if(null!=a){let h,g=!1;_n(a)?h=a:wn(a)&&(g=!0,a=a[fr]);const y=Si(a);0===t&&null!==i?null==u?Wp(n,i,y):$a(n,i,y,u||null,!0):1===t&&null!==i?$a(n,i,y,u||null,!0):2===t?function Hc(t,n,i){const a=Vh(t,n);a&&function uv(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,y,g):3===t&&n.destroyNode(y),null!=h&&function jh(t,n,i,a,u){const h=i[we];h!==Si(i)&&jc(n,t,a,h,u);for(let y=Ct;y<i.length;y++){const T=i[y];Pu(T[ln],T,t,n,a,h)}}(n,t,h,i,u)}}function ac(t,n){return t.createComment(function Fp(t){return t.replace(Bc,n=>n.replace(sc,Gm))}(n))}function Od(t,n,i){return t.createElement(n,i)}function Zm(t,n){n[Fi].changeDetectionScheduler?.notify(),Pu(t,n,n[ar],2,null,null)}function Jm(t,n){const i=t[ht],a=i.indexOf(n);i.splice(a,1)}function cc(t,n){if(t.length<=Ct)return;const i=Ct+n,a=t[i];if(a){const u=a[Do];null!==u&&u!==t&&Jm(u,a),n>0&&(t[i-1][x]=a[x]);const h=ma(t,Ct+n);!function lc(t,n){Zm(t,n),n[fr]=null,n[ne]=null}(a[ln],a);const g=h[co];null!==g&&g.detachView(h[ln]),a[$]=null,a[x]=null,a[F]&=-129}return a}function Nd(t,n){if(!(256&n[F])){const i=n[ar];i.destroyNode&&Pu(t,n,i,3,null,null),function Xm(t){let n=t[Xi];if(!n)return Gp(t[ln],t);for(;n;){let i=null;if(wn(n))i=n[Xi];else{const a=n[Ct];a&&(i=a)}if(!i){for(;n&&!n[x]&&n!==t;)wn(n)&&Gp(n[ln],n),n=n[$];null===n&&(n=t),wn(n)&&Gp(n[ln],n),i=n&&n[x]}n=i}}(n)}}function Gp(t,n){if(!(256&n[F])){n[F]&=-129,n[F]|=256,n[ss]&&function Qe(t){if(Ie(t),je(t))for(let n=0;n<t.producerNode.length;n++)He(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[ss]),function cv(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const u=n[i[a]];if(!(u instanceof Pi)){const h=i[a+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const y=u[h[g]],T=h[g+1];Ko(4,y,T);try{T.call(y)}finally{Ko(5,y,T)}}else{Ko(4,u,h);try{h.call(u)}finally{Ko(5,u,h)}}}}}(t,n),function ey(t,n){const i=t.cleanup,a=n[On];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const g=i[h+3];g>=0?a[g]():a[-g].unsubscribe(),h+=2}else i[h].call(a[i[h+1]]);null!==a&&(n[On]=null);const u=n[Li];if(null!==u){n[Li]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(t,n),1===n[ln].type&&n[ar].destroy();const i=n[Do];if(null!==i&&_n(n[$])){i!==n[$]&&Jm(i,n);const a=n[co];null!==a&&a.detachView(t)}!function $p(t){Oh.delete(t[Mo])}(n)}}function Lh(t,n,i){return function uc(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[fr];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:h}=t.data[a.directiveStart+u];if(h===to.None||h===to.Emulated)return null}return wo(a,i)}}(t,n.parent,i)}function $a(t,n,i,a,u){t.insertBefore(n,i,a,u)}function Wp(t,n,i){t.appendChild(n,i)}function qp(t,n,i,a,u){null!==a?$a(t,n,i,a,u):Wp(t,n,i)}function Vh(t,n){return t.parentNode(n)}function Bh(t,n,i){return ty(t,n,i)}let Yp,kd,ty=function ko(t,n,i){return 40&t.type?wo(t,i):null};function $h(t,n,i,a){const u=Lh(t,a,n),h=n[ar],y=Bh(a.parent||n[ne],a,n);if(null!=u)if(Array.isArray(i))for(let T=0;T<i.length;T++)qp(h,u,i[T],y,!1);else qp(h,u,i,y,!1);void 0!==Yp&&Yp(h,a,n,i,u)}function zc(t,n){if(null!==n){const i=n.type;if(3&i)return wo(n,t);if(4&i)return Mu(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return zc(t,a);{const u=t[n.index];return _n(u)?Mu(-1,u):Si(u)}}if(32&i)return nl(n,t)()||Si(t[n.index]);{const a=ry(t,n);return null!==a?Array.isArray(a)?a[0]:zc(jo(t[ni]),a):zc(t,n.next)}}return null}function ry(t,n){return null!==n?t[ni][ne].projection[n.projection]:null}function Mu(t,n){const i=Ct+t+1;if(i<n.length){const a=n[i],u=a[ln].firstChild;if(null!==u)return zc(a,u)}return n[we]}function Uh(t,n,i,a,u,h,g){for(;null!=i;){const y=a[i.index],T=i.type;if(g&&0===n&&(y&&No(Si(y),a),i.flags|=2),32!=(32&i.flags))if(8&T)Uh(t,n,i.child,a,u,h,!1),jc(n,t,u,y,h);else if(32&T){const k=nl(i,a);let G;for(;G=k();)jc(n,t,u,G,h);jc(n,t,u,y,h)}else 16&T?xu(t,n,a,i,u,h):jc(n,t,u,y,h);i=g?i.projectionNext:i.next}}function Pu(t,n,i,a,u,h){Uh(i,a,t.firstChild,n,u,h,!1)}function xu(t,n,i,a,u,h){const g=i[ni],T=g[ne].projection[a.projection];if(Array.isArray(T))for(let k=0;k<T.length;k++)jc(n,t,u,T[k],h);else{let k=T;const G=g[$];Ph(a)&&(k.flags|=128),Uh(t,n,k,G,u,h,!0)}}function oy(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Qp(t,n,i){const{mergedAttrs:a,classes:u,styles:h}=i;null!==a&&Js(t,n,a),null!==u&&oy(t,n,u),null!==h&&function Xp(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}function Gh(t){return function eg(){if(void 0===kd&&(kd=null,Jt.trustedTypes))try{kd=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kd}()?.createScriptURL(t)||t}class Fd{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fn})`}}function dc(t){return t instanceof Fd?t.changingThisBreaksApplicationSecurity:t}function Yc(t,n){const i=function cy(t){return t instanceof Fd&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${fn})`)}return i===n}const _v=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ml=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ml||{});function Kh(t){const n=Bd();return n?n.sanitize(Ml.URL,t)||"":Yc(t,"URL")?dc(t):function Yh(t){return(t=String(t)).match(_v)?t:"unsafe:"+t}(Cn(t))}function Zh(t){const n=Bd();if(n)return Gh(n.sanitize(Ml.RESOURCE_URL,t)||"");if(Yc(t,"ResourceURL"))return Gh(dc(t));throw new At(904,!1)}function Xh(t,n,i){return function Cv(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Zh:Kh}(n,i)(t)}function Bd(){const t=Bt();return t&&t[Fi].sanitizer}class Qh{}let tf=()=>null;function il(t,n,i=!1){return tf(t,n,i)}class bv{}class vy{}class Ey{resolveComponentFactory(n){throw function vg(t){const n=Error(`No component factory found for ${Dn(t)}.`);return n.ngComponent=t,n}(n)}}let lf=(()=>{class t{static#e=this.NULL=new Ey}return t})();function Iy(){return Xc(di(),Bt())}function Xc(t,n){return new Hu(wo(t,n))}let Hu=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Iy}return t})();function Ty(t){return t instanceof Hu?t.nativeElement:t}class Dy{}let Av=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Sv(){const t=Bt(),i=ri(di().index,t);return(wn(i)?i:t)[ar]}()}return t})(),Rv=(()=>{class t{static#e=this.\u0275prov=Gn({token:t,providedIn:"root",factory:()=>null})}return t})();const Wd={};function Mv(t){const n=ge(null);try{return t()}finally{ge(n)}}function qd(t){return!!Tg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Tg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class cf{constructor(){}supports(n){return qd(n)}create(n){return new Dg(n)}}const Pv=(t,n)=>n;class Dg{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Pv}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,u=0,h=null;for(;i||a;){const g=!a||i&&i.currentIndex<uf(a,u,h)?i:a,y=uf(g,u,h),T=g.currentIndex;if(g===a)u--,a=a._nextRemoved;else if(i=i._next,null==g.previousIndex)u++;else{h||(h=[]);const k=y-u,G=T-u;if(k!=G){for(let Ze=0;Ze<k;Ze++){const st=Ze<h.length?h[Ze]:h[Ze]=0,xt=st+Ze;G<=xt&&xt<k&&(h[Ze]=st+1)}h[g.previousIndex]=G-k}}y!==T&&n(g,y,T)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!qd(n))throw new At(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,h,g,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)h=n[y],g=this._trackByFn(y,h),null!==i&&Object.is(i.trackById,g)?(a&&(i=this._verifyReinsertion(i,h,g,y)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,g,y),a=!0),i=i._next}else u=0,function Ay(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,y=>{g=this._trackByFn(u,y),null!==i&&Object.is(i.trackById,g)?(a&&(i=this._verifyReinsertion(i,y,g,u)),Object.is(i.item,y)||this._addIdentityChange(i,y)):(i=this._mismatch(i,y,g,u),a=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,u){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,u)):n=this._addAfter(new xv(i,a),h,u),n}_verifyReinsertion(n,i,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,h=n._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Sy),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sy),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class xv{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cg{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class Sy{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new Cg,this.map.set(i,a)),a.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uf(t,n,i){const a=t.previousIndex;if(null===a)return a;let u=0;return i&&a<i.length&&(u=i[a]),a+n+u}class df{constructor(){}supports(n){return n instanceof Map||Tg(n)}create(){return new wg}}class wg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Tg(n)))throw new At(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(u,a);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const h=u._prev,g=u._next;return h&&(h._next=g),g&&(g._prev=h),u._next=null,u._prev=null,u}const a=new Gu(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class Gu{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bg(){return new Yd([new cf])}let Yd=(()=>{class t{static#e=this.\u0275prov=Gn({token:t,providedIn:"root",factory:bg});constructor(i){this.factories=i}static create(i,a){if(null!=a){const u=a.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||bg()),deps:[[t,new H,new m]]}}find(i){const a=this.factories.find(u=>u.supports(i));if(null!=a)return a;throw new At(901,!1)}}return t})();function hf(){return new Ua([new df])}let Ua=(()=>{class t{static#e=this.\u0275prov=Gn({token:t,providedIn:"root",factory:hf});constructor(i){this.factories=i}static create(i,a){if(a){const u=a.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||hf()),deps:[[t,new H,new m]]}}find(i){const a=this.factories.find(u=>u.supports(i));if(a)return a;throw new At(901,!1)}}return t})();function Kd(t,n,i,a,u=!1){for(;null!==i;){const h=n[i.index];null!==h&&a.push(Si(h)),_n(h)&&ff(h,a);const g=i.type;if(8&g)Kd(t,n,i.child,a);else if(32&g){const y=nl(i,n);let T;for(;T=y();)a.push(T)}else if(16&g){const y=ry(n,i);if(Array.isArray(y))a.push(...y);else{const T=jo(n[ni]);Kd(T[ln],T,y,a,!0)}}i=u?i.projectionNext:i.next}return a}function ff(t,n){for(let i=Ct;i<t.length;i++){const a=t[i],u=a[ln].firstChild;null!==u&&Kd(a[ln],a,u,n)}t[we]!==t[fr]&&n.push(t[we])}let Ry=[];const Rg={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Vl(t.lView)},consumerOnSignalRead(){this.lView[ss]=this}};function My(t){return Pg(t[Xi])}function pf(t){return Pg(t[x])}function Pg(t){for(;null!==t&&!_n(t);)t=t[x];return t}function xg(t){return t.ngOriginalError}class gc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&xg(n);for(;i&&xg(i);)i=xg(i);return i||null}}const mf=new N("",{providedIn:"root",factory:()=>_r(gc).handleError.bind(void 0)}),vf=new N("",{providedIn:"root",factory:()=>!1}),Lr={};function Xd(t=1){If(qr(),Bt(),xo()+t,!1)}function If(t,n,i,a){if(!a)if(3==(3&n[F])){const h=t.preOrderCheckHooks;null!==h&&ha(n,h,i)}else{const h=t.preOrderHooks;null!==h&&Oo(n,h,0,i)}da(i)}function mc(t,n=U.Default){const i=Bt();return null===i?ti(t,n):cd(di(),i,zt(t),n)}function Tf(){throw new Error("invalid")}function kg(t,n,i,a,u,h){const g=ge(null);try{let y=null;u&ao.SignalBased&&(y=n[a][Ee]),null!==y&&void 0!==y.transformFn&&(h=y.transformFn(h)),u&ao.HasDecoratorInputTransform&&(h=t.inputTransforms[a].call(n,h)),null!==t.setInput?t.setInput(n,y,h,i,a):Vi(n,y,a,h)}finally{ge(g)}}function qu(t,n,i,a,u,h,g,y,T,k,G){const he=n.blueprint.slice();return he[fr]=u,he[F]=204|a,(null!==k||t&&2048&t[F])&&(he[F]|=2048),Di(he),he[$]=he[Ro]=t,he[gn]=i,he[Fi]=g||t&&t[Fi],he[ar]=y||t&&t[ar],he[ii]=T||t&&t[ii]||null,he[ne]=h,he[Mo]=function Lp(){return av++}(),he[qe]=G,he[uo]=k,he[ni]=2==n.type?t[ni]:he,he}function Pl(t,n,i,a,u){let h=t.data[n];if(null===h)h=function Qd(t,n,i,a,u){const h=Ul(),g=Ga(),T=t.data[n]=function Wv(t,n,i,a,u,h){let g=n?n.injectorIndex:-1,y=0;return la()&&(y|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,i,n,a,u);return null===t.firstChild&&(t.firstChild=T),null!==h&&(g?null==h.child&&null!==T.parent&&(h.child=T):null===h.next&&(h.next=T,T.prev=h)),T}(t,n,i,a,u),function B(){return zn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=a,h.attrs=u;const g=function Ma(){const t=zn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return Gi(h,!0),h}function Yu(t,n,i,a){if(0===i)return-1;const u=n.length;for(let h=0;h<i;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function Qc(t,n,i,a,u){const h=xo(),g=2&a;try{da(-1),g&&n.length>lr&&If(t,n,lr,!1),Ko(g?2:0,u),i(a,u)}finally{da(h),Ko(g?3:1,u)}}function Df(t,n,i){if(sr(n)){const a=ge(null);try{const h=n.directiveEnd;for(let g=n.directiveStart;g<h;g++){const y=t.data[g];y.contentQueries&&y.contentQueries(1,i[g],g)}}finally{ge(a)}}}function Jd(t,n,i){aa()&&(function Ly(t,n,i,a){const u=i.directiveStart,h=i.directiveEnd;br(i)&&function By(t,n,i){const a=wo(n,t),u=Jc(i);let g=16;i.signals?g=4096:i.onPush&&(g=64);const y=Ni(t,qu(t,u,null,g,a,n,null,t[Fi].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=y}(n,i,t.data[u+i.componentOffset]),t.firstCreatePass||Rc(i,n),No(a,n);const g=i.initialInputs;for(let y=u;y<h;y++){const T=t.data[y],k=ds(n,t,y,i);No(k,n),null!==g&&Qv(0,y-u,k,T,0,g),Rr(T)&&(ri(i.index,n)[gn]=ds(n,t,y,i))}}(t,n,i,wo(i,n)),64==(64&i.flags)&&$g(t,n,i))}function Cf(t,n,i=wo){const a=n.localNames;if(null!==a){let u=n.index+1;for(let h=0;h<a.length;h+=2){const g=a[h+1],y=-1===g?i(n,t):t[g];t[u++]=y}}}function Jc(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=eh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function eh(t,n,i,a,u,h,g,y,T,k,G){const he=lr+a,Ze=he+u,st=function Uv(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:Lr);return i}(he,Ze),xt="function"==typeof k?k():k;return st[ln]={type:t,blueprint:st,template:i,queries:null,viewQuery:y,declTNode:n,data:st.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:Ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:xt,incompleteFirstPass:!1,ssrId:G}}let Lg=()=>null;function Ny(t,n,i,a,u){for(let h in n){if(!n.hasOwnProperty(h))continue;const g=n[h];if(void 0===g)continue;a??={};let y,T=ao.None;Array.isArray(g)?(y=g[0],T=g[1]):y=g;let k=h;if(null!==u){if(!u.hasOwnProperty(h))continue;k=u[h]}0===t?ky(a,i,k,y,T):ky(a,i,k,y)}return a}function ky(t,n,i,a,u){let h;t.hasOwnProperty(i)?(h=t[i]).push(n,a):h=t[i]=[n,a],void 0!==u&&h.push(u)}function Vs(t,n,i,a,u,h,g,y){const T=wo(n,i);let G,k=n.inputs;!y&&null!=k&&(G=k[a])?(Sf(t,i,G,a,u),br(n)&&function Fy(t,n){const i=ri(n,t);16&i[F]||(i[F]|=64)}(i,n.index)):3&n.type&&(a=function Yv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=g?g(u,n.value||"",a):u,h.setProperty(T,a,u))}function wf(t,n,i,a){if(aa()){const u=null===a?null:{"":-1},h=function Vy(t,n){const i=t.directiveRegistry;let a=null,u=null;if(i)for(let h=0;h<i.length;h++){const g=i[h];if(js(n,g.selectors,!1))if(a||(a=[]),Rr(g))if(null!==g.findHostDirectiveDefs){const y=[];u=u||new Map,g.findHostDirectiveDefs(g,y,u),a.unshift(...y,g),Fo(t,n,y.length)}else a.unshift(g),Fo(t,n,0);else u=u||new Map,g.findHostDirectiveDefs?.(g,a,u),a.push(g)}return null===a?null:[a,u]}(t,i);let g,y;null===h?g=y=null:[g,y]=h,null!==g&&Bg(t,n,i,g,u,y),u&&function go(t,n,i){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const h=i[n[u+1]];if(null==h)throw new At(-301,!1);a.push(n[u],h)}}}(i,a,u)}i.mergedAttrs=Uo(i.mergedAttrs,i.attrs)}function Bg(t,n,i,a,u,h){for(let k=0;k<a.length;k++)Gl(Rc(i,n),t,a[k].type);!function Zv(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let k=0;k<a.length;k++){const G=a[k];G.providersResolver&&G.providersResolver(G)}let g=!1,y=!1,T=Yu(t,n,a.length,null);for(let k=0;k<a.length;k++){const G=a[k];i.mergedAttrs=Uo(i.mergedAttrs,G.hostAttrs),Xv(t,i,n,T,G),ol(T,G,u),null!==G.contentQueries&&(i.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(i.flags|=64);const he=G.type.prototype;!g&&(he.ngOnChanges||he.ngOnInit||he.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),g=!0),!y&&(he.ngOnChanges||he.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),y=!0),T++}!function qv(t,n,i){const u=n.directiveEnd,h=t.data,g=n.attrs,y=[];let T=null,k=null;for(let G=n.directiveStart;G<u;G++){const he=h[G],Ze=i?i.get(he):null,xt=Ze?Ze.outputs:null;T=Ny(0,he.inputs,G,T,Ze?Ze.inputs:null),k=Ny(1,he.outputs,G,k,xt);const sn=null===T||null===g||ps(n)?null:Ug(T,G,g);y.push(sn)}null!==T&&(T.hasOwnProperty("class")&&(n.flags|=8),T.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=y,n.inputs=T,n.outputs=k}(t,i,h)}function $g(t,n,i){const a=i.directiveStart,u=i.directiveEnd,h=i.index,g=function wt(){return zn.lFrame.currentDirectiveIndex}();try{da(h);for(let y=a;y<u;y++){const T=t.data[y],k=n[y];Tt(y),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&th(T,k)}}finally{da(-1),Tt(g)}}function th(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Fo(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function ol(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;Rr(n)&&(i[""]=t)}}function Xv(t,n,i,a,u){t.data[a]=u;const h=u.factory||(u.factory=Ht(u.type)),g=new Pi(h,Rr(u),mc);t.blueprint[a]=g,i[a]=g,function bf(t,n,i,a,u){const h=u.hostBindings;if(h){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const y=~n.index;(function ai(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(g)!=y&&g.push(y),g.push(i,a,h)}}(t,n,a,Yu(t,i,u.hostVars,Lr),u)}function sl(t,n,i,a,u,h){const g=wo(t,n);!function nh(t,n,i,a,u,h,g){if(null==h)t.removeAttribute(n,u,i);else{const y=null==g?Cn(h):g(h,a||"",u);t.setAttribute(n,u,y,i)}}(n[ar],g,h,t.value,i,a,u)}function Qv(t,n,i,a,u,h){const g=h[n];if(null!==g)for(let y=0;y<g.length;)kg(a,i,g[y++],g[y++],g[y++],g[y++])}function Ug(t,n,i){let a=null,u=0;for(;u<i.length;){const h=i[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const g=t[h];for(let y=0;y<g.length;y+=3)if(g[y]===n){a.push(h,g[y+1],g[y+2],i[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function $y(t,n,i,a){return[t,!0,0,n,null,a,null,i,null,null]}function Uy(t,n){const i=t.contentQueries;if(null!==i){const a=ge(null);try{for(let u=0;u<i.length;u+=2){const g=i[u+1];if(-1!==g){const y=t.data[g];Br(i[u]),y.contentQueries(2,n[g],g)}}}finally{ge(a)}}}function Ni(t,n){return t[Xi]?t[Ps][x]=n:t[Xi]=n,t[Ps]=n,n}function jy(t,n,i){Br(0);const a=ge(null);try{n(t,i)}finally{ge(a)}}function oo(t){return t[On]||(t[On]=[])}function jg(t){return t.cleanup||(t.cleanup=[])}function Af(t,n){const i=t[ii],a=i?i.get(gc,null):null;a&&a.handleError(n)}function Sf(t,n,i,a,u){for(let h=0;h<i.length;){const g=i[h++],y=i[h++],T=i[h++];kg(t.data[g],n[g],a,y,T,u)}}function xl(t,n,i){const a=Sa(n,t);!function Ym(t,n,i){t.setValue(n,i)}(t[ar],a,i)}function tE(t,n,i,a){const u=n[F];if(256==(256&u))return;n[Fi].inlineEffectRunner?.flush(),Pa(n);let g=null,y=null;(function nE(t){return 2!==t.type})(t)&&(y=function Ov(t){return t[ss]??function Sg(t){const n=Ry.pop()??Object.create(Rg);return n.lView=t,n}(t)}(n),g=function We(t){return t&&(t.nextProducerIndex=0),ge(t)}(y));try{Di(n),function b(t){return zn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Qc(t,n,i,2,a);const T=3==(3&u);if(T){const he=t.preOrderCheckHooks;null!==he&&ha(n,he,null)}else{const he=t.preOrderHooks;null!==he&&Oo(n,he,0,null),du(n,0)}if(function rh(t){for(let n=My(t);null!==n;n=pf(n)){if(!(n[F]&un.HasTransplantedViews))continue;const i=n[ht];for(let a=0;a<i.length;a++){pn(i[a])}}}(n),Hg(n,0),null!==t.contentQueries&&Uy(t,n),T){const he=t.contentCheckHooks;null!==he&&ha(n,he)}else{const he=t.contentHooks;null!==he&&Oo(n,he,1),du(n,1)}!function Fg(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const u=i[a];if(u<0)da(~u);else{const h=u,g=i[++a],y=i[++a];Ve(g,h),y(2,n[h])}}}finally{da(-1)}}(t,n);const k=t.components;null!==k&&iE(n,k,0);const G=t.viewQuery;if(null!==G&&jy(2,G,a),T){const he=t.viewCheckHooks;null!==he&&ha(n,he)}else{const he=t.viewHooks;null!==he&&Oo(n,he,2),du(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[xs]){for(const he of n[xs])he();n[xs]=null}n[F]&=-73}catch(T){throw Vl(n),T}finally{null!==y&&(function Te(t,n){if(ge(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(je(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)He(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(y,g),function Nv(t){t.lView[ss]!==t&&(t.lView=null,Ry.push(t))}(y)),cu()}}function Hg(t,n){for(let i=My(t);null!==i;i=pf(i))for(let a=Ct;a<i.length;a++)Ol(i[a],n)}function rE(t,n,i){Ol(ri(n,t),i)}function Ol(t,n){Ns(t)&&al(t,n)}function al(t,n){const a=t[ln],u=t[F],h=t[ss];let g=!!(0===n&&16&u);if(g||=!!(64&u&&0===n),g||=!!(1024&u),g||=!(!h?.dirty||!Ue(h)),h&&(h.dirty=!1),t[F]&=-9217,g)tE(a,t,a.template,t[gn]);else if(8192&u){Hg(t,1);const y=a.components;null!==y&&iE(t,y,1)}}function iE(t,n,i){for(let a=0;a<n.length;a++)rE(t,n[a],i)}function ja(t){for(t[Fi].changeDetectionScheduler?.notify();t;){t[F]|=64;const n=jo(t);if(oi(t)&&!n)return t;t=n}return null}class yc{get rootNodes(){const n=this._lView,i=n[ln];return Kd(i,n,i.firstChild,[])}constructor(n,i,a=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(n){this._lView[gn]=n}get destroyed(){return 256==(256&this._lView[F])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[$];if(_n(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(cc(n,a),ma(i,a))}this._attachedToViewContainer=!1}Nd(this._lView[ln],this._lView)}onDestroy(n){Es(this._lView,n)}markForCheck(){ja(this._cdRefInjectingView||this._lView)}detach(){this._lView[F]&=-129}reattach(){ks(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,function zg(t,n=!0){const i=t[Fi],a=i.rendererFactory;a.begin?.();try{!function eE(t){al(t,0);let n=0;for(;su(t);){if(100===n)throw new At(103,!1);n++,al(t,1)}}(t)}catch(h){throw n&&Af(t,h),h}finally{a.end?.(),i.inlineEffectRunner?.flush()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new At(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Zm(this._lView[ln],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new At(902,!1);this._appRef=n,ks(this._lView)}}let Hy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=oE}return t})();function oE(t){return function Gy(t,n,i){if(br(t)&&!i){const a=ri(t.index,n);return new yc(a,a)}return 47&t.type?new yc(n[ni],n):null}(di(),Bt(),16==(16&t))}let eu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=qy;static#t=this.__NG_ENV_ID__=i=>i}return t})();class ih extends eu{constructor(n){super(),this._lView=n}onDestroy(n){return Es(this._lView,n),()=>function sa(t,n){if(null===t[Li])return;const i=t[Li].indexOf(n);-1!==i&&t[Li].splice(i,1)}(this._lView,n)}}function qy(){return new ih(Bt())}const Zg=new Set;function Xs(t){Zg.has(t)||(Zg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Mf(t){return n=>{setTimeout(t,void 0,n)}}const Ta=class Ky extends Xn.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let u=n,h=i||(()=>null),g=a;if(n&&"object"==typeof n){const T=n;u=T.next?.bind(T),h=T.error?.bind(T),g=T.complete?.bind(T)}this.__isAsync&&(h=Mf(h),u&&(u=Mf(u)),g&&(g=Mf(g)));const y=super.subscribe({next:u,error:h,complete:g});return n instanceof kt.w0&&n.add(y),y}};function Zu(...t){}class Ji{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ta(!1),this.onMicrotaskEmpty=new Ta(!1),this.onStable=new Ta(!1),this.onError=new Ta(!1),typeof Zone>"u")throw new At(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&i,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function sE(){const t="function"==typeof Jt.requestAnimationFrame;let n=Jt[t?"requestAnimationFrame":"setTimeout"],i=Jt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Pf(t){const n=()=>{!function aE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Jt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xf(t),t.isCheckStableRunning=!0,tu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,u,h,g,y)=>{if(function oh(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(y))return i.invokeTask(u,h,g,y);try{return Of(t),i.invokeTask(u,h,g,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Xu(t)}},onInvoke:(i,a,u,h,g,y,T)=>{try{return Of(t),i.invoke(u,h,g,y,T)}finally{t.shouldCoalesceRunChangeDetection&&n(),Xu(t)}},onHasTask:(i,a,u,h)=>{i.hasTask(u,h),a===u&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,xf(t),tu(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,a,u,h)=>(i.handleError(u,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ji.isInAngularZone())throw new At(909,!1)}static assertNotInAngularZone(){if(Ji.isInAngularZone())throw new At(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,u){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+u,n,Zy,Zu,Zu);try{return h.runTask(g,i,a)}finally{h.cancelTask(g)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const Zy={};function tu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Of(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xu(t){t._nesting--,tu(t)}class Xy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ta,this.onMicrotaskEmpty=new Ta,this.onStable=new Ta,this.onError=new Ta}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,u){return n.apply(i,a)}}var Da=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Da||{});const cE={destroy(){}};function Qy(t,n){!n&&function Fc(t){if(!be()&&!function er(){return Xe}())throw new At(-203,!1)}();const i=n?.injector??_r(va);if(!function Sl(t){return"browser"===(t??_r(va)).get(wd)}(i))return cE;Xs("NgAfterNextRender");const a=i.get(ah),u=a.handler??=new Jy,h=n?.phase??Da.MixedReadWrite,g=()=>{u.unregister(T),y()},y=i.get(eu).onDestroy(g),T=new sh(i,h,()=>{g(),t()});return u.register(T),{destroy:g}}class sh{constructor(n,i,a){this.phase=i,this.callbackFn=a,this.zone=n.get(Ji),this.errorHandler=n.get(gc,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class Jy{constructor(){this.executingCallbacks=!1,this.buckets={[Da.EarlyRead]:new Set,[Da.Write]:new Set,[Da.MixedReadWrite]:new Set,[Da.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){let n=!1;this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const a of i)n=!0,a.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);return this.deferredCallbacks.clear(),n}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let ah=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of i)u();return!!this.handler?.execute()||i.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Gn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Nf(t,n){const i=ri(n,t),a=i[ln];!function dE(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const u=i[fr];null!==u&&null===i[qe]&&(i[qe]=il(u,i[ii])),Jg(a,i,i[gn])}function Jg(t,n,i){Pa(n);try{const a=t.viewQuery;null!==a&&jy(1,a,i);const u=t.template;null!==u&&Qc(t,n,u,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Uy(t,n),t.staticViewQueries&&jy(2,t.viewQuery,i);const h=t.components;null!==h&&function kf(t,n){for(let i=0;i<n.length;i++)Nf(t,n[i])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[F]&=-5,cu()}}function Ff(t,n,i){let a=i?t.styles:null,u=i?t.classes:null,h=0;if(null!==n)for(let g=0;g<n.length;g++){const y=n[g];"number"==typeof y?h=y:1==h?u=mr(u,y):2==h&&(a=mr(a,y+": "+n[++g]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=u:t.classesWithoutHost=u}class e_ extends lf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=nr(n);return new Qu(i,this.ngModule)}}function em(t){const n=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const a=t[i];void 0!==a&&n.push({propName:Array.isArray(a)?a[0]:a,templateName:i})}return n}class n_{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=So(a);const u=this.injector.get(n,Wd,a);return u!==Wd||i===Wd?u:this.parentInjector.get(n,i,a)}}class Qu extends vy{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=em(n.inputs);if(null!==i)for(const u of a)i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName]);return a}get outputs(){return em(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function is(t){return t.map(ro).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,u){let h=(u=u||this.ngModule)instanceof Ja?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const g=h?new n_(n,h):n,y=g.get(Dy,null);if(null===y)throw new At(407,!1);const he={rendererFactory:y,sanitizer:g.get(Rv,null),inlineEffectRunner:null,afterRenderEventManager:g.get(ah,null),changeDetectionScheduler:g.get(Qh,null)},Ze=y.createRenderer(null,this.componentDef),st=this.componentDef.selectors[0][0]||"div",xt=a?function jv(t,n,i,a){const h=a.get(vf,!1)||i===to.ShadowDom,g=t.selectRootElement(n,h);return function zv(t){Lg(t)}(g),g}(Ze,a,this.componentDef.encapsulation,g):Od(Ze,st,function t_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(st));let sn=512;this.componentDef.signals?sn|=4096:this.componentDef.onPush||(sn|=16);let Tn=null;null!==xt&&(Tn=il(xt,g,!0));const rr=eh(0,null,null,1,0,null,null,null,null,null,null),en=qu(null,rr,null,sn,null,null,he,Ze,g,null,Tn);let Vr,ci;Pa(en);try{const gi=this.componentDef;let Bs,q_=null;gi.findHostDirectiveDefs?(Bs=[],q_=new Map,gi.findHostDirectiveDefs(gi,Bs,q_),Bs.push(gi)):Bs=[gi];const CM=function tm(t,n){const i=t[ln],a=lr;return t[a]=n,Pl(i,a,2,"#host",null)}(en,xt),wM=function Lf(t,n,i,a,u,h,g){const y=u[ln];!function hE(t,n,i,a){for(const u of t)n.mergedAttrs=Uo(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(Ff(n,n.mergedAttrs,!0),null!==i&&Qp(a,i,n))}(a,t,n,g);let T=null;null!==n&&(T=il(n,u[ii]));const k=h.rendererFactory.createRenderer(n,i);let G=16;i.signals?G=4096:i.onPush&&(G=64);const he=qu(u,Jc(i),null,G,u[t.index],t,h,k,null,null,T);return y.firstCreatePass&&Fo(y,t,a.length-1),Ni(u,he),u[t.index]=he}(CM,xt,gi,Bs,en,he,Ze);ci=Zo(rr,lr),xt&&function ZI(t,n,i,a){if(a)Js(t,i,["ng-version","17.1.0"]);else{const{attrs:u,classes:h}=function As(t){const n=[],i=[];let a=1,u=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===u?""!==h&&n.push(h,t[++a]):8===u&&i.push(h);else{if(!Io(u))break;u=h}a++}return{attrs:n,classes:i}}(n.selectors[0]);u&&Js(t,i,u),h&&h.length>0&&oy(t,i,h.join(" "))}}(Ze,gi,xt,a),void 0!==i&&function fE(t,n,i){const a=t.projection=[];for(let u=0;u<n.length;u++){const h=i[u];a.push(null!=h?Array.from(h):null)}}(ci,this.ngContentSelectors,i),Vr=function KI(t,n,i,a,u,h){const g=di(),y=u[ln],T=wo(g,u);Bg(y,u,g,i,null,a);for(let G=0;G<i.length;G++)No(ds(u,y,g.directiveStart+G,g),u);$g(y,u,g),T&&No(T,u);const k=ds(u,y,g.directiveStart+g.componentOffset,g);if(t[gn]=u[gn]=k,null!==h)for(const G of h)G(k,n);return Df(y,g,t),k}(wM,gi,Bs,q_,en,[XI]),Jg(rr,en,null)}finally{cu()}return new r_(this.componentType,Vr,Xc(ci,en),en,ci)}}class r_ extends bv{constructor(n,i,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new yc(u,void 0,!1),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const h=this._rootLView;Sf(h[ln],h,u,n,i),this.previousInputValues.set(n,i),ja(ri(this._tNode.index,h))}}get injector(){return new dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function XI(){const t=di();gl(Bt()[ln],t)}function Nl(t){let n=function pE(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let u;if(Rr(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new At(903,!1);u=n.\u0275dir}if(u){if(i){a.push(u);const g=t;g.inputs=ll(t.inputs),g.inputTransforms=ll(t.inputTransforms),g.declaredInputs=ll(t.declaredInputs),g.outputs=ll(t.outputs);const y=u.hostBindings;y&&yE(t,y);const T=u.viewQuery,k=u.contentQueries;if(T&&gE(t,T),k&&mE(t,k),nu(t,u),$r(t.outputs,u.outputs),Rr(u)&&u.data.animation){const G=t.data;G.animation=(G.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let g=0;g<h.length;g++){const y=h[g];y&&y.ngInherit&&y(t),y===Nl&&(i=!1)}}n=Object.getPrototypeOf(n)}!function lh(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=n+=u.hostVars,u.hostAttrs=Uo(u.hostAttrs,i=Uo(i,u.hostAttrs))}}(a)}function nu(t,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const a=n.inputs[i];if(void 0!==a&&(t.inputs[i]=a,t.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){const u=Array.isArray(a)?a[0]:a;if(!n.inputTransforms.hasOwnProperty(u))continue;t.inputTransforms??={},t.inputTransforms[u]=n.inputTransforms[u]}}}function ll(t){return t===mi?{}:t===Sr?[]:t}function gE(t,n){const i=t.viewQuery;t.viewQuery=i?(a,u)=>{n(a,u),i(a,u)}:n}function mE(t,n){const i=t.contentQueries;t.contentQueries=i?(a,u,h)=>{n(a,u,h),i(a,u,h)}:n}function yE(t,n){const i=t.hostBindings;t.hostBindings=i?(a,u)=>{n(a,u),i(a,u)}:n}function a_(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const u=n[a];Array.isArray(u)&&u[3]&&(i[a]=u[3])}t.inputTransforms=i}function w(t,n){return!n||null===n.firstChild||Ph(t)}function R(t,n,i,a=!0){const u=n[ln];if(function lv(t,n,i,a){const u=Ct+a,h=i.length;a>0&&(i[u-1][x]=n),a<h-Ct?(n[x]=i[u],mu(i,Ct+a,n)):(i.push(n),n[x]=null),n[$]=i;const g=n[Do];null!==g&&i!==g&&function Qm(t,n){const i=t[ht];n[ni]!==n[$][$][ni]&&(t[F]|=un.HasTransplantedViews),null===i?t[ht]=[n]:i.push(n)}(g,n);const y=n[co];null!==y&&y.insertView(t),ks(n),n[F]|=128}(u,n,t,i),a){const g=Mu(i,t),y=n[ar],T=Vh(y,t[we]);null!==T&&function Km(t,n,i,a,u,h){a[fr]=u,a[ne]=n,Pu(t,a,i,1,u,h)}(u,t[ne],y,n,T,g)}const h=n[qe];null!==h&&null!==h.firstChild&&(h.firstChild=null)}let X=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=De}return t})();function De(){return En(di(),Bt())}const et=X,Dt=class extends et{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Xc(this._hostTNode,this._hostLView)}get injector(){return new dr(this._hostTNode,this._hostLView)}get parentInjector(){const n=pa(this._hostTNode,this._hostLView);if(Xa(n)){const i=fa(n,this._hostLView),a=Fs(n);return new dr(i[ln].data[a+8],i)}return new dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=hn(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(n,i,a){let u,h;"number"==typeof a?u=a:null!=a&&(u=a.index,h=a.injector);const y=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(y,u,w(this._hostTNode,null)),y}createComponent(n,i,a,u,h){const g=n&&!function Qo(t){return"function"==typeof t}(n);let y;if(g)y=i;else{const xt=i||{};y=xt.index,a=xt.injector,u=xt.projectableNodes,h=xt.environmentInjector||xt.ngModuleRef}const T=g?n:new Qu(nr(n)),k=a||this.parentInjector;if(!h&&null==T.ngModule){const sn=(g?k:this.parentInjector).get(Ja,null);sn&&(h=sn)}nr(T.componentType??{});const st=T.create(k,u,null,h);return this.insertImpl(st.hostView,y,w(this._hostTNode,null)),st}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,a){const u=n._lView;if(function Wr(t){return _n(t[$])}(u)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const T=u[$],k=new Dt(T,T[ne],T[$]);k.detach(k.indexOf(n))}}const h=this._adjustIndex(i),g=this._lContainer;return R(g,u,h,a),n.attachToViewContainerRef(),mu(Sn(g),h,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=hn(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=cc(this._lContainer,i);a&&(ma(Sn(this._lContainer),i),Nd(a[ln],a))}detach(n){const i=this._adjustIndex(n,-1),a=cc(this._lContainer,i);return a&&null!=ma(Sn(this._lContainer),i)?new yc(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function hn(t){return t[8]}function Sn(t){return t[8]||(t[8]=[])}function En(t,n){let i;const a=n[t.index];return _n(a)?i=a:(i=$y(a,n,null,t),n[t.index]=i,Ni(n,i)),Or(i,n,t,a),new Dt(i,t,n)}let Or=function Bi(t,n,i,a){if(t[we])return;let u;u=8&i.type?Si(a):function pr(t,n){const i=t[ar],a=i.createComment(""),u=wo(n,t);return $a(i,Vh(i,u),a,function hv(t,n){return t.nextSibling(n)}(i,u),!1),a}(n,i),t[we]=u},gr=()=>!1;function Ho(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Wf(t,n,i,a,u,h,g,y){const T=Bt(),k=qr(),G=t+lr,he=k.firstCreatePass?function tw(t,n,i,a,u,h,g,y,T){const k=n.consts,G=Pl(n,t,4,g||null,Hs(k,y));wf(n,i,G,Hs(k,T)),gl(n,G);const he=G.tView=eh(2,G,a,u,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k,null);return null!==n.queries&&(n.queries.template(n,G),he.queries=n.queries.embeddedTView(G)),G}(G,k,T,n,i,a,u,h,g):k.data[G];Gi(he,!1);const Ze=c0(k,T,he,t);pl()&&$h(k,T,Ze,he),No(Ze,T);const st=$y(Ze,T,Ze,he);return T[G]=st,Ni(T,st),function jr(t,n,i){return gr(t,n,i)}(st,he,T),Ii(he)&&Jd(k,T,he),null!=g&&Cf(T,he,y),Wf}let c0=function u0(t,n,i,a){return Wi(!0),n[ar].createComment("")};function VE(t,n,i,a){const u=Bt();return Ho(u,E(),n)&&(qr(),sl(Ri(),u,t,n,i,a)),VE}function ep(t,n,i,a){return Ho(t,E(),i)?n+Cn(i)+a:Lr}function tp(t,n,i,a,u,h){const y=function dh(t,n,i,a){const u=Ho(t,n,i);return Ho(t,n+1,a)||u}(t,function _(){return zn.lFrame.bindingIndex}(),i,u);return A(2),y?n+Cn(i)+a+Cn(u)+h:Lr}function T_(t,n){return t<<17|n<<2}function td(t){return t>>17&32767}function BE(t){return 2|t}function fh(t){return(131068&t)>>2}function $E(t,n){return-131069&t|n<<2}function UE(t){return 1|t}function j0(t,n,i,a){const u=t[i+1],h=null===n;let g=a?td(u):fh(u),y=!1;for(;0!==g&&(!1===y||h);){const k=t[g+1];Bw(t[g],n)&&(y=!0,t[g+1]=a?UE(k):BE(k)),g=a?td(k):fh(k)}y&&(t[i+1]=a?BE(u):UE(u))}function Bw(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Zs(t,n)>=0}function jE(t,n,i){const a=Bt();return Ho(a,E(),n)&&Vs(qr(),Ri(),a,t,n,a[ar],i,!1),jE}function zE(t,n,i,a,u){const g=u?"class":"style";Sf(t,i,n.inputs[g],g,a)}function HE(t,n){return function kl(t,n,i,a){const u=Bt(),h=qr(),g=A(2);h.firstUpdatePass&&function X0(t,n,i,a){const u=t.data;if(null===u[i+1]){const h=u[xo()],g=function Z0(t,n){return n>=t.expandoStartIndex}(t,i);(function tT(t,n){return 0!=(t.flags&(n?8:16))})(h,a)&&null===n&&!g&&(n=!1),n=function Yw(t,n,i,a){const u=function Pn(t){const n=zn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(i=cm(i=GE(null,t,n,i,a),n.attrs,a),h=null);else{const g=n.directiveStylingLast;if(-1===g||t[g]!==u)if(i=GE(u,t,n,i,a),null===h){let T=function Kw(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==fh(a))return t[td(a)]}(t,n,a);void 0!==T&&Array.isArray(T)&&(T=GE(null,t,n,T[1],a),T=cm(T,n.attrs,a),function Zw(t,n,i,a){t[td(i?n.classBindings:n.styleBindings)]=a}(t,n,a,T))}else h=function Xw(t,n,i){let a;const u=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<u;h++)a=cm(a,t[h].hostAttrs,i);return cm(a,n.attrs,i)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),i}(u,h,n,a),function Lw(t,n,i,a,u,h){let g=h?n.classBindings:n.styleBindings,y=td(g),T=fh(g);t[a]=i;let G,k=!1;if(Array.isArray(i)?(G=i[1],(null===G||Zs(i,G)>0)&&(k=!0)):G=i,u)if(0!==T){const Ze=td(t[y+1]);t[a+1]=T_(Ze,y),0!==Ze&&(t[Ze+1]=$E(t[Ze+1],a)),t[y+1]=function kw(t,n){return 131071&t|n<<17}(t[y+1],a)}else t[a+1]=T_(y,0),0!==y&&(t[y+1]=$E(t[y+1],a)),y=a;else t[a+1]=T_(T,0),0===y?y=a:t[T+1]=$E(t[T+1],a),T=a;k&&(t[a+1]=BE(t[a+1])),j0(t,G,a,!0),j0(t,G,a,!1),function Vw(t,n,i,a,u){const h=u?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&Zs(h,n)>=0&&(i[a+1]=UE(i[a+1]))}(n,G,t,a,h),g=T_(y,T),h?n.classBindings=g:n.styleBindings=g}(u,h,n,i,g,a)}}(h,t,g,a),n!==Lr&&Ho(u,g,n)&&function J0(t,n,i,a,u,h,g,y){if(!(3&n.type))return;const T=t.data,k=T[y+1],G=function Fw(t){return 1==(1&t)}(k)?eT(T,n,i,u,fh(k),g):void 0;D_(G)||(D_(h)||function Nw(t){return 2==(2&t)}(k)&&(h=eT(T,null,i,u,y,g)),function Zp(t,n,i,a,u){if(n)u?t.addClass(i,a):t.removeClass(i,a);else{let h=-1===a.indexOf("-")?void 0:oc.DashCase;null==u?t.removeStyle(i,a,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=oc.Important),t.setStyle(i,a,u,h))}}(a,g,Sa(xo(),i),u,h))}(h,h.data[xo()],u,u[ar],t,u[g+1]=function tb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Dn(dc(t)))),t}(n,i),a,g)}(t,n,null,!0),HE}function GE(t,n,i,a,u){let h=null;const g=i.directiveEnd;let y=i.directiveStylingLast;for(-1===y?y=i.directiveStart:y++;y<g&&(h=n[y],a=cm(a,h.hostAttrs,u),h!==t);)y++;return null!==t&&(i.directiveStylingLast=y),a}function cm(t,n,i){const a=i?1:2;let u=-1;if(null!==n)for(let h=0;h<n.length;h++){const g=n[h];"number"==typeof g?u=g:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jo(t,g,!!i||n[++h]))}return void 0===t?null:t}function eT(t,n,i,a,u,h){const g=null===n;let y;for(;u>0;){const T=t[u],k=Array.isArray(T),G=k?T[1]:T,he=null===G;let Ze=i[u+1];Ze===Lr&&(Ze=he?Sr:void 0);let st=he?Ks(Ze,a):G===a?Ze:void 0;if(k&&!D_(st)&&(st=Ks(T,a)),D_(st)&&(y=st,g))return y;const xt=t[u+1];u=g?td(xt):fh(xt)}if(null!==n){let T=h?n.residualClasses:n.residualStyles;null!=T&&(y=Ks(T,a))}return y}function D_(t){return void 0!==t}function C_(t,n,i,a){const u=Bt(),h=qr(),g=lr+t,y=u[ar],T=h.firstCreatePass?function Cb(t,n,i,a,u,h){const g=n.consts,T=Pl(n,t,2,a,Hs(g,u));return wf(n,i,T,Hs(g,h)),null!==T.attrs&&Ff(T,T.attrs,!1),null!==T.mergedAttrs&&Ff(T,T.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,T),T}(g,h,u,n,i,a):h.data[g],k=oT(h,u,T,y,n,t);u[g]=k;const G=Ii(T);return Gi(T,!0),Qp(y,k,T),32!=(32&T.flags)&&pl()&&$h(h,u,k,T),0===function Bl(){return zn.lFrame.elementDepthCount}()&&No(k,u),function $l(){zn.lFrame.elementDepthCount++}(),G&&(Jd(h,u,T),Df(h,T,u)),null!==a&&Cf(u,T),C_}function w_(){let t=di();Ga()?fl():(t=t.parent,Gi(t,!1));const n=t;(function vt(t){return zn.skipHydrationRootTNode===t})(n)&&function ca(){zn.skipHydrationRootTNode=null}(),function rd(){zn.lFrame.elementDepthCount--}();const i=qr();return i.firstCreatePass&&(gl(i,t),sr(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Cc(t){return 0!=(8&t.flags)}(n)&&zE(i,n,Bt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function gp(t){return 0!=(16&t.flags)}(n)&&zE(i,n,Bt(),n.stylesWithoutHost,!1),w_}function ZE(t,n,i,a){return C_(t,n,i,a),w_(),ZE}let oT=(t,n,i,a,u,h)=>(Wi(!0),Od(a,u,function xa(){return zn.lFrame.currentNamespace}()));function XE(t,n,i){const a=Bt(),u=qr(),h=t+lr,g=u.firstCreatePass?function Ab(t,n,i,a,u){const h=n.consts,g=Hs(h,a),y=Pl(n,t,8,"ng-container",g);return null!==g&&Ff(y,g,!0),wf(n,i,y,Hs(h,u)),null!==n.queries&&n.queries.elementStart(n,y),y}(h,u,a,n,i):u.data[h];Gi(g,!0);const y=sT(u,a,g,t);return a[h]=y,pl()&&$h(u,a,y,g),No(y,a),Ii(g)&&(Jd(u,a,g),Df(u,g,a)),null!=i&&Cf(a,g),XE}function QE(){let t=di();const n=qr();return Ga()?fl():(t=t.parent,Gi(t,!1)),n.firstCreatePass&&(gl(n,t),sr(t)&&n.queries.elementEnd(t)),QE}function JE(t,n,i){return XE(t,n,i),QE(),JE}let sT=(t,n,i,a)=>(Wi(!0),ac(n[ar],""));function aT(){return Bt()}const ph=void 0;var Pb=["en",[["a","p"],["AM","PM"],ph],[["AM","PM"],ph,ph],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ph,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ph,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ph,"{1} 'at' {0}",ph],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mb(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let cp={};function eI(t){const n=function xb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=dT(n);if(i)return i;const a=n.split("-")[0];if(i=dT(a),i)return i;if("en"===a)return Pb;throw new At(701,!1)}function uT(t){return eI(t)[up.PluralCase]}function dT(t){return t in cp||(cp[t]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[t]),cp[t]}var up=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(up||{});const dp="en-US";let hT=dp;function rI(t){return!!t&&"function"==typeof t.then}function LT(t){return!!t&&"function"==typeof t.subscribe}function iI(t,n,i,a){const u=Bt(),h=qr(),g=di();return function BT(t,n,i,a,u,h,g){const y=Ii(a),k=t.firstCreatePass&&jg(t),G=n[gn],he=oo(n);let Ze=!0;if(3&a.type||g){const sn=wo(a,n),Tn=g?g(sn):sn,rr=he.length,en=g?ci=>g(Si(ci[a.index])):a.index;let Vr=null;if(!g&&y&&(Vr=function bA(t,n,i,a){const u=t.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const g=u[h];if(g===i&&u[h+1]===a){const y=n[On],T=u[h+2];return y.length>T?y[T]:null}"string"==typeof g&&(h+=2)}return null}(t,n,u,a.index)),null!==Vr)(Vr.__ngLastListenerFn__||Vr).__ngNextListenerFn__=h,Vr.__ngLastListenerFn__=h,Ze=!1;else{h=UT(a,n,G,h,!1);const ci=i.listen(Tn,u,h);he.push(h,ci),k&&k.push(u,en,rr,rr+1)}}else h=UT(a,n,G,h,!1);const st=a.outputs;let xt;if(Ze&&null!==st&&(xt=st[u])){const sn=xt.length;if(sn)for(let Tn=0;Tn<sn;Tn+=2){const gi=n[xt[Tn]][xt[Tn+1]].subscribe(h),Bs=he.length;he.push(h,gi),k&&k.push(u,a.index,Bs,-(Bs+1))}}}(h,u,u[ar],g,t,n,a),iI}function $T(t,n,i,a){try{return Ko(6,n,i),!1!==i(a)}catch(u){return Af(t,u),!1}finally{Ko(7,n,i)}}function UT(t,n,i,a,u){return function h(g){if(g===Function)return a;ja(t.componentOffset>-1?ri(t.index,n):n);let T=$T(n,i,a,g),k=h.__ngNextListenerFn__;for(;k;)T=$T(n,i,k,g)&&T,k=k.__ngNextListenerFn__;return u&&!1===T&&g.preventDefault(),T}}function jT(t=1){return function od(t){return(zn.lFrame.contextLView=function oa(t,n){for(;t>0;)n=n[Ro],t--;return n}(t,zn.lFrame.contextLView))[gn]}(t)}function AA(t,n){let i=null;const a=function Yo(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let u=0;u<n.length;u++){const h=n[u];if("*"!==h){if(null===a?js(t,h,!0):no(a,h))return u}else i=u}return i}function zT(t){const n=Bt()[ni][ne];if(!n.projection){const a=n.projection=function Ao(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}(t?t.length:1,null),u=a.slice();let h=n.child;for(;null!==h;){const g=t?AA(h,t):0;null!==g&&(u[g]?u[g].projectionNext=h:a[g]=h,u[g]=h),h=h.next}}}function HT(t,n=0,i){const a=Bt(),u=qr(),h=Pl(u,lr+t,16,null,i||null);null===h.projection&&(h.projection=n),fl(),(!a[qe]||la())&&32!=(32&h.flags)&&function Kp(t,n,i){xu(n[ar],0,n,i,Lh(t,i,n),Bh(i.parent||n[ne],i,n))}(u,a,h)}function oI(t,n,i){return sI(t,"",n,"",i),oI}function sI(t,n,i,a,u){const h=Bt(),g=ep(h,n,i,a);return g!==Lr&&Vs(qr(),Ri(),h,t,g,h[ar],u,!1),sI}function SA(){return this._results[Symbol.iterator]()}class aI{static#e=Symbol.iterator;get changes(){return this._changes??=new Ta}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=aI.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=SA)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const a=function _o(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function gu(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],h=n[a];if(i&&(u=i(u),h=i(h)),h!==u)return!1}return!0}(this._results,a,i))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let gm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=PA}return t})();const RA=gm,MA=class extends RA{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const u=function d(t,n,i,a){const u=n.tView,y=qu(t,u,i,4096&t[F]?4096:16,null,n,null,null,null,a?.injector??null,a?.dehydratedView??null);y[Do]=t[n.index];const k=t[co];return null!==k&&(y[co]=k.createEmbeddedView(u)),Jg(u,y,i),y}(this._declarationLView,this._declarationTContainer,n,{injector:i,dehydratedView:a});return new yc(u)}};function PA(){return M_(di(),Bt())}function M_(t,n){return 4&t.type?new MA(n,t,Xc(t,n)):null}class lI{constructor(n){this.queryList=n,this.matches=null}clone(){return new lI(this.queryList)}setDirty(){this.queryList.setDirty()}}class cI{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let h=0;h<a;h++){const g=i.getByIndex(h);u.push(this.queries[g.indexInDeclarationView].clone())}return new cI(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==rD(n,i).matches&&this.queries[i].setDirty()}}class JT{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class uI{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const u=null!==i?i.length:0,h=this.getByIndex(a).embeddedTView(n,u);h&&(h.indexInDeclarationView=a,null!==i?i.push(h):i=[h])}return null!==i?new uI(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class dI{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new dI(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(n,i,xA(i,h)),this.matchTNodeWithReadOption(n,i,wi(i,n,h,!1,!1))}else a===gm?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,wi(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Hu||u===X||u===gm&&4&i.type)this.addMatch(i.index,-2);else{const h=wi(i,n,u,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function xA(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function NA(t,n,i,a){return-1===i?function OA(t,n){return 11&t.type?Xc(t,n):4&t.type?M_(t,n):null}(n,t):-2===i?function kA(t,n,i){return i===Hu?Xc(n,t):i===gm?M_(n,t):i===X?En(n,t):void 0}(t,n,a):ds(t,t[ln],i,n)}function eD(t,n,i,a){const u=n[co].queries[a];if(null===u.matches){const h=t.data,g=i.matches,y=[];for(let T=0;T<g.length;T+=2){const k=g[T];y.push(k<0?null:NA(n,h[k],g[T+1],i.metadata.read))}u.matches=y}return u.matches}function hI(t,n,i,a){const u=t.queries.getByIndex(i),h=u.matches;if(null!==h){const g=eD(t,n,u,i);for(let y=0;y<h.length;y+=2){const T=h[y];if(T>0)a.push(g[y/2]);else{const k=h[y+1],G=n[-T];for(let he=Ct;he<G.length;he++){const Ze=G[he];Ze[Do]===Ze[$]&&hI(Ze[ln],Ze,k,a)}if(null!==G[ht]){const he=G[ht];for(let Ze=0;Ze<he.length;Ze++){const st=he[Ze];hI(st[ln],st,k,a)}}}}}return a}function tD(t,n,i){const a=new aI(4==(4&i));(function Gv(t,n,i,a){const u=oo(n);u.push(i),t.firstCreatePass&&jg(t).push(a,u.length-1)})(t,n,a,a.destroy),null===n[co]&&(n[co]=new cI),n[co].queries.push(new lI(a))}function nD(t,n,i){null===t.queries&&(t.queries=new uI),t.queries.track(new dI(n,i))}function rD(t,n){return t.queries.getByIndex(n)}function iD(t,n,i,a){const u=qr();if(u.firstCreatePass){const h=di();nD(u,new JT(n,i,a),h.index),function LA(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(u,t),2==(2&i)&&(u.staticContentQueries=!0)}tD(u,Bt(),i)}function oD(t,n,i){const a=qr();a.firstCreatePass&&(nD(a,new JT(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),tD(a,Bt(),n)}function sD(t){const n=Bt(),i=qr(),a=xr();Br(a+1);const u=rD(i,a);if(t.dirty&&function tr(t){return 4==(4&t[F])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const h=u.crossesNgTemplate?hI(i,n,a,[]):eD(i,n,u,a);t.reset(h,Ty),t.notifyOnChanges()}return!0}return!1}function aD(){return function FA(t,n){return t[co].queries[n].queryList}(Bt(),xr())}function lD(t){return function zs(t,n){return t[n]}(function au(){return zn.lFrame.contextLView}(),lr+t)}function _D(t,n=""){const i=Bt(),a=qr(),u=t+lr,h=a.firstCreatePass?Pl(a,u,1,n,null):a.data[u],g=vD(a,i,h,n,t);i[u]=g,pl()&&$h(a,i,g,h),Gi(h,!1)}let vD=(t,n,i,a,u)=>(Wi(!0),function rl(t,n){return t.createText(n)}(n[ar],a));function fI(t){return P_("",t,""),fI}function P_(t,n,i){const a=Bt(),u=ep(a,t,n,i);return u!==Lr&&xl(a,xo(),u),P_}function pI(t,n,i,a,u){const h=Bt(),g=tp(h,t,n,i,a,u);return g!==Lr&&xl(h,xo(),g),pI}function gI(t,n,i,a,u){if(t=zt(t),Array.isArray(t))for(let h=0;h<t.length;h++)gI(t[h],n,i,a,u);else{const h=qr(),g=Bt(),y=di();let T=nc(t)?t:zt(t.provide);const k=Cp(t),G=1048575&y.providerIndexes,he=y.directiveStart,Ze=y.providerIndexes>>20;if(nc(t)||!t.multi){const st=new Pi(k,u,mc),xt=yI(T,n,u?G:G+Ze,he);-1===xt?(Gl(Rc(y,g),h,T),mI(h,t,n.length),n.push(T),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),i.push(st),g.push(st)):(i[xt]=st,g[xt]=st)}else{const st=yI(T,n,G+Ze,he),xt=yI(T,n,G,G+Ze),Tn=xt>=0&&i[xt];if(u&&!Tn||!u&&!(st>=0&&i[st])){Gl(Rc(y,g),h,T);const rr=function JA(t,n,i,a,u){const h=new Pi(t,i,mc);return h.multi=[],h.index=n,h.componentProviders=0,AD(h,u,a&&!i),h}(u?QA:XA,i.length,u,a,k);!u&&Tn&&(i[xt].providerFactory=rr),mI(h,t,n.length,0),n.push(T),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),i.push(rr),g.push(rr)}else mI(h,t,st>-1?st:xt,AD(i[u?xt:st],k,!u&&a));!u&&a&&Tn&&i[xt].componentProviders++}}}function mI(t,n,i,a){const u=nc(n),h=function bm(t){return!!t.useClass}(n);if(u||h){const T=(h?zt(n.useClass):n).prototype.ngOnDestroy;if(T){const k=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const G=k.indexOf(i);-1===G?k.push(i,[a,T]):k[G+1].push(a,T)}else k.push(i,T)}}}function AD(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function yI(t,n,i,a){for(let u=i;u<a;u++)if(n[u]===t)return u;return-1}function XA(t,n,i,a){return _I(this.multi,[])}function QA(t,n,i,a){const u=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=ds(i,i[ln],this.providerFactory.index,a);h=y.slice(0,g),_I(u,h);for(let T=g;T<y.length;T++)h.push(y[T])}else h=[],_I(u,h);return h}function _I(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function SD(t,n=[]){return i=>{i.providersResolver=(a,u)=>function ZA(t,n,i){const a=qr();if(a.firstCreatePass){const u=Rr(t);gI(i,a.data,a.blueprint,u,!0),gI(n,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,n)}}class gh{}class RD{}function eS(t,n){return new vI(t,n??null,[])}class vI extends gh{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new e_(this);const u=Ei(n);this._bootstrapComponents=Ts(u.bootstrap),this._r3Injector=Om(n,i,[{provide:gh,useValue:this},{provide:lf,useValue:this.componentFactoryResolver},...a],Dn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class EI extends RD{constructor(n){super(),this.moduleType=n}create(n){return new vI(this.moduleType,n,[])}}class MD extends gh{constructor(n){super(),this.componentFactoryResolver=new e_(this),this.instance=null;const i=new Tu([...n.providers,{provide:gh,useValue:this},{provide:lf,useValue:this.componentFactoryResolver}],n.parent||Iu(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function PD(t,n,i=null){return new MD({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let nS=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=Ed(0,i.type),u=a.length>0?PD([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,u)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Gn({token:t,providedIn:"environment",factory:()=>new t(ti(Ja))})}return t})();function xD(t){Xs("NgStandalone"),t.getStandaloneInjector=n=>n.get(nS).getOrCreateStandaloneInjector(t)}function UD(t,n,i){const a=function Po(){const t=zn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,u=Bt();return u[a]===Lr?function cl(t,n,i){return t[n]=i}(u,a,i?n.call(i):n()):function Ju(t,n){return t[n]}(u,a)}function qD(t,n){return M_(t,n)}class cC{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const ZS=new cC("17.1.0");let uC=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();class XS{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let QS=(()=>{class t{compileModuleSync(i){return new EI(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),h=Ts(Ei(i).declarations).reduce((g,y)=>{const T=nr(y);return T&&g.push(new Qu(T)),g},[]);return new XS(a,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),k_=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Et.X(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gC=new N(""),mC=new N("");let AI,wR=(()=>{class t{constructor(i,a,u){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,AI||(function bR(t){AI=t}(u),u.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ji.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,u){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==h),i()},a)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:u})}whenStable(i,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,u){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(ti(Ji),ti(yC),ti(mC))};static#t=this.\u0275prov=Gn({token:t,factory:t.\u0275fac})}return t})(),yC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return AI?.findTestabilityInTree(this,i,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const _C=new N("Application Initializer");let SI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=_r(_C,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const u of this.appInits){const h=u();if(rI(h))i.push(h);else if(LT(h)){const g=new Promise((y,T)=>{h.subscribe({complete:y,error:T})});i.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(u=>{this.reject(u)}),0===i.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const RI=new N("appBootstrapListener");function IC(t,n){return Array.isArray(n)?n.reduce(IC,t):{...t,...n}}let mh=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_r(mf),this.afterRenderEffectManager=_r(ah),this.componentTypes=[],this.components=[],this.isStable=_r(k_).hasPendingTasks.pipe((0,mt.U)(i=>!i)),this._injector=_r(Ja)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const u=i instanceof vy;if(!this._injector.get(SI).done)throw!u&&Hi(i),new At(405,!1);let g;g=u?i:this._injector.get(lf).resolveComponentFactory(i),this.componentTypes.push(g.componentType);const y=function SR(t){return t.isBoundToModule}(g)?void 0:this._injector.get(gh),k=g.create(va.NULL,[],a||g.selector,y),G=k.location.nativeElement,he=k.injector.get(gC,null);return he?.registerApplication(G),k.onDestroy(()=>{this.detachView(k.hostView),L_(this.components,k),he?.unregisterApplication(G)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new At(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{try{this.afterRenderEffectManager.execute()}catch(i){this.internalErrorHandler(i)}this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;L_(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get(RI,[]);[...this._bootstrapListeners,...a].forEach(u=>u(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>L_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new At(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function L_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}let MR=(()=>{class t{constructor(){this.zone=_r(Ji),this.applicationRef=_r(mh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PR(){const t=_r(Ji),n=_r(gc);return i=>t.runOutsideAngular(()=>n.handleError(i))}let OR=(()=>{class t{constructor(){this.subscription=new kt.w0,this.initialized=!1,this.zone=_r(Ji),this.pendingTasks=_r(k_)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ji.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ji.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const B_=new N("LocaleId",{providedIn:"root",factory:()=>_r(B_,U.Optional|U.SkipSelf)||function NR(){return typeof $localize<"u"&&$localize.locale||dp}()}),kR=new N("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),MI=new N("PlatformDestroyListeners");let wC=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const u=function lE(t="zone.js",n){return"noop"===t?new Xy:"zone.js"===t?new Ji(n):t}(a?.ngZone,function CC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const h=function tS(t,n,i){return new vI(t,n,i)}(i.moduleType,this.injector,function DC(t){return[{provide:Ji,useFactory:t},{provide:_a,multi:!0,useFactory:()=>{const n=_r(MR,{optional:!0});return()=>n.initialize()}},{provide:_a,multi:!0,useFactory:()=>{const n=_r(OR);return()=>{n.initialize()}}},{provide:mf,useFactory:PR}]}(()=>u)),g=h.injector.get(gc,null);return u.runOutsideAngular(()=>{const y=u.onError.subscribe({next:T=>{g.handleError(T)}});h.onDestroy(()=>{L_(this._modules,h),y.unsubscribe()})}),function EC(t,n,i){try{const a=i();return rI(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(g,u,()=>{const y=h.injector.get(SI);return y.runInitializers(),y.donePromise.then(()=>(function fT(t){Nt(t,"Expected localeId to be defined"),"string"==typeof t&&(hT=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(B_,dp)||dp),this._moduleDoBootstrap(h),h))})})}bootstrapModule(i,a=[]){const u=IC({},a);return function AR(t,n,i){const a=new EI(i);return Promise.resolve(a)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(i){const a=i.injector.get(mh);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!i.instance.ngDoBootstrap)throw new At(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new At(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(MI,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(ti(va))};static#t=this.\u0275prov=Gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),nd=null;const bC=new N("AllowMultipleToken");function AC(t,n,i=[]){const a=`Platform: ${n}`,u=new N(a);return(h=[])=>{let g=PI();if(!g||g.injector.get(bC,!1)){const y=[...i,...h,{provide:u,useValue:!0}];t?t(y):function LR(t){if(nd&&!nd.get(bC,!1))throw new At(400,!1);(function vC(){!function Zt(t){Ut=t}(()=>{throw new At(600,!1)})})(),nd=t;const n=t.get(wC);(function RC(t){t.get(Pp,null)?.forEach(i=>i())})(t)}(function SC(t=[],n){return va.create({name:n,providers:[{provide:rc,useValue:"platform"},{provide:MI,useValue:new Set([()=>nd=null])},...t]})}(y,a))}return function VR(t){const n=PI();if(!n)throw new At(401,!1);return n}()}}function PI(){return nd?.get(wC)??null}function $R(){return!1}function UR(){}const WR=AC(null,"core",[]);let qR=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(a){return new(a||t)(ti(mh))};static#t=this.\u0275mod=os({type:t});static#n=this.\u0275inj=Be({})}return t})();function EM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function TM(t,n){const i=nr(t),a=n.elementInjector||Iu();return new Qu(i).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function DM(t){const n=nr(t);if(!n)return null;const i=new Qu(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},721:(an,tt,M)=>{"use strict";M.d(tt,{Ot:()=>le,ZF:()=>We,hX:()=>ze,z6:()=>Ee});var l=M(3182),P=M(9212),_e=M(1920);class le{constructor(He){return He}}class Ee{constructor(){return(0,l.C6)()}}const ve=new P.OlP("angularfire2._apps"),Ke={provide:le,useFactory:function ye(xe){return xe&&1===xe.length?xe[0]:new le((0,l.Mq)())},deps:[[new P.FiY,ve]]},ie={provide:Ee,deps:[[new P.FiY,ve]]};function oe(xe){return(He,je)=>{const Ie=He.runOutsideAngular(()=>xe(je));return new le(Ie)}}let Oe=(()=>{class xe{constructor(je){(0,l.KN)("angularfire",_e.q4.full,"core"),(0,l.KN)("angularfire",_e.q4.full,"app"),(0,l.KN)("angular",P.q4F.full,je.toString())}static \u0275fac=function(Ie){return new(Ie||xe)(P.LFG(P.Lbi))};static \u0275mod=P.oAB({type:xe});static \u0275inj=P.cJS({providers:[Ke,ie]})}return xe})();function ze(xe,...He){return{ngModule:Oe,providers:[{provide:ve,useFactory:oe(xe),multi:!0,deps:[P.R0b,P.zs3,_e.HU,...He]}]}}const We=(0,_e.u3)(l.ZF,!0)},9535:(an,tt,M)=>{"use strict";M.d(tt,{gx:()=>Fe,dh:()=>ct,Xb:()=>Vt,v0:()=>ce,AR:()=>Ie,LS:()=>Kn,e5:()=>mr,w7:()=>wr,EA:()=>W});var l=M(1920),P=M(9212),_e=M(721),le=M(3182),Ee=M(8217),ie=(M(9058),M(534),M(7879),M(4537),M(5592));function Oe(Ir){return new ie.y(function(Ne){return{unsubscribe:(0,Ee.w)(Ir,Ne.next.bind(Ne),Ne.error.bind(Ne),Ne.complete.bind(Ne))}})}class Fe{constructor(Ne){return Ne}}class ct{constructor(){return(0,l.vb)("auth")}}const Te=new P.OlP("angularfire2.auth-instances");function Qe(Ir){return(Ne,Y)=>{const J=Ne.runOutsideAngular(()=>Ir(Y));return new Fe(J)}}const xe={provide:ct,deps:[[new P.FiY,Te]]},He={provide:Fe,useFactory:function Ue(Ir,Ne){const Y=(0,l.JM)("auth",Ir,Ne);return Y&&new Fe(Y)},deps:[[new P.FiY,Te],_e.Ot]};let je=(()=>{class Ir{constructor(){(0,le.KN)("angularfire",l.q4.full,"auth")}static \u0275fac=function(J){return new(J||Ir)};static \u0275mod=P.oAB({type:Ir});static \u0275inj=P.cJS({providers:[He,xe]})}return Ir})();function Ie(Ir,...Ne){return{ngModule:je,providers:[{provide:Te,useFactory:Qe(Ir),multi:!0,deps:[P.R0b,P.zs3,l.HU,_e.z6,[new P.FiY,l.Rf],...Ne]}]}}const W=(0,l.u3)(Oe,!0),Vt=(0,l.u3)(Ee.aa,!0),ce=(0,l.u3)(Ee.o,!0),Kn=(0,l.u3)(Ee.a5,!0),mr=(0,l.u3)(Ee.ab,!0),wr=(0,l.u3)(Ee.C,!0)},7217:(an,tt,M)=>{"use strict";M.d(tt,{Dh:()=>ve,GT:()=>ge,cc:()=>Pe,hO:()=>ze,on:()=>ie,pX:()=>Ee,xv:()=>Ke});var l=M(9212),P=M(1920),_e=M(7142);const le=["ngOnDestroy"],Ee=(Te,Ue,Qe,xe={})=>new Proxy(Te,{get:(He,je)=>Qe.runOutsideAngular(()=>{if(Te[je])return xe?.spy?.get&&xe.spy.get(je,Te[je]),Te[je];if(le.indexOf(je)>-1)return()=>{};const Ie=Ue.toPromise().then(ue=>{const W=ue?.[je];return"function"==typeof W?W.bind(ue):W?.then?W.then(ke=>Qe.run(()=>ke)):Qe.run(()=>W)});return new Proxy(()=>{},{get:(ue,W)=>Ie[W],apply:(ue,W,ke)=>Ie.then(Re=>{const nt=Re?.(...ke);return xe?.spy?.apply&&xe.spy.apply(je,ke,nt),nt})})})}),ge=(Te,Ue)=>{Ue.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(xe=>{Object.defineProperty(Te.prototype,xe,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,xe))})})};class ye{constructor(Ue){return Ue}}const ve=new l.OlP("angularfire2.app.options"),Ke=new l.OlP("angularfire2.app.name");function ie(Te,Ue,Qe){const He="object"==typeof Qe&&Qe||{};He.name=He.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const Ie=_e.Z.apps.filter(ue=>ue&&ue.name===He.name)[0]||Ue.runOutsideAngular(()=>_e.Z.initializeApp(Te,He));try{if(JSON.stringify(Te)!==JSON.stringify(Ie.options)){const ue=!!module.hot;oe("error",`${Ie.name} Firebase App already initialized with different options${ue?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ye(Ie)}const oe=(Te,...Ue)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Te](...Ue)},Oe={provide:ye,useFactory:ie,deps:[ve,l.R0b,[new l.FiY,Ke]]};let ze=(()=>{class Te{static initializeApp(Qe,xe){return{ngModule:Te,providers:[{provide:ve,useValue:Qe},{provide:Ke,useValue:xe}]}}constructor(Qe){_e.Z.registerVersion("angularfire",P.q4.full,"core"),_e.Z.registerVersion("angularfire",P.q4.full,"app-compat"),_e.Z.registerVersion("angular",l.q4F.full,Qe.toString())}static \u0275fac=function(xe){return new(xe||Te)(l.LFG(l.Lbi))};static \u0275mod=l.oAB({type:Te});static \u0275inj=l.cJS({providers:[Oe]})}return Te})();function Pe(Te,Ue,Qe,xe,He){const[,je,Ie]=globalThis.\u0275AngularfireInstanceCache.find(ue=>ue[0]===Te)||[];if(je)return function Fe(Te,Ue){try{return Te.toString()===Ue.toString()}catch{return Te===Ue}}(He,Ie)||(We("error",`${Ue} was already initialized on the ${Qe} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:He,was:Ie})),je;{const ue=xe();return globalThis.\u0275AngularfireInstanceCache.push([Te,ue,He]),ue}}const ct=typeof module<"u"&&!!module.hot,We=(Te,...Ue)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Te](...Ue)};globalThis.\u0275AngularfireInstanceCache||=[]},3960:(an,tt,M)=>{"use strict";M.d(tt,{gg:()=>lt,hJ:()=>Fn,BS:()=>In,JU:()=>zt,_1:()=>mt,QT:()=>Cn,ad:()=>Z,Cm:()=>ut,pl:()=>Be});var l=M(1920),P=M(9212),_e=M(721),le=M(9535),Ee=M(3182),ge=M(5776),ye=M(5592),ve=M(7398),Ke=function(){return Ke=Object.assign||function($e){for(var gt,yt=1,Jt=arguments.length;yt<Jt;yt++)for(var Mn in gt=arguments[yt])Object.prototype.hasOwnProperty.call(gt,Mn)&&($e[Mn]=gt[Mn]);return $e},Ke.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var oe={includeMetadataChanges:!1};function Oe(be,$e){return void 0===$e&&($e=oe),new ye.y(function(gt){return{unsubscribe:(0,ge.cf)(be,$e,{next:gt.next.bind(gt),error:gt.error.bind(gt),complete:gt.complete.bind(gt)})}})}function Pe(be,$e){return void 0===$e&&($e={}),function ze(be){return Oe(be,{includeMetadataChanges:!0})}(be).pipe((0,ve.U)(function(gt){return Fe(gt,$e)}))}function Fe(be,$e){var gt;void 0===$e&&($e={});var yt=be.data($e);return be.exists()&&"object"==typeof yt&&null!==yt&&$e.idField?Ke(Ke({},yt),((gt={})[$e.idField]=be.id,gt)):yt}function Re(be,$e){return void 0===$e&&($e={}),function ue(be){return Oe(be,{includeMetadataChanges:!0}).pipe((0,ve.U)(function($e){return $e.docs}))}(be).pipe((0,ve.U)(function(gt){return gt.map(function(yt){return Fe(yt,$e)})}))}class lt{constructor($e){return $e}}const Ut="firestore",ot=new P.OlP("angularfire2.firestore-instances");function ce(be){return($e,gt)=>{const yt=$e.runOutsideAngular(()=>be(gt));return new lt(yt)}}const Me={provide:class Vt{constructor(){return(0,l.vb)(Ut)}},deps:[[new P.FiY,ot]]},fe={provide:lt,useFactory:function Se(be,$e){const gt=(0,l.JM)(Ut,be,$e);return gt&&new lt(gt)},deps:[[new P.FiY,ot],_e.Ot]};let rt=(()=>{class be{constructor(){(0,Ee.KN)("angularfire",l.q4.full,"fst")}static \u0275fac=function(yt){return new(yt||be)};static \u0275mod=P.oAB({type:be});static \u0275inj=P.cJS({providers:[fe,Me]})}return be})();function ut(be,...$e){return{ngModule:rt,providers:[{provide:ot,useFactory:ce(be),multi:!0,deps:[P.R0b,P.zs3,l.HU,_e.z6,[new P.FiY,le.dh],[new P.FiY,l.Rf],...$e]}]}}const In=(0,l.u3)(Re,!0),mt=(0,l.u3)(Pe,!0),Fn=(0,l.u3)(ge.hJ,!0),zt=(0,l.u3)(ge.JU,!0),Cn=(0,l.u3)(ge.QT,!0),Z=(0,l.u3)(ge.ad,!0),Be=(0,l.u3)(ge.pl,!0)},1920:(an,tt,M)=>{"use strict";M.d(tt,{q4:()=>Pe,iC:()=>nt,HU:()=>je,Rf:()=>Te,vb:()=>We,JM:()=>ct,u3:()=>Ut});var l=M(9212),P=M(3182),_e=M(1954),Ee=M(2631);const ye=new class ge extends Ee.v{}(class le extends _e.o{constructor(Zt,ot){super(Zt,ot),this.scheduler=Zt,this.work=ot}schedule(Zt,ot=0){return ot>0?super.schedule(Zt,ot):(this.delay=ot,this.state=Zt,this.scheduler.flush(this),this)}execute(Zt,ot){return ot>0||this.closed?super.execute(Zt,ot):this._execute(Zt,ot)}requestAsyncId(Zt,ot,Se=0){return null!=Se&&Se>0||null==Se&&this.delay>0?super.requestAsyncId(Zt,ot,Se):(Zt.flush(this),0)}});var Ke=M(6321),ie=M(5592),oe=M(9397),Oe=M(5137),ze=M(3093);const Pe=new l.GfV("ANGULARFIRE2_VERSION");function ct(Vt,Zt,ot){if(Zt){if(1===Zt.length)return Zt[0];const Me=Zt.filter(fe=>fe.app===ot);if(1===Me.length)return Me[0]}return ot.container.getProvider(Vt).getImmediate({optional:!0})}const We=(Vt,Zt)=>{const ot=Zt?[Zt]:(0,P.C6)(),Se=[];return ot.forEach(ce=>{ce.container.getProvider(Vt).instances.forEach(fe=>{Se.includes(fe)||Se.push(fe)})}),Se};class Te{constructor(){return We(Ue)}}const Ue="app-check";function Qe(){}class xe{zone;delegate;constructor(Zt,ot=ye){this.zone=Zt,this.delegate=ot}now(){return this.delegate.now()}schedule(Zt,ot,Se){const ce=this.zone;return this.delegate.schedule(function(fe){ce.runGuarded(()=>{Zt.apply(this,[fe])})},ot,Se)}}class He{zone;task=null;constructor(Zt){this.zone=Zt}call(Zt,ot){const Se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe)),ot.pipe((0,oe.b)({next:Se,complete:Se,error:Se})).subscribe(Zt).add(Se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let je=(()=>{class Vt{ngZone;outsideAngular;insideAngular;constructor(ot){this.ngZone=ot,this.outsideAngular=ot.runOutsideAngular(()=>new xe(Zone.current)),this.insideAngular=ot.run(()=>new xe(Zone.current,Ke.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Se){return new(Se||Vt)(l.LFG(l.R0b))};static \u0275prov=l.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})();function Ie(){const Vt=globalThis.\u0275AngularFireScheduler;if(!Vt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Vt}function W(Vt){return Ie().ngZone.run(()=>Vt())}function nt(Vt){return function it(Vt){return function(ot){return(ot=ot.lift(new He(Vt.ngZone))).pipe((0,Oe.R)(Vt.outsideAngular),(0,ze.Q)(Vt.insideAngular))}}(Ie())(Vt)}const lt=(Vt,Zt)=>function(){const Se=arguments;return Zt&&setTimeout(()=>{"scheduled"===Zt.state&&Zt.invoke()},10),W(()=>Vt.apply(void 0,Se))},Ut=(Vt,Zt)=>function(){let ot;const Se=arguments;for(let Me=0;Me<arguments.length;Me++)"function"==typeof Se[Me]&&(Zt&&(ot||=W(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe))),Se[Me]=lt(Se[Me],ot));const ce=function ue(Vt){return Ie().ngZone.runOutsideAngular(()=>Vt())}(()=>Vt.apply(this,Se));if(!Zt){if(ce instanceof ie.y){const Me=Ie();return ce.pipe((0,Oe.R)(Me.outsideAngular),(0,ze.Q)(Me.insideAngular))}return W(()=>ce)}return ce instanceof ie.y?ce.pipe(nt):ce instanceof Promise?W(()=>new Promise((Me,fe)=>ce.then(rt=>W(()=>Me(rt)),rt=>W(()=>fe(rt))))):"function"==typeof ce&&ot?function(){return setTimeout(()=>{ot&&"scheduled"===ot.state&&ot.invoke()},10),ce.apply(this,arguments)}:W(()=>ce)}},95:(an,tt,M)=>{"use strict";M.d(tt,{NI:()=>N,oH:()=>_r,cw:()=>Zn,sg:()=>mo,u5:()=>fr,nD:()=>ta,Fd:()=>bs,qQ:()=>Yo,Cf:()=>Ie,JU:()=>Fe,a5:()=>Ln,JJ:()=>Kn,JL:()=>Fn,On:()=>bn,UX:()=>ln,kI:()=>ke,_Y:()=>vr});var l=M(9212),P=M(6814),_e=M(2459),le=M(5592),Ee=M(7453),ge=M(4829),ye=M(4564),ve=M(8251),Ke=M(7400),ie=M(2714),Oe=M(7398);let ze=(()=>{class F{constructor(x,ne){this._renderer=x,this._elementRef=ne,this.onChange=qe=>{},this.onTouched=()=>{}}setProperty(x,ne){this._renderer.setProperty(this._elementRef.nativeElement,x,ne)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(ne){return new(ne||F)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:F})}return F})(),Pe=(()=>{class F extends ze{static#e=this.\u0275fac=(()=>{let x;return function(qe){return(x||(x=l.n5z(F)))(qe||F)}})();static#t=this.\u0275dir=l.lG2({type:F,features:[l.qOj]})}return F})();const Fe=new l.OlP("NgValueAccessor"),Te={provide:Fe,useExisting:(0,l.Gpc)(()=>xe),multi:!0},Qe=new l.OlP("CompositionEventMode");let xe=(()=>{class F extends ze{constructor(x,ne,qe){super(x,ne),this._compositionMode=qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ue(){const F=(0,P.q)()?(0,P.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(ne){return new(ne||F)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Qe,8))};static#t=this.\u0275dir=l.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ne,qe){1&ne&&l.NdJ("input",function(gn){return qe._handleInput(gn.target.value)})("blur",function(){return qe.onTouched()})("compositionstart",function(){return qe._compositionStart()})("compositionend",function(gn){return qe._compositionEnd(gn.target.value)})},features:[l._Bn([Te]),l.qOj]})}return F})();function He(F){return null==F||("string"==typeof F||Array.isArray(F))&&0===F.length}function je(F){return null!=F&&"number"==typeof F.length}const Ie=new l.OlP("NgValidators"),ue=new l.OlP("NgAsyncValidators"),W=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ke{static min($){return Re($)}static max($){return nt($)}static required($){return function it(F){return He(F.value)?{required:!0}:null}($)}static requiredTrue($){return function lt(F){return!0===F.value?null:{required:!0}}($)}static email($){return function Ut(F){return He(F.value)||W.test(F.value)?null:{email:!0}}($)}static minLength($){return function Vt(F){return $=>He($.value)||!je($.value)?null:$.value.length<F?{minlength:{requiredLength:F,actualLength:$.value.length}}:null}($)}static maxLength($){return Zt($)}static pattern($){return function ot(F){if(!F)return Se;let $,x;return"string"==typeof F?(x="","^"!==F.charAt(0)&&(x+="^"),x+=F,"$"!==F.charAt(F.length-1)&&(x+="$"),$=new RegExp(x)):(x=F.toString(),$=F),ne=>{if(He(ne.value))return null;const qe=ne.value;return $.test(qe)?null:{pattern:{requiredPattern:x,actualValue:qe}}}}($)}static nullValidator($){return null}static compose($){return on($)}static composeAsync($){return Lt($)}}function Re(F){return $=>{if(He($.value)||He(F))return null;const x=parseFloat($.value);return!isNaN(x)&&x<F?{min:{min:F,actual:$.value}}:null}}function nt(F){return $=>{if(He($.value)||He(F))return null;const x=parseFloat($.value);return!isNaN(x)&&x>F?{max:{max:F,actual:$.value}}:null}}function Zt(F){return $=>je($.value)&&$.value.length>F?{maxlength:{requiredLength:F,actualLength:$.value.length}}:null}function Se(F){return null}function ce(F){return null!=F}function Me(F){return(0,l.QGY)(F)?(0,_e.D)(F):F}function fe(F){let $={};return F.forEach(x=>{$=null!=x?{...$,...x}:$}),0===Object.keys($).length?null:$}function rt(F,$){return $.map(x=>x(F))}function $t(F){return F.map($=>function ut(F){return!F.validate}($)?$:x=>$.validate(x))}function on(F){if(!F)return null;const $=F.filter(ce);return 0==$.length?null:function(x){return fe(rt(x,$))}}function qt(F){return null!=F?on($t(F)):null}function Lt(F){if(!F)return null;const $=F.filter(ce);return 0==$.length?null:function(x){return function oe(...F){const $=(0,ye.jO)(F),{args:x,keys:ne}=(0,Ee.D)(F),qe=new le.y(On=>{const{length:gn}=x;if(!gn)return void On.complete();const ii=new Array(gn);let Fi=gn,ar=gn;for(let Xi=0;Xi<gn;Xi++){let Ps=!1;(0,ge.Xf)(x[Xi]).subscribe((0,ve.x)(On,Ro=>{Ps||(Ps=!0,ar--),ii[Xi]=Ro},()=>Fi--,void 0,()=>{(!Fi||!Ps)&&(ar||On.next(ne?(0,ie.n)(ne,ii):ii),On.complete())}))}});return $?qe.pipe((0,Ke.Z)($)):qe}(rt(x,$).map(Me)).pipe((0,Oe.U)(fe))}}function In(F){return null!=F?Lt($t(F)):null}function Xn(F,$){return null===F?[$]:Array.isArray(F)?[...F,$]:[F,$]}function kt(F){return F._rawValidators}function Et(F){return F._rawAsyncValidators}function mt(F){return F?Array.isArray(F)?F:[F]:[]}function Ot(F,$){return Array.isArray(F)?F.includes($):F===$}function fn(F,$){const x=mt($);return mt(F).forEach(qe=>{Ot(x,qe)||x.push(qe)}),x}function At(F,$){return mt($).filter(x=>!Ot(F,x))}class Bn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=qt(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=In(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($=void 0){this.control&&this.control.reset($)}hasError($,x){return!!this.control&&this.control.hasError($,x)}getError($,x){return this.control?this.control.getError($,x):null}}class mn extends Bn{get formDirective(){return null}get path(){return null}}class Ln extends Bn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hn{constructor($){this._cd=$}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kn=(()=>{class F extends Hn{constructor(x){super(x)}static#e=this.\u0275fac=function(ne){return new(ne||F)(l.Y36(Ln,2))};static#t=this.\u0275dir=l.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ne,qe){2&ne&&l.ekj("ng-untouched",qe.isUntouched)("ng-touched",qe.isTouched)("ng-pristine",qe.isPristine)("ng-dirty",qe.isDirty)("ng-valid",qe.isValid)("ng-invalid",qe.isInvalid)("ng-pending",qe.isPending)},features:[l.qOj]})}return F})(),Fn=(()=>{class F extends Hn{constructor(x){super(x)}static#e=this.\u0275fac=function(ne){return new(ne||F)(l.Y36(mn,10))};static#t=this.\u0275dir=l.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ne,qe){2&ne&&l.ekj("ng-untouched",qe.isUntouched)("ng-touched",qe.isTouched)("ng-pristine",qe.isPristine)("ng-dirty",qe.isDirty)("ng-valid",qe.isValid)("ng-invalid",qe.isInvalid)("ng-pending",qe.isPending)("ng-submitted",qe.isSubmitted)},features:[l.qOj]})}return F})();const Jr="VALID",Cn="INVALID",Un="PENDING",Ir="DISABLED";function Ne(F){return(ee(F)?F.validators:F)||null}function J(F,$){return(ee($)?$.asyncValidators:F)||null}function ee(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}class dn{constructor($,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators($),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===Jr}get invalid(){return this.status===Cn}get pending(){return this.status==Un}get disabled(){return this.status===Ir}get enabled(){return this.status!==Ir}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._assignValidators($)}setAsyncValidators($){this._assignAsyncValidators($)}addValidators($){this.setValidators(fn($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(fn($,this._rawAsyncValidators))}removeValidators($){this.setValidators(At($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(At($,this._rawAsyncValidators))}hasValidator($){return Ot(this._rawValidators,$)}hasAsyncValidator($){return Ot(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=Un,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const x=this._parentMarkedDirty($.onlySelf);this.status=Ir,this.errors=null,this._forEachChild(ne=>{ne.disable({...$,onlySelf:!0})}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$,skipPristineCheck:x}),this._onDisabledChange.forEach(ne=>ne(!0))}enable($={}){const x=this._parentMarkedDirty($.onlySelf);this.status=Jr,this._forEachChild(ne=>{ne.enable({...$,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors({...$,skipPristineCheck:x}),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}getRawValue(){return this.value}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jr||this.status===Un)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ir:Jr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=Un,this._hasOwnPendingAsyncValidator=!0;const x=Me(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(ne=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ne,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,x={}){this.errors=$,this._updateControlsErrors(!1!==x.emitEvent)}get($){let x=$;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((ne,qe)=>ne&&ne._find(qe),this)}getError($,x){const ne=x?this.get(x):this;return ne&&ne.errors?ne.errors[$]:null}hasError($,x){return!!this.getError($,x)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Ir:this.errors?Cn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Un)?Un:this._anyControlsHaveStatus(Cn)?Cn:Jr}_anyControlsHaveStatus($){return this._anyControls(x=>x.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){ee($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($){return null}_assignValidators($){this._rawValidators=Array.isArray($)?$.slice():$,this._composedValidatorFn=function Y(F){return Array.isArray(F)?qt(F):F||null}(this._rawValidators)}_assignAsyncValidators($){this._rawAsyncValidators=Array.isArray($)?$.slice():$,this._composedAsyncValidatorFn=function Z(F){return Array.isArray(F)?In(F):F||null}(this._rawAsyncValidators)}}class Zn extends dn{constructor($,x,ne){super(Ne(x),J(ne,x)),this.controls=$,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,x){return this.controls[$]?this.controls[$]:(this.controls[$]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl($,x,ne={}){this.registerControl($,x),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl($,x={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl($,x,ne={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],x&&this.registerControl($,x),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,x={}){(function Ft(F,$,x){F._forEachChild((ne,qe)=>{if(void 0===x[qe])throw new l.vHH(1002,"")})})(this,0,$),Object.keys($).forEach(ne=>{(function Je(F,$,x){const ne=F.controls;if(!($?Object.keys(ne):ne).length)throw new l.vHH(1e3,"");if(!ne[x])throw new l.vHH(1001,"")})(this,!0,ne),this.controls[ne].setValue($[ne],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue($,x={}){null!=$&&(Object.keys($).forEach(ne=>{const qe=this.controls[ne];qe&&qe.patchValue($[ne],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset($={},x={}){this._forEachChild((ne,qe)=>{ne.reset($?$[qe]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},($,x,ne)=>($[ne]=x.getRawValue(),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(x,ne)=>!!ne._syncPendingControls()||x);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(x=>{const ne=this.controls[x];ne&&$(ne,x)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const[x,ne]of Object.entries(this.controls))if(this.contains(x)&&$(ne))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,ne,qe)=>((ne.enabled||this.disabled)&&(x[qe]=ne.value),x))}_reduceChildren($,x){let ne=$;return this._forEachChild((qe,On)=>{ne=x(ne,qe,On)}),ne}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($){return this.controls.hasOwnProperty($)?this.controls[$]:null}}const Ar=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Hr}),Hr="always";function pt(F,$,x=Hr){kn(F,$),$.valueAccessor.writeValue(F.value),(F.disabled||"always"===x)&&$.valueAccessor.setDisabledState?.(F.disabled),function Pr(F,$){$.valueAccessor.registerOnChange(x=>{F._pendingValue=x,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&de(F,$)})}(F,$),function Be(F,$){const x=(ne,qe)=>{$.valueAccessor.writeValue(ne),qe&&$.viewToModelUpdate(ne)};F.registerOnChange(x),$._registerOnDestroy(()=>{F._unregisterOnChange(x)})}(F,$),function Gn(F,$){$.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&de(F,$),"submit"!==F.updateOn&&F.markAsTouched()})}(F,$),function Qn(F,$){if($.valueAccessor.setDisabledState){const x=ne=>{$.valueAccessor.setDisabledState(ne)};F.registerOnDisabledChange(x),$._registerOnDestroy(()=>{F._unregisterOnDisabledChange(x)})}}(F,$)}function Nt(F,$,x=!0){const ne=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(ne),$.valueAccessor.registerOnTouched(ne)),ir(F,$),F&&($._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function Rt(F,$){F.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange($)})}function kn(F,$){const x=kt(F);null!==$.validator?F.setValidators(Xn(x,$.validator)):"function"==typeof x&&F.setValidators([x]);const ne=Et(F);null!==$.asyncValidator?F.setAsyncValidators(Xn(ne,$.asyncValidator)):"function"==typeof ne&&F.setAsyncValidators([ne]);const qe=()=>F.updateValueAndValidity();Rt($._rawValidators,qe),Rt($._rawAsyncValidators,qe)}function ir(F,$){let x=!1;if(null!==F){if(null!==$.validator){const qe=kt(F);if(Array.isArray(qe)&&qe.length>0){const On=qe.filter(gn=>gn!==$.validator);On.length!==qe.length&&(x=!0,F.setValidators(On))}}if(null!==$.asyncValidator){const qe=Et(F);if(Array.isArray(qe)&&qe.length>0){const On=qe.filter(gn=>gn!==$.asyncValidator);On.length!==qe.length&&(x=!0,F.setAsyncValidators(On))}}}const ne=()=>{};return Rt($._rawValidators,ne),Rt($._rawAsyncValidators,ne),x}function de(F,$){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function pe(F,$){if(!F.hasOwnProperty("model"))return!1;const x=F.model;return!!x.isFirstChange()||!Object.is($,x.currentValue)}function me(F,$){if(!$)return null;let x,ne,qe;return Array.isArray($),$.forEach(On=>{On.constructor===xe?x=On:function se(F){return Object.getPrototypeOf(F.constructor)===Pe}(On)?ne=On:qe=On}),qe||ne||x||null}function Mn(F,$){const x=F.indexOf($);x>-1&&F.splice(x,1)}function Wn(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}Promise.resolve();const N=class extends dn{constructor($=null,x,ne){super(Ne(x),J(ne,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ee(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=Wn($)?$.value:$)}setValue($,x={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue($,x={}){this.setValue($,x)}reset($=this.defaultValue,x={}){this._applyFormState($),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){Mn(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){Mn(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){Wn($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}},cn={provide:Ln,useExisting:(0,l.Gpc)(()=>bn)},yn=Promise.resolve();let bn=(()=>{class F extends Ln{constructor(x,ne,qe,On,gn,ii){super(),this._changeDetectorRef=gn,this.callSetDisabledState=ii,this.control=new N,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=x,this._setValidators(ne),this._setAsyncValidators(qe),this.valueAccessor=me(0,On)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const ne=x.name.previousValue;this.formDirective.removeControl({name:ne,path:this._getPath(ne)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),pe(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){yn.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const ne=x.isDisabled.currentValue,qe=0!==ne&&(0,l.VuI)(ne);yn.then(()=>{qe&&!this.control.disabled?this.control.disable():!qe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?function It(F,$){return[...$.path,F]}(x,this._parent):[x]}static#e=this.\u0275fac=function(ne){return new(ne||F)(l.Y36(mn,9),l.Y36(Ie,10),l.Y36(ue,10),l.Y36(Fe,10),l.Y36(l.sBO,8),l.Y36(Ar,8))};static#t=this.\u0275dir=l.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[l.lbL.None,"disabled","isDisabled"],model:[l.lbL.None,"ngModel","model"],options:[l.lbL.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([cn]),l.qOj,l.TTD]})}return F})(),vr=(()=>{class F{static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275dir=l.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return F})(),ae=(()=>{class F{static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275mod=l.oAB({type:F});static#n=this.\u0275inj=l.cJS({})}return F})();const ti=new l.OlP("NgModelWithFormControlWarning"),ji={provide:Ln,useExisting:(0,l.Gpc)(()=>_r)};let _r=(()=>{class F extends Ln{set isDisabled(x){}static#e=this._ngModelWarningSentOnce=!1;constructor(x,ne,qe,On,gn){super(),this._ngModelWarningConfig=On,this.callSetDisabledState=gn,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(x),this._setAsyncValidators(ne),this.valueAccessor=me(0,qe)}ngOnChanges(x){if(this._isControlChanged(x)){const ne=x.form.previousValue;ne&&Nt(ne,this,!1),pt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}pe(x,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Nt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_isControlChanged(x){return x.hasOwnProperty("form")}static#t=this.\u0275fac=function(ne){return new(ne||F)(l.Y36(Ie,10),l.Y36(ue,10),l.Y36(Fe,10),l.Y36(ti,8),l.Y36(Ar,8))};static#n=this.\u0275dir=l.lG2({type:F,selectors:[["","formControl",""]],inputs:{form:[l.lbL.None,"formControl","form"],isDisabled:[l.lbL.None,"disabled","isDisabled"],model:[l.lbL.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([ji]),l.qOj,l.TTD]})}return F})();const So={provide:mn,useExisting:(0,l.Gpc)(()=>mo)};let mo=(()=>{class F extends mn{constructor(x,ne,qe){super(),this.callSetDisabledState=qe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(x),this._setAsyncValidators(ne)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ir(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const ne=this.form.get(x.path);return pt(ne,x,this.callSetDisabledState),ne.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),ne}getControl(x){return this.form.get(x.path)}removeControl(x){Nt(x.control||null,x,!1),function be(F,$){const x=F.indexOf($);x>-1&&F.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,ne){this.form.get(x.path).setValue(ne)}onSubmit(x){return this.submitted=!0,function U(F,$){F._syncPendingControls(),$.forEach(x=>{const ne=x.control;"submit"===ne.updateOn&&ne._pendingChange&&(x.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const ne=x.control,qe=this.form.get(x.path);ne!==qe&&(Nt(ne||null,x),(F=>F instanceof N)(qe)&&(pt(qe,x,this.callSetDisabledState),x.control=qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const ne=this.form.get(x.path);(function Ge(F,$){kn(F,$)})(ne,x),ne.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const ne=this.form.get(x.path);ne&&function ft(F,$){return ir(F,$)}(ne,x)&&ne.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kn(this.form,this),this._oldForm&&ir(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ne){return new(ne||F)(l.Y36(Ie,10),l.Y36(ue,10),l.Y36(Ar,8))};static#t=this.\u0275dir=l.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(ne,qe){1&ne&&l.NdJ("submit",function(gn){return qe.onSubmit(gn)})("reset",function(){return qe.onReset()})},inputs:{form:[l.lbL.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([So]),l.qOj,l.TTD]})}return F})();function gs(F){return"number"==typeof F?F:parseFloat(F)}let Zi=(()=>{class F{constructor(){this._validator=Se}ngOnChanges(x){if(this.inputName in x){const ne=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(ne),this._validator=this._enabled?this.createValidator(ne):Se,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275dir=l.lG2({type:F,features:[l.TTD]})}return F})();const Io={provide:Ie,useExisting:(0,l.Gpc)(()=>bs),multi:!0};let bs=(()=>{class F extends Zi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=x=>gs(x),this.createValidator=x=>nt(x)}static#e=this.\u0275fac=(()=>{let x;return function(qe){return(x||(x=l.n5z(F)))(qe||F)}})();static#t=this.\u0275dir=l.lG2({type:F,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ne,qe){2&ne&&l.uIk("max",qe._enabled?qe.max:null)},inputs:{max:"max"},features:[l._Bn([Io]),l.qOj]})}return F})();const js={provide:Ie,useExisting:(0,l.Gpc)(()=>Yo),multi:!0};let Yo=(()=>{class F extends Zi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=x=>gs(x),this.createValidator=x=>Re(x)}static#e=this.\u0275fac=(()=>{let x;return function(qe){return(x||(x=l.n5z(F)))(qe||F)}})();static#t=this.\u0275dir=l.lG2({type:F,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ne,qe){2&ne&&l.uIk("min",qe._enabled?qe.min:null)},inputs:{min:"min"},features:[l._Bn([js]),l.qOj]})}return F})();const ms={provide:Ie,useExisting:(0,l.Gpc)(()=>ta),multi:!0};let ta=(()=>{class F extends Zi{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=x=>function ps(F){return"number"==typeof F?F:parseInt(F,10)}(x),this.createValidator=x=>Zt(x)}static#e=this.\u0275fac=(()=>{let x;return function(qe){return(x||(x=l.n5z(F)))(qe||F)}})();static#t=this.\u0275dir=l.lG2({type:F,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(ne,qe){2&ne&&l.uIk("maxlength",qe._enabled?qe.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l._Bn([ms]),l.qOj]})}return F})(),si=(()=>{class F{static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275mod=l.oAB({type:F});static#n=this.\u0275inj=l.cJS({imports:[ae]})}return F})(),fr=(()=>{class F{static withConfig(x){return{ngModule:F,providers:[{provide:Ar,useValue:x.callSetDisabledState??Hr}]}}static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275mod=l.oAB({type:F});static#n=this.\u0275inj=l.cJS({imports:[si]})}return F})(),ln=(()=>{class F{static withConfig(x){return{ngModule:F,providers:[{provide:ti,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:Ar,useValue:x.callSetDisabledState??Hr}]}}static#e=this.\u0275fac=function(ne){return new(ne||F)};static#t=this.\u0275mod=l.oAB({type:F});static#n=this.\u0275inj=l.cJS({imports:[si]})}return F})()},6593:(an,tt,M)=>{"use strict";M.d(tt,{Dx:()=>mn,b2:()=>mt,q6:()=>In});var l=M(9212),P=M(6814);class _e extends P.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends _e{static makeCurrent(){(0,P.HT)(new le)}onAndCancel(J,Z,ee){return J.addEventListener(Z,ee),()=>{J.removeEventListener(Z,ee)}}dispatchEvent(J,Z){J.dispatchEvent(Z)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,Z){return(Z=Z||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,Z){return"window"===Z?window:"document"===Z?J:"body"===Z?J.body:null}getBaseHref(J){const Z=function ge(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==Z?null:function ye(Y){return new URL(Y,document.baseURI).pathname}(Z)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,P.Mx)(document.cookie,J)}}let Ee=null,Ke=(()=>{class Y{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ee){return new(ee||Y)};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const ie=new l.OlP("EventManagerPlugins");let oe=(()=>{class Y{constructor(Z,ee){this._zone=ee,this._eventNameToPlugin=new Map,Z.forEach(Je=>{Je.manager=this}),this._plugins=Z.slice().reverse()}addEventListener(Z,ee,Je){return this._findPluginFor(ee).addEventListener(Z,ee,Je)}getZone(){return this._zone}_findPluginFor(Z){let ee=this._eventNameToPlugin.get(Z);if(ee)return ee;if(ee=this._plugins.find(Ft=>Ft.supports(Z)),!ee)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(Z,ee),ee}static#e=this.\u0275fac=function(ee){return new(ee||Y)(l.LFG(ie),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();class Oe{constructor(J){this._doc=J}}const ze="ng-app-id";let Pe=(()=>{class Y{constructor(Z,ee,Je,Ft={}){this.doc=Z,this.appId=ee,this.nonce=Je,this.platformId=Ft,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,P.PM)(Ft),this.resetHostNodes()}addStyles(Z){for(const ee of Z)1===this.changeUsageCount(ee,1)&&this.onStyleAdded(ee)}removeStyles(Z){for(const ee of Z)this.changeUsageCount(ee,-1)<=0&&this.onStyleRemoved(ee)}ngOnDestroy(){const Z=this.styleNodesInDOM;Z&&(Z.forEach(ee=>ee.remove()),Z.clear());for(const ee of this.getAllStyles())this.onStyleRemoved(ee);this.resetHostNodes()}addHost(Z){this.hostNodes.add(Z);for(const ee of this.getAllStyles())this.addStyleToHost(Z,ee)}removeHost(Z){this.hostNodes.delete(Z)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Z){for(const ee of this.hostNodes)this.addStyleToHost(ee,Z)}onStyleRemoved(Z){const ee=this.styleRef;ee.get(Z)?.elements?.forEach(Je=>Je.remove()),ee.delete(Z)}collectServerRenderedStyles(){const Z=this.doc.head?.querySelectorAll(`style[${ze}="${this.appId}"]`);if(Z?.length){const ee=new Map;return Z.forEach(Je=>{null!=Je.textContent&&ee.set(Je.textContent,Je)}),ee}return null}changeUsageCount(Z,ee){const Je=this.styleRef;if(Je.has(Z)){const Ft=Je.get(Z);return Ft.usage+=ee,Ft.usage}return Je.set(Z,{usage:ee,elements:[]}),ee}getStyleElement(Z,ee){const Je=this.styleNodesInDOM,Ft=Je?.get(ee);if(Ft?.parentNode===Z)return Je.delete(ee),Ft.removeAttribute(ze),Ft;{const dn=this.doc.createElement("style");return this.nonce&&dn.setAttribute("nonce",this.nonce),dn.textContent=ee,this.platformIsServer&&dn.setAttribute(ze,this.appId),Z.appendChild(dn),dn}}addStyleToHost(Z,ee){const Je=this.getStyleElement(Z,ee),Ft=this.styleRef,dn=Ft.get(ee)?.elements;dn?dn.push(Je):Ft.set(ee,{elements:[Je],usage:1})}resetHostNodes(){const Z=this.hostNodes;Z.clear(),Z.add(this.doc.head)}static#e=this.\u0275fac=function(ee){return new(ee||Y)(l.LFG(P.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const Fe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ct=/%COMP%/g,xe=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function Ie(Y,J){return J.map(Z=>Z.replace(ct,Y))}let ue=(()=>{class Y{constructor(Z,ee,Je,Ft,dn,Zn,xn,yr=null){this.eventManager=Z,this.sharedStylesHost=ee,this.appId=Je,this.removeStylesOnCompDestroy=Ft,this.doc=dn,this.platformId=Zn,this.ngZone=xn,this.nonce=yr,this.rendererByCompId=new Map,this.platformIsServer=(0,P.PM)(Zn),this.defaultRenderer=new W(Z,dn,xn,this.platformIsServer)}createRenderer(Z,ee){if(!Z||!ee)return this.defaultRenderer;this.platformIsServer&&ee.encapsulation===l.ifc.ShadowDom&&(ee={...ee,encapsulation:l.ifc.Emulated});const Je=this.getOrCreateRenderer(Z,ee);return Je instanceof Ut?Je.applyToHost(Z):Je instanceof lt&&Je.applyStyles(),Je}getOrCreateRenderer(Z,ee){const Je=this.rendererByCompId;let Ft=Je.get(ee.id);if(!Ft){const dn=this.doc,Zn=this.ngZone,xn=this.eventManager,yr=this.sharedStylesHost,Jn=this.removeStylesOnCompDestroy,Cr=this.platformIsServer;switch(ee.encapsulation){case l.ifc.Emulated:Ft=new Ut(xn,yr,ee,this.appId,Jn,dn,Zn,Cr);break;case l.ifc.ShadowDom:return new it(xn,yr,Z,ee,dn,Zn,this.nonce,Cr);default:Ft=new lt(xn,yr,ee,Jn,dn,Zn,Cr)}Je.set(ee.id,Ft)}return Ft}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ee){return new(ee||Y)(l.LFG(oe),l.LFG(Pe),l.LFG(l.AFp),l.LFG(xe),l.LFG(P.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();class W{constructor(J,Z,ee,Je){this.eventManager=J,this.doc=Z,this.ngZone=ee,this.platformIsServer=Je,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(J,Z){return Z?this.doc.createElementNS(Fe[Z]||Z,J):this.doc.createElement(J)}createComment(J){return this.doc.createComment(J)}createText(J){return this.doc.createTextNode(J)}appendChild(J,Z){(nt(J)?J.content:J).appendChild(Z)}insertBefore(J,Z,ee){J&&(nt(J)?J.content:J).insertBefore(Z,ee)}removeChild(J,Z){J&&J.removeChild(Z)}selectRootElement(J,Z){let ee="string"==typeof J?this.doc.querySelector(J):J;if(!ee)throw new l.vHH(-5104,!1);return Z||(ee.textContent=""),ee}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,Z,ee,Je){if(Je){Z=Je+":"+Z;const Ft=Fe[Je];Ft?J.setAttributeNS(Ft,Z,ee):J.setAttribute(Z,ee)}else J.setAttribute(Z,ee)}removeAttribute(J,Z,ee){if(ee){const Je=Fe[ee];Je?J.removeAttributeNS(Je,Z):J.removeAttribute(`${ee}:${Z}`)}else J.removeAttribute(Z)}addClass(J,Z){J.classList.add(Z)}removeClass(J,Z){J.classList.remove(Z)}setStyle(J,Z,ee,Je){Je&(l.JOm.DashCase|l.JOm.Important)?J.style.setProperty(Z,ee,Je&l.JOm.Important?"important":""):J.style[Z]=ee}removeStyle(J,Z,ee){ee&l.JOm.DashCase?J.style.removeProperty(Z):J.style[Z]=""}setProperty(J,Z,ee){null!=J&&(J[Z]=ee)}setValue(J,Z){J.nodeValue=Z}listen(J,Z,ee){if("string"==typeof J&&!(J=(0,P.q)().getGlobalEventTarget(this.doc,J)))throw new Error(`Unsupported event target ${J} for event ${Z}`);return this.eventManager.addEventListener(J,Z,this.decoratePreventDefault(ee))}decoratePreventDefault(J){return Z=>{if("__ngUnwrap__"===Z)return J;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>J(Z)):J(Z))&&Z.preventDefault()}}}function nt(Y){return"TEMPLATE"===Y.tagName&&void 0!==Y.content}class it extends W{constructor(J,Z,ee,Je,Ft,dn,Zn,xn){super(J,Ft,dn,xn),this.sharedStylesHost=Z,this.hostEl=ee,this.shadowRoot=ee.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const yr=Ie(Je.id,Je.styles);for(const Jn of yr){const Cr=document.createElement("style");Zn&&Cr.setAttribute("nonce",Zn),Cr.textContent=Jn,this.shadowRoot.appendChild(Cr)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}appendChild(J,Z){return super.appendChild(this.nodeOrShadowRoot(J),Z)}insertBefore(J,Z,ee){return super.insertBefore(this.nodeOrShadowRoot(J),Z,ee)}removeChild(J,Z){return super.removeChild(this.nodeOrShadowRoot(J),Z)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lt extends W{constructor(J,Z,ee,Je,Ft,dn,Zn,xn){super(J,Ft,dn,Zn),this.sharedStylesHost=Z,this.removeStylesOnCompDestroy=Je,this.styles=xn?Ie(xn,ee.styles):ee.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ut extends lt{constructor(J,Z,ee,Je,Ft,dn,Zn,xn){const yr=Je+"-"+ee.id;super(J,Z,ee,Ft,dn,Zn,xn,yr),this.contentAttr=function He(Y){return"_ngcontent-%COMP%".replace(ct,Y)}(yr),this.hostAttr=function je(Y){return"_nghost-%COMP%".replace(ct,Y)}(yr)}applyToHost(J){this.applyStyles(),this.setAttribute(J,this.hostAttr,"")}createElement(J,Z){const ee=super.createElement(J,Z);return super.setAttribute(ee,this.contentAttr,""),ee}}let Vt=(()=>{class Y extends Oe{constructor(Z){super(Z)}supports(Z){return!0}addEventListener(Z,ee,Je){return Z.addEventListener(ee,Je,!1),()=>this.removeEventListener(Z,ee,Je)}removeEventListener(Z,ee,Je){return Z.removeEventListener(ee,Je)}static#e=this.\u0275fac=function(ee){return new(ee||Y)(l.LFG(P.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const Zt=["alt","control","meta","shift"],ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Se={alt:Y=>Y.altKey,control:Y=>Y.ctrlKey,meta:Y=>Y.metaKey,shift:Y=>Y.shiftKey};let ce=(()=>{class Y extends Oe{constructor(Z){super(Z)}supports(Z){return null!=Y.parseEventName(Z)}addEventListener(Z,ee,Je){const Ft=Y.parseEventName(ee),dn=Y.eventCallback(Ft.fullKey,Je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,P.q)().onAndCancel(Z,Ft.domEventName,dn))}static parseEventName(Z){const ee=Z.toLowerCase().split("."),Je=ee.shift();if(0===ee.length||"keydown"!==Je&&"keyup"!==Je)return null;const Ft=Y._normalizeKey(ee.pop());let dn="",Zn=ee.indexOf("code");if(Zn>-1&&(ee.splice(Zn,1),dn="code."),Zt.forEach(yr=>{const Jn=ee.indexOf(yr);Jn>-1&&(ee.splice(Jn,1),dn+=yr+".")}),dn+=Ft,0!=ee.length||0===Ft.length)return null;const xn={};return xn.domEventName=Je,xn.fullKey=dn,xn}static matchEventFullKeyCode(Z,ee){let Je=ot[Z.key]||Z.key,Ft="";return ee.indexOf("code.")>-1&&(Je=Z.code,Ft="code."),!(null==Je||!Je)&&(Je=Je.toLowerCase()," "===Je?Je="space":"."===Je&&(Je="dot"),Zt.forEach(dn=>{dn!==Je&&(0,Se[dn])(Z)&&(Ft+=dn+".")}),Ft+=Je,Ft===ee)}static eventCallback(Z,ee,Je){return Ft=>{Y.matchEventFullKeyCode(Ft,Z)&&Je.runGuarded(()=>ee(Ft))}}static _normalizeKey(Z){return"esc"===Z?"escape":Z}static#e=this.\u0275fac=function(ee){return new(ee||Y)(l.LFG(P.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const In=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:P.bD},{provide:l.g9A,useValue:function $t(){le.makeCurrent()},multi:!0},{provide:P.K0,useFactory:function qt(){return(0,l.RDi)(document),document},deps:[]}]),Xn=new l.OlP(""),kt=[{provide:l.rWj,useClass:class ve{addToWindow(J){l.dqk.getAngularTestability=(ee,Je=!0)=>{const Ft=J.findTestabilityInTree(ee,Je);if(null==Ft)throw new l.vHH(5103,!1);return Ft},l.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(ee=>{const Je=l.dqk.getAllAngularTestabilities();let Ft=Je.length;const dn=function(){Ft--,0==Ft&&ee()};Je.forEach(Zn=>{Zn.whenStable(dn)})})}findTestabilityInTree(J,Z,ee){return null==Z?null:J.getTestability(Z)??(ee?(0,P.q)().isShadowRoot(Z)?this.findTestabilityInTree(J,Z.host,!0):this.findTestabilityInTree(J,Z.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Et=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function on(){return new l.qLn},deps:[]},{provide:ie,useClass:Vt,multi:!0,deps:[P.K0,l.R0b,l.Lbi]},{provide:ie,useClass:ce,multi:!0,deps:[P.K0]},ue,Pe,oe,{provide:l.FYo,useExisting:ue},{provide:P.JF,useClass:Ke,deps:[]},[]];let mt=(()=>{class Y{constructor(Z){}static withServerTransition(Z){return{ngModule:Y,providers:[{provide:l.AFp,useValue:Z.appId}]}}static#e=this.\u0275fac=function(ee){return new(ee||Y)(l.LFG(Xn,12))};static#t=this.\u0275mod=l.oAB({type:Y});static#n=this.\u0275inj=l.cJS({providers:[...Et,...kt],imports:[P.ez,l.hGG]})}return Y})(),mn=(()=>{class Y{constructor(Z){this._doc=Z}getTitle(){return this._doc.title}setTitle(Z){this._doc.title=Z||""}static#e=this.\u0275fac=function(ee){return new(ee||Y)(l.LFG(P.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:function(ee){let Je=null;return Je=ee?new ee:function Bn(){return new mn((0,l.LFG)(P.K0))}(),Je},providedIn:"root"})}return Y})();typeof window<"u"&&window},2692:(an,tt,M)=>{"use strict";M.d(tt,{gz:()=>ji,y6:()=>I,OD:()=>me,eC:()=>Lt,wm:()=>zs,wN:()=>vn,F0:()=>ls,rH:()=>Sa,Bz:()=>Bt,Hx:()=>zt});var l=M(9212),P=M(5592),_e=M(4674),Ee=M(2459),ge=M(2096),ye=M(5619),ve=M(2572),Ke=M(6973),ie=M(5211),oe=M(4829);function Oe(_){return new P.y(b=>{(0,oe.Xf)(_()).subscribe(b)})}var ze=M(8407);function Pe(_,b){const E=(0,_e.m)(_)?_:()=>_,A=B=>B.error(E());return new P.y(b?B=>b.schedule(A,0,B):A)}var Fe=M(6232),ct=M(7394),We=M(9360),Te=M(8251);function Ue(){return(0,We.e)((_,b)=>{let E=null;_._refCount++;const A=(0,Te.x)(b,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(E=null);const B=_._connection,re=E;E=null,B&&(!re||B===re)&&B.unsubscribe(),b.unsubscribe()});_.subscribe(A),A.closed||(E=_.connect())})}class Qe extends P.y{constructor(b,E){super(),this.source=b,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,We.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new ct.w0;const E=this.getSubject();b.add(this.source.subscribe((0,Te.x)(E,void 0,()=>{this._teardown(),E.complete()},A=>{this._teardown(),E.error(A)},()=>this._teardown()))),b.closed&&(this._connection=null,b=ct.w0.EMPTY)}return b}refCount(){return Ue()(this)}}var xe=M(8645),He=M(6814),je=M(7398),Ie=M(4664),ue=M(8180),W=M(7921),ke=M(2181),Re=M(1631),nt=M(1374),it=M(6328),lt=M(9397);function Ut(_){return(0,We.e)((b,E)=>{let re,A=null,B=!1;A=b.subscribe((0,Te.x)(E,void 0,void 0,Ve=>{re=(0,oe.Xf)(_(Ve,Ut(_)(b))),A?(A.unsubscribe(),A=null,re.subscribe(E)):B=!0})),B&&(A.unsubscribe(),A=null,re.subscribe(E))})}var Vt=M(6699),Zt=M(3572);function ot(_){return _<=0?()=>Fe.E:(0,We.e)((b,E)=>{let A=[];b.subscribe((0,Te.x)(E,B=>{A.push(B),_<A.length&&A.shift()},()=>{for(const B of A)E.next(B);E.complete()},void 0,()=>{A=null}))})}var Se=M(3026),ce=M(2737),rt=M(4716),ut=M(2420),on=M(7537),qt=M(6593);const Lt="primary",In=Symbol("RouteTitle");class Xn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const E=this.params[b];return Array.isArray(E)?E[0]:E}return null}getAll(b){if(this.has(b)){const E=this.params[b];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function kt(_){return new Xn(_)}function Et(_,b,E){const A=E.path.split("/");if(A.length>_.length||"full"===E.pathMatch&&(b.hasChildren()||A.length<_.length))return null;const B={};for(let re=0;re<A.length;re++){const Ve=A[re],wt=_[re];if(Ve.startsWith(":"))B[Ve.substring(1)]=wt;else if(Ve!==wt.path)return null}return{consumed:_.slice(0,A.length),posParams:B}}function Ot(_,b){const E=_?fn(_):void 0,A=b?fn(b):void 0;if(!E||!A||E.length!=A.length)return!1;let B;for(let re=0;re<E.length;re++)if(B=E[re],!At(_[B],b[B]))return!1;return!0}function fn(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}function At(_,b){if(Array.isArray(_)&&Array.isArray(b)){if(_.length!==b.length)return!1;const E=[..._].sort(),A=[...b].sort();return E.every((B,re)=>A[re]===B)}return _===b}function Bn(_){return function le(_){return!!_&&(_ instanceof P.y||(0,_e.m)(_.lift)&&(0,_e.m)(_.subscribe))}(_)?_:(0,l.QGY)(_)?(0,Ee.D)(Promise.resolve(_)):(0,ge.of)(_)}const mn={exact:function cr(_,b,E){if(!$n(_.segments,b.segments)||!Vn(_.segments,b.segments,E)||_.numberOfChildren!==b.numberOfChildren)return!1;for(const A in b.children)if(!_.children[A]||!cr(_.children[A],b.children[A],E))return!1;return!0},subset:Fn},Ln={exact:function Mr(_,b){return Ot(_,b)},subset:function Kn(_,b){return Object.keys(b).length<=Object.keys(_).length&&Object.keys(b).every(E=>At(_[E],b[E]))},ignored:()=>!0};function Hn(_,b,E){return mn[E.paths](_.root,b.root,E.matrixParams)&&Ln[E.queryParams](_.queryParams,b.queryParams)&&!("exact"===E.fragment&&_.fragment!==b.fragment)}function Fn(_,b,E){return zr(_,b,b.segments,E)}function zr(_,b,E,A){if(_.segments.length>E.length){const B=_.segments.slice(0,E.length);return!(!$n(B,E)||b.hasChildren()||!Vn(B,E,A))}if(_.segments.length===E.length){if(!$n(_.segments,E)||!Vn(_.segments,E,A))return!1;for(const B in b.children)if(!_.children[B]||!Fn(_.children[B],b.children[B],A))return!1;return!0}{const B=E.slice(0,_.segments.length),re=E.slice(_.segments.length);return!!($n(_.segments,B)&&Vn(_.segments,B,A)&&_.children[Lt])&&zr(_.children[Lt],b,re,A)}}function Vn(_,b,E){return b.every((A,B)=>Ln[E](_[B].parameters,A.parameters))}class $r{constructor(b=new Dn([],{}),E={},A=null){this.root=b,this.queryParams=E,this.fragment=A}get queryParamMap(){return this._queryParamMap??=kt(this.queryParams),this._queryParamMap}toString(){return ui.serialize(this)}}class Dn{constructor(b,E){this.segments=b,this.children=E,this.parent=null,Object.values(E).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yr(this)}}class mr{constructor(b,E){this.path=b,this.parameters=E}get parameterMap(){return this._parameterMap??=kt(this.parameters),this._parameterMap}toString(){return Un(this)}}function $n(_,b){return _.length===b.length&&_.every((E,A)=>E.path===b[A].path)}let zt=(()=>{class _{static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:()=>new wr,providedIn:"root"})}return _})();class wr{parse(b){const E=new xn(b);return new $r(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(b){const E=`/${ur(b.root,!0)}`,A=function Ne(_){const b=Object.entries(_).map(([E,A])=>Array.isArray(A)?A.map(B=>`${Nr(E)}=${Nr(B)}`).join("&"):`${Nr(E)}=${Nr(A)}`).filter(E=>E);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${E}${A}${"string"==typeof b.fragment?`#${function kr(_){return encodeURI(_)}(b.fragment)}`:""}`}}const ui=new wr;function Yr(_){return _.segments.map(b=>Un(b)).join("/")}function ur(_,b){if(!_.hasChildren())return Yr(_);if(b){const E=_.children[Lt]?ur(_.children[Lt],!1):"",A=[];return Object.entries(_.children).forEach(([B,re])=>{B!==Lt&&A.push(`${B}:${ur(re,!1)}`)}),A.length>0?`${E}(${A.join("//")})`:E}{const E=function Qr(_,b){let E=[];return Object.entries(_.children).forEach(([A,B])=>{A===Lt&&(E=E.concat(b(B,A)))}),Object.entries(_.children).forEach(([A,B])=>{A!==Lt&&(E=E.concat(b(B,A)))}),E}(_,(A,B)=>B===Lt?[ur(_.children[Lt],!1)]:[`${B}:${ur(A,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Lt]?`${Yr(_)}/${E[0]}`:`${Yr(_)}/(${E.join("//")})`}}function or(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nr(_){return or(_).replace(/%3B/gi,";")}function Dr(_){return or(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jr(_){return decodeURIComponent(_)}function Cn(_){return Jr(_.replace(/\+/g,"%20"))}function Un(_){return`${Dr(_.path)}${function Ir(_){return Object.entries(_).map(([b,E])=>`;${Dr(b)}=${Dr(E)}`).join("")}(_.parameters)}`}const Y=/^[^\/()?;#]+/;function J(_){const b=_.match(Y);return b?b[0]:""}const Z=/^[^\/()?;=#]+/,Je=/^[^=?&#]+/,dn=/^[^&#]+/;class xn{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(b.length>0||Object.keys(E).length>0)&&(A[Lt]=new Dn(b,E)),A}parseSegment(){const b=J(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(b),new mr(Jr(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const E=function ee(_){const b=_.match(Z);return b?b[0]:""}(this.remaining);if(!E)return;this.capture(E);let A="";if(this.consumeOptional("=")){const B=J(this.remaining);B&&(A=B,this.capture(A))}b[Jr(E)]=Jr(A)}parseQueryParam(b){const E=function Ft(_){const b=_.match(Je);return b?b[0]:""}(this.remaining);if(!E)return;this.capture(E);let A="";if(this.consumeOptional("=")){const Ve=function Zn(_){const b=_.match(dn);return b?b[0]:""}(this.remaining);Ve&&(A=Ve,this.capture(A))}const B=Cn(E),re=Cn(A);if(b.hasOwnProperty(B)){let Ve=b[B];Array.isArray(Ve)||(Ve=[Ve],b[B]=Ve),Ve.push(re)}else b[B]=re}parseParens(b){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=J(this.remaining),B=this.remaining[A.length];if("/"!==B&&")"!==B&&";"!==B)throw new l.vHH(4010,!1);let re;A.indexOf(":")>-1?(re=A.slice(0,A.indexOf(":")),this.capture(re),this.capture(":")):b&&(re=Lt);const Ve=this.parseChildren();E[re]=1===Object.keys(Ve).length?Ve[Lt]:new Dn([],Ve),this.consumeOptional("//")}return E}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new l.vHH(4011,!1)}}function yr(_){return _.segments.length>0?new Dn([],{[Lt]:_}):_}function Jn(_){const b={};for(const[A,B]of Object.entries(_.children)){const re=Jn(B);if(A===Lt&&0===re.segments.length&&re.hasChildren())for(const[Ve,wt]of Object.entries(re.children))b[Ve]=wt;else(re.segments.length>0||re.hasChildren())&&(b[A]=re)}return function Cr(_){if(1===_.numberOfChildren&&_.children[Lt]){const b=_.children[Lt];return new Dn(_.segments.concat(b.segments),b.children)}return _}(new Dn(_.segments,b))}function ei(_){return _ instanceof $r}function Hr(_){let b;const B=yr(function E(re){const Ve={};for(const Tt of re.children){const Pn=E(Tt);Ve[Tt.outlet]=Pn}const wt=new Dn(re.url,Ve);return re===_&&(b=wt),wt}(_.root));return b??B}function It(_,b,E,A){let B=_;for(;B.parent;)B=B.parent;if(0===b.length)return Rt(B,B,B,E,A);const re=function ir(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new kn(!0,0,_);let b=0,E=!1;const A=_.reduce((B,re,Ve)=>{if("object"==typeof re&&null!=re){if(re.outlets){const wt={};return Object.entries(re.outlets).forEach(([Tt,Pn])=>{wt[Tt]="string"==typeof Pn?Pn.split("/"):Pn}),[...B,{outlets:wt}]}if(re.segmentPath)return[...B,re.segmentPath]}return"string"!=typeof re?[...B,re]:0===Ve?(re.split("/").forEach((wt,Tt)=>{0==Tt&&"."===wt||(0==Tt&&""===wt?E=!0:".."===wt?b++:""!=wt&&B.push(wt))}),B):[...B,re]},[]);return new kn(E,b,A)}(b);if(re.toRoot())return Rt(B,B,new Dn([],{}),E,A);const Ve=function Gn(_,b,E){if(_.isAbsolute)return new Pr(b,!0,0);if(!E)return new Pr(b,!1,NaN);if(null===E.parent)return new Pr(E,!0,0);const A=pt(_.commands[0])?0:1;return function de(_,b,E){let A=_,B=b,re=E;for(;re>B;){if(re-=B,A=A.parent,!A)throw new l.vHH(4005,!1);B=A.segments.length}return new Pr(A,!1,B-re)}(E,E.segments.length-1+A,_.numberOfDoubleDots)}(re,B,_),wt=Ve.processChildren?ft(Ve.segmentGroup,Ve.index,re.commands):Ge(Ve.segmentGroup,Ve.index,re.commands);return Rt(B,Ve.segmentGroup,wt,E,A)}function pt(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function Nt(_){return"object"==typeof _&&null!=_&&_.outlets}function Rt(_,b,E,A,B){let Ve,re={};A&&Object.entries(A).forEach(([Tt,Pn])=>{re[Tt]=Array.isArray(Pn)?Pn.map(xr=>`${xr}`):`${Pn}`}),Ve=_===b?E:Qn(_,b,E);const wt=yr(Jn(Ve));return new $r(wt,re,B)}function Qn(_,b,E){const A={};return Object.entries(_.children).forEach(([B,re])=>{A[B]=re===b?E:Qn(re,b,E)}),new Dn(_.segments,A)}class kn{constructor(b,E,A){if(this.isAbsolute=b,this.numberOfDoubleDots=E,this.commands=A,b&&A.length>0&&pt(A[0]))throw new l.vHH(4003,!1);const B=A.find(Nt);if(B&&B!==A.at(-1))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pr{constructor(b,E,A){this.segmentGroup=b,this.processChildren=E,this.index=A}}function Ge(_,b,E){if(_??=new Dn([],{}),0===_.segments.length&&_.hasChildren())return ft(_,b,E);const A=function jt(_,b,E){let A=0,B=b;const re={match:!1,pathIndex:0,commandIndex:0};for(;B<_.segments.length;){if(A>=E.length)return re;const Ve=_.segments[B],wt=E[A];if(Nt(wt))break;const Tt=`${wt}`,Pn=A<E.length-1?E[A+1]:null;if(B>0&&void 0===Tt)break;if(Tt&&Pn&&"object"==typeof Pn&&void 0===Pn.outlets){if(!Rn(Tt,Pn,Ve))return re;A+=2}else{if(!Rn(Tt,{},Ve))return re;A++}B++}return{match:!0,pathIndex:B,commandIndex:A}}(_,b,E),B=E.slice(A.commandIndex);if(A.match&&A.pathIndex<_.segments.length){const re=new Dn(_.segments.slice(0,A.pathIndex),{});return re.children[Lt]=new Dn(_.segments.slice(A.pathIndex),_.children),ft(re,0,B)}return A.match&&0===B.length?new Dn(_.segments,{}):A.match&&!_.hasChildren()?Kt(_,b,E):A.match?ft(_,0,B):Kt(_,b,E)}function ft(_,b,E){if(0===E.length)return new Dn(_.segments,{});{const A=function Be(_){return Nt(_[0])?_[0].outlets:{[Lt]:_}}(E),B={};if(Object.keys(A).some(re=>re!==Lt)&&_.children[Lt]&&1===_.numberOfChildren&&0===_.children[Lt].segments.length){const re=ft(_.children[Lt],b,E);return new Dn(_.segments,re.children)}return Object.entries(A).forEach(([re,Ve])=>{"string"==typeof Ve&&(Ve=[Ve]),null!==Ve&&(B[re]=Ge(_.children[re],b,Ve))}),Object.entries(_.children).forEach(([re,Ve])=>{void 0===A[re]&&(B[re]=Ve)}),new Dn(_.segments,B)}}function Kt(_,b,E){const A=_.segments.slice(0,b);let B=0;for(;B<E.length;){const re=E[B];if(Nt(re)){const Tt=Gt(re.outlets);return new Dn(A,Tt)}if(0===B&&pt(E[0])){A.push(new mr(_.segments[b].path,Qt(E[0]))),B++;continue}const Ve=Nt(re)?re.outlets[Lt]:`${re}`,wt=B<E.length-1?E[B+1]:null;Ve&&wt&&pt(wt)?(A.push(new mr(Ve,Qt(wt))),B+=2):(A.push(new mr(Ve,{})),B++)}return new Dn(A,{})}function Gt(_){const b={};return Object.entries(_).forEach(([E,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(b[E]=Kt(new Dn([],{}),0,A))}),b}function Qt(_){const b={};return Object.entries(_).forEach(([E,A])=>b[E]=`${A}`),b}function Rn(_,b,E){return _==E.path&&Ot(b,E.parameters)}const pe="imperative";var se=function(_){return _[_.NavigationStart=0]="NavigationStart",_[_.NavigationEnd=1]="NavigationEnd",_[_.NavigationCancel=2]="NavigationCancel",_[_.NavigationError=3]="NavigationError",_[_.RoutesRecognized=4]="RoutesRecognized",_[_.ResolveStart=5]="ResolveStart",_[_.ResolveEnd=6]="ResolveEnd",_[_.GuardsCheckStart=7]="GuardsCheckStart",_[_.GuardsCheckEnd=8]="GuardsCheckEnd",_[_.RouteConfigLoadStart=9]="RouteConfigLoadStart",_[_.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",_[_.ChildActivationStart=11]="ChildActivationStart",_[_.ChildActivationEnd=12]="ChildActivationEnd",_[_.ActivationStart=13]="ActivationStart",_[_.ActivationEnd=14]="ActivationEnd",_[_.Scroll=15]="Scroll",_[_.NavigationSkipped=16]="NavigationSkipped",_}(se||{});class U{constructor(b,E){this.id=b,this.url=E}}class me extends U{constructor(b,E,A="imperative",B=null){super(b,E),this.type=se.NavigationStart,this.navigationTrigger=A,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class be extends U{constructor(b,E,A){super(b,E),this.urlAfterRedirects=A,this.type=se.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var $e=function(_){return _[_.Redirect=0]="Redirect",_[_.SupersededByNewNavigation=1]="SupersededByNewNavigation",_[_.NoDataFromResolver=2]="NoDataFromResolver",_[_.GuardRejected=3]="GuardRejected",_}($e||{}),gt=function(_){return _[_.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",_[_.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",_}(gt||{});class yt extends U{constructor(b,E,A,B){super(b,E),this.reason=A,this.code=B,this.type=se.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jt extends U{constructor(b,E,A,B){super(b,E),this.reason=A,this.code=B,this.type=se.NavigationSkipped}}class Mn extends U{constructor(b,E,A,B){super(b,E),this.error=A,this.target=B,this.type=se.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wn extends U{constructor(b,E,A,B){super(b,E),this.urlAfterRedirects=A,this.state=B,this.type=se.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N extends U{constructor(b,E,A,B){super(b,E),this.urlAfterRedirects=A,this.state=B,this.type=se.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q extends U{constructor(b,E,A,B,re){super(b,E),this.urlAfterRedirects=A,this.state=B,this.shouldActivate=re,this.type=se.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ce extends U{constructor(b,E,A,B){super(b,E),this.urlAfterRedirects=A,this.state=B,this.type=se.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye extends U{constructor(b,E,A,B){super(b,E),this.urlAfterRedirects=A,this.state=B,this.type=se.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt{constructor(b){this.route=b,this.type=se.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _t{constructor(b){this.route=b,this.type=se.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pt{constructor(b){this.snapshot=b,this.type=se.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(b){this.snapshot=b,this.type=se.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xt{constructor(b){this.snapshot=b,this.type=se.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{constructor(b){this.snapshot=b,this.type=se.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cn{constructor(b,E,A){this.routerEvent=b,this.position=E,this.anchor=A,this.type=se.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yn{}class bn{constructor(b){this.url=b}}class Ur{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new I,this.attachRef=null}}let I=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(E,A){const B=this.getOrCreateContext(E);B.outlet=A,this.contexts.set(E,B)}onChildOutletDestroyed(E){const A=this.getContext(E);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let A=this.getContext(E);return A||(A=new Ur,this.contexts.set(E,A)),A}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();class te{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const E=this.pathFromRoot(b);return E.length>1?E[E.length-2]:null}children(b){const E=S(b,this._root);return E?E.children.map(A=>A.value):[]}firstChild(b){const E=S(b,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(b){const E=ae(b,this._root);return E.length<2?[]:E[E.length-2].children.map(B=>B.value).filter(B=>B!==b)}pathFromRoot(b){return ae(b,this._root).map(E=>E.value)}}function S(_,b){if(_===b.value)return b;for(const E of b.children){const A=S(_,E);if(A)return A}return null}function ae(_,b){if(_===b.value)return[b];for(const E of b.children){const A=ae(_,E);if(A.length)return A.unshift(b),A}return[]}class Xe{constructor(b,E){this.value=b,this.children=E}toString(){return`TreeNode(${this.value})`}}function er(_){const b={};return _&&_.children.forEach(E=>b[E.value.outlet]=E),b}class li extends te{constructor(b,E){super(b),this.snapshot=E,Bo(this,b)}toString(){return this.snapshot.toString()}}function Er(_){const b=function ti(_){const re=new So([],{},{},"",{},Lt,_,null,{});return new mo("",new Xe(re,[]))}(_),E=new ye.X([new mr("",{})]),A=new ye.X({}),B=new ye.X({}),re=new ye.X({}),Ve=new ye.X(""),wt=new ji(E,A,re,Ve,B,Lt,_,b.root);return wt.snapshot=b.root,new li(new Xe(wt,[]),b)}class ji{constructor(b,E,A,B,re,Ve,wt,Tt){this.urlSubject=b,this.paramsSubject=E,this.queryParamsSubject=A,this.fragmentSubject=B,this.dataSubject=re,this.outlet=Ve,this.component=wt,this._futureSnapshot=Tt,this.title=this.dataSubject?.pipe((0,je.U)(Pn=>Pn[In]))??(0,ge.of)(void 0),this.url=b,this.params=E,this.queryParams=A,this.fragment=B,this.data=re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,je.U)(b=>kt(b))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,je.U)(b=>kt(b))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _r(_,b,E="emptyOnly"){let A;const{routeConfig:B}=_;return A=null===b||"always"!==E&&""!==B?.path&&(b.component||b.routeConfig?.loadComponent)?{params:{..._.params},data:{..._.data},resolve:{..._.data,..._._resolvedData??{}}}:{params:{...b.params,..._.params},data:{...b.data,..._.data},resolve:{..._.data,...b.data,...B?.data,..._._resolvedData}},B&&eo(B)&&(A.resolve[In]=B.title),A}class So{get title(){return this.data?.[In]}constructor(b,E,A,B,re,Ve,wt,Tt,Pn){this.url=b,this.params=E,this.queryParams=A,this.fragment=B,this.data=re,this.outlet=Ve,this.component=wt,this.routeConfig=Tt,this._resolve=Pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mo extends te{constructor(b,E){super(E),this.url=b,Bo(this,E)}toString(){return Wo(this._root)}}function Bo(_,b){b.value._routerState=_,b.children.forEach(E=>Bo(_,E))}function Wo(_){const b=_.children.length>0?` { ${_.children.map(Wo).join(", ")} } `:"";return`${_.value}${b}`}function Cs(_){if(_.snapshot){const b=_.snapshot,E=_._futureSnapshot;_.snapshot=E,Ot(b.queryParams,E.queryParams)||_.queryParamsSubject.next(E.queryParams),b.fragment!==E.fragment&&_.fragmentSubject.next(E.fragment),Ot(b.params,E.params)||_.paramsSubject.next(E.params),function mt(_,b){if(_.length!==b.length)return!1;for(let E=0;E<_.length;++E)if(!Ot(_[E],b[E]))return!1;return!0}(b.url,E.url)||_.urlSubject.next(E.url),Ot(b.data,E.data)||_.dataSubject.next(E.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function $o(_,b){const E=Ot(_.params,b.params)&&function Ai(_,b){return $n(_,b)&&_.every((E,A)=>Ot(E.parameters,b[A].parameters))}(_.url,b.url);return E&&!(!_.parent!=!b.parent)&&(!_.parent||$o(_.parent,b.parent))}function eo(_){return"string"==typeof _.title||null===_.title}let so=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(I),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(mi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:A,previousValue:B}=E.name;if(A)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,A){this.activated=E,this._activatedRoute=A,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,A){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=E;const B=this.location,Ve=E.snapshot.component,wt=this.parentContexts.getOrCreateContext(this.name).children,Tt=new to(E,wt,B.injector);this.activated=B.createComponent(Ve,{index:B.length,injector:Tt,environmentInjector:A??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275dir=l.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return _})();class to{constructor(b,E,A){this.route=b,this.childContexts=E,this.parent=A}get(b,E){return b===ji?this.route:b===I?this.childContexts:this.parent.get(b,E)}}const mi=new l.OlP("");let Sr=(()=>{class _{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:A}=E,B=(0,ve.a)([A.queryParams,A.params,A.data]).pipe((0,Ie.w)(([re,Ve,wt],Tt)=>(wt={...re,...Ve,...wt},0===Tt?(0,ge.of)(wt):Promise.resolve(wt)))).subscribe(re=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(E);const Ve=(0,l.qFp)(A.component);if(Ve)for(const{templateName:wt}of Ve.inputs)E.activatedComponentRef.setInput(wt,re[wt]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,B)}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac})}return _})();function zi(_,b,E){if(E&&_.shouldReuseRoute(b.value,E.value.snapshot)){const A=E.value;A._futureSnapshot=b.value;const B=function Js(_,b,E){return b.children.map(A=>{for(const B of E.children)if(_.shouldReuseRoute(A.value,B.value.snapshot))return zi(_,A,B);return zi(_,A)})}(_,b,E);return new Xe(A,B)}{if(_.shouldAttach(b.value)){const re=_.retrieve(b.value);if(null!==re){const Ve=re.route;return Ve.value._futureSnapshot=b.value,Ve.children=b.children.map(wt=>zi(_,wt)),Ve}}const A=function ws(_){return new ji(new ye.X(_.url),new ye.X(_.params),new ye.X(_.queryParams),new ye.X(_.fragment),new ye.X(_.data),_.outlet,_.component,_)}(b.value),B=b.children.map(re=>zi(_,re));return new Xe(A,B)}}const $s="ngNavigationCancelingError";function Uo(_,b){const{redirectTo:E,navigationBehaviorOptions:A}=ei(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,B=ea(!1,$e.Redirect,b);return B.url=E,B.navigationBehaviorOptions=A,B}function ea(_,b,E){const A=new Error("NavigationCancelingError: "+(_||""));return A[$s]=!0,A.cancellationCode=b,E&&(A.url=E),A}function Us(_){return _&&_[$s]}let ps=(()=>{class _{static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275cmp=l.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(A,B){1&A&&l._UZ(0,"router-outlet")},dependencies:[so],encapsulation:2})}return _})();function To(_){const b=_.children&&_.children.map(To),E=b?{..._,children:b}:{..._};return!E.component&&!E.loadComponent&&(b||E.loadChildren)&&E.outlet&&E.outlet!==Lt&&(E.component=ps),E}function ro(_){return _.outlet||Lt}function As(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let b=_.parent;b;b=b.parent){const E=b.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class ta{constructor(b,E,A,B,re){this.routeReuseStrategy=b,this.futureState=E,this.currState=A,this.forwardEvent=B,this.inputBindingEnabled=re}activate(b){const E=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,A,b),Cs(this.futureState.root),this.activateChildRoutes(E,A,b)}deactivateChildRoutes(b,E,A){const B=er(E);b.children.forEach(re=>{const Ve=re.value.outlet;this.deactivateRoutes(re,B[Ve],A),delete B[Ve]}),Object.values(B).forEach(re=>{this.deactivateRouteAndItsChildren(re,A)})}deactivateRoutes(b,E,A){const B=b.value,re=E?E.value:null;if(B===re)if(B.component){const Ve=A.getContext(B.outlet);Ve&&this.deactivateChildRoutes(b,E,Ve.children)}else this.deactivateChildRoutes(b,E,A);else re&&this.deactivateRouteAndItsChildren(E,A)}deactivateRouteAndItsChildren(b,E){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,E):this.deactivateRouteAndOutlet(b,E)}detachAndStoreRouteSubtree(b,E){const A=E.getContext(b.value.outlet),B=A&&b.value.component?A.children:E,re=er(b);for(const Ve of Object.values(re))this.deactivateRouteAndItsChildren(Ve,B);if(A&&A.outlet){const Ve=A.outlet.detach(),wt=A.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:Ve,route:b,contexts:wt})}}deactivateRouteAndOutlet(b,E){const A=E.getContext(b.value.outlet),B=A&&b.value.component?A.children:E,re=er(b);for(const Ve of Object.values(re))this.deactivateRouteAndItsChildren(Ve,B);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(b,E,A){const B=er(E);b.children.forEach(re=>{this.activateRoutes(re,B[re.value.outlet],A),this.forwardEvent(new Yt(re.value.snapshot))}),b.children.length&&this.forwardEvent(new tn(b.value.snapshot))}activateRoutes(b,E,A){const B=b.value,re=E?E.value:null;if(Cs(B),B===re)if(B.component){const Ve=A.getOrCreateContext(B.outlet);this.activateChildRoutes(b,E,Ve.children)}else this.activateChildRoutes(b,E,A);else if(B.component){const Ve=A.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const wt=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Ve.children.onOutletReAttached(wt.contexts),Ve.attachRef=wt.componentRef,Ve.route=wt.route.value,Ve.outlet&&Ve.outlet.attach(wt.componentRef,wt.route.value),Cs(wt.route.value),this.activateChildRoutes(b,null,Ve.children)}else{const wt=As(B.snapshot);Ve.attachRef=null,Ve.route=B,Ve.injector=wt,Ve.outlet&&Ve.outlet.activateWith(B,Ve.injector),this.activateChildRoutes(b,null,Ve.children)}}else this.activateChildRoutes(b,null,A)}}class os{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class ys{constructor(b,E){this.component=b,this.route=E}}function Aa(_,b,E){const A=_._root;return si(A,b?b._root:null,E,[A.value])}function nr(_,b){const E=Symbol(),A=b.get(_,E);return A===E?"function"!=typeof _||(0,l.Z0I)(_)?b.get(_):_:A}function si(_,b,E,A,B={canDeactivateChecks:[],canActivateChecks:[]}){const re=er(b);return _.children.forEach(Ve=>{(function $i(_,b,E,A,B={canDeactivateChecks:[],canActivateChecks:[]}){const re=_.value,Ve=b?b.value:null,wt=E?E.getContext(_.value.outlet):null;if(Ve&&re.routeConfig===Ve.routeConfig){const Tt=function Hi(_,b,E){if("function"==typeof E)return E(_,b);switch(E){case"pathParamsChange":return!$n(_.url,b.url);case"pathParamsOrQueryParamsChange":return!$n(_.url,b.url)||!Ot(_.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$o(_,b)||!Ot(_.queryParams,b.queryParams);default:return!$o(_,b)}}(Ve,re,re.routeConfig.runGuardsAndResolvers);Tt?B.canActivateChecks.push(new os(A)):(re.data=Ve.data,re._resolvedData=Ve._resolvedData),si(_,b,re.component?wt?wt.children:null:E,A,B),Tt&&wt&&wt.outlet&&wt.outlet.isActivated&&B.canDeactivateChecks.push(new ys(wt.outlet.component,Ve))}else Ve&&Ei(b,wt,B),B.canActivateChecks.push(new os(A)),si(_,null,re.component?wt?wt.children:null:E,A,B)})(Ve,re[Ve.value.outlet],E,A.concat([Ve.value]),B),delete re[Ve.value.outlet]}),Object.entries(re).forEach(([Ve,wt])=>Ei(wt,E.getContext(Ve),B)),B}function Ei(_,b,E){const A=er(_),B=_.value;Object.entries(A).forEach(([re,Ve])=>{Ei(Ve,B.component?b?b.children.getContext(re):null:b,E)}),E.canDeactivateChecks.push(new ys(B.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,B))}function _s(_){return"function"==typeof _}function x(_){return _ instanceof Ke.K||"EmptyError"===_?.name}const ne=Symbol("INITIAL_VALUE");function qe(){return(0,Ie.w)(_=>(0,ve.a)(_.map(b=>b.pipe((0,ue.q)(1),(0,W.O)(ne)))).pipe((0,je.U)(b=>{for(const E of b)if(!0!==E){if(E===ne)return ne;if(!1===E||E instanceof $r)return E}return!0}),(0,ke.h)(b=>b!==ne),(0,ue.q)(1)))}function Do(_){return(0,ze.z)((0,lt.b)(b=>{if(ei(b))throw Uo(0,b)}),(0,je.U)(b=>!0===b))}class co{constructor(b){this.segmentGroup=b||null}}class Mo extends Error{constructor(b){super(),this.urlTree=b}}function uo(_){return Pe(new co(_))}class lr{constructor(b,E){this.urlSerializer=b,this.urlTree=E}lineralizeSegments(b,E){let A=[],B=E.root;for(;;){if(A=A.concat(B.segments),0===B.numberOfChildren)return(0,ge.of)(A);if(B.numberOfChildren>1||!B.children[Lt])return Pe(new l.vHH(4e3,!1));B=B.children[Lt]}}applyRedirectCommands(b,E,A){const B=this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),b,A);if(E.startsWith("/"))throw new Mo(B);return B}applyRedirectCreateUrlTree(b,E,A,B){const re=this.createSegmentGroup(b,E.root,A,B);return new $r(re,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(b,E){const A={};return Object.entries(b).forEach(([B,re])=>{if("string"==typeof re&&re.startsWith(":")){const wt=re.substring(1);A[B]=E[wt]}else A[B]=re}),A}createSegmentGroup(b,E,A,B){const re=this.createSegments(b,E.segments,A,B);let Ve={};return Object.entries(E.children).forEach(([wt,Tt])=>{Ve[wt]=this.createSegmentGroup(b,Tt,A,B)}),new Dn(re,Ve)}createSegments(b,E,A,B){return E.map(re=>re.path.startsWith(":")?this.findPosParam(b,re,B):this.findOrReturn(re,A))}findPosParam(b,E,A){const B=A[E.path.substring(1)];if(!B)throw new l.vHH(4001,!1);return B}findOrReturn(b,E){let A=0;for(const B of E){if(B.path===b.path)return E.splice(A),B;A++}return b}}const V={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j(_,b,E,A,B){const re=we(_,b,E);return re.matched?(A=function gs(_,b){return _.providers&&!_._injector&&(_._injector=(0,l.MMx)(_.providers,b,`Route: ${_.path}`)),_._injector??b}(b,A),function qi(_,b,E,A){const B=b.canMatch;if(!B||0===B.length)return(0,ge.of)(!0);const re=B.map(Ve=>{const wt=nr(Ve,_);return Bn(function ln(_){return _&&_s(_.canMatch)}(wt)?wt.canMatch(b,E):(0,l.r_H)(_,()=>wt(b,E)))});return(0,ge.of)(re).pipe(qe(),Do())}(A,b,E).pipe((0,je.U)(Ve=>!0===Ve?re:{...V}))):(0,ge.of)(re)}function we(_,b,E){if("**"===b.path)return function Ae(_){return{matched:!0,parameters:_.at(-1)?.parameters??{},consumedSegments:_,remainingSegments:[],positionalParamSegments:{}}}(E);if(""===b.path)return"full"===b.pathMatch&&(_.hasChildren()||E.length>0)?{...V}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const B=(b.matcher||Et)(E,_,b);if(!B)return{...V};const re={};Object.entries(B.posParams??{}).forEach(([wt,Tt])=>{re[wt]=Tt.path});const Ve=B.consumed.length>0?{...re,...B.consumed[B.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:B.consumed,remainingSegments:E.slice(B.consumed.length),parameters:Ve,positionalParamSegments:B.posParams??{}}}function ht(_,b,E,A){return E.length>0&&function wn(_,b,E){return E.some(A=>sr(_,b,A)&&ro(A)!==Lt)}(_,E,A)?{segmentGroup:new Dn(b,un(A,new Dn(E,_.children))),slicedSegments:[]}:0===E.length&&function _n(_,b,E){return E.some(A=>sr(_,b,A))}(_,E,A)?{segmentGroup:new Dn(_.segments,Ct(_,E,A,_.children)),slicedSegments:E}:{segmentGroup:new Dn(_.segments,_.children),slicedSegments:E}}function Ct(_,b,E,A){const B={};for(const re of E)if(sr(_,b,re)&&!A[ro(re)]){const Ve=new Dn([],{});B[ro(re)]=Ve}return{...A,...B}}function un(_,b){const E={};E[Lt]=b;for(const A of _)if(""===A.path&&ro(A)!==Lt){const B=new Dn([],{});E[ro(A)]=B}return E}function sr(_,b,E){return(!(_.hasChildren()||b.length>0)||"full"!==E.pathMatch)&&""===E.path}class Rr{}class Qi{constructor(b,E,A,B,re,Ve,wt){this.injector=b,this.configLoader=E,this.rootComponentType=A,this.config=B,this.urlTree=re,this.paramsInheritanceStrategy=Ve,this.urlSerializer=wt,this.applyRedirects=new lr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(b){return new l.vHH(4002,`'${b.segmentGroup}'`)}recognize(){const b=ht(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(b).pipe((0,je.U)(E=>{const A=new So([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),B=new Xe(A,E),re=new mo("",B),Ve=function Ar(_,b,E=null,A=null){return It(Hr(_),b,E,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return Ve.queryParams=this.urlTree.queryParams,re.url=this.urlSerializer.serialize(Ve),this.inheritParamsAndData(re._root,null),{state:re,tree:Ve}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b,Lt).pipe(Ut(A=>{if(A instanceof Mo)return this.urlTree=A.urlTree,this.match(A.urlTree.root);throw A instanceof co?this.noMatchError(A):A}))}inheritParamsAndData(b,E){const A=b.value,B=_r(A,E,this.paramsInheritanceStrategy);A.params=Object.freeze(B.params),A.data=Object.freeze(B.data),b.children.forEach(re=>this.inheritParamsAndData(re,A))}processSegmentGroup(b,E,A,B){return 0===A.segments.length&&A.hasChildren()?this.processChildren(b,E,A):this.processSegment(b,E,A,A.segments,B,!0).pipe((0,je.U)(re=>re instanceof Xe?[re]:[]))}processChildren(b,E,A){const B=[];for(const re of Object.keys(A.children))"primary"===re?B.unshift(re):B.push(re);return(0,Ee.D)(B).pipe((0,it.b)(re=>{const Ve=A.children[re],wt=function is(_,b){const E=_.filter(A=>ro(A)===b);return E.push(..._.filter(A=>ro(A)!==b)),E}(E,re);return this.processSegmentGroup(b,wt,Ve,re)}),(0,Vt.R)((re,Ve)=>(re.push(...Ve),re)),(0,Zt.d)(null),function Me(_,b){const E=arguments.length>=2;return A=>A.pipe(_?(0,ke.h)((B,re)=>_(B,re,A)):ce.y,ot(1),E?(0,Zt.d)(b):(0,Se.T)(()=>new Ke.K))}(),(0,Re.z)(re=>{if(null===re)return uo(A);const Ve=Co(re);return function yi(_){_.sort((b,E)=>b.value.outlet===Lt?-1:E.value.outlet===Lt?1:b.value.outlet.localeCompare(E.value.outlet))}(Ve),(0,ge.of)(Ve)}))}processSegment(b,E,A,B,re,Ve){return(0,Ee.D)(E).pipe((0,it.b)(wt=>this.processSegmentAgainstRoute(wt._injector??b,E,wt,A,B,re,Ve).pipe(Ut(Tt=>{if(Tt instanceof co)return(0,ge.of)(null);throw Tt}))),(0,nt.P)(wt=>!!wt),Ut(wt=>{if(x(wt))return function Ii(_,b,E){return 0===b.length&&!_.children[E]}(A,B,re)?(0,ge.of)(new Rr):uo(A);throw wt}))}processSegmentAgainstRoute(b,E,A,B,re,Ve,wt){return function br(_,b,E,A){return!!(ro(_)===A||A!==Lt&&sr(b,E,_))&&we(b,_,E).matched}(A,B,re,Ve)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(b,B,A,re,Ve):this.allowRedirects&&wt?this.expandSegmentAgainstRouteUsingRedirect(b,B,E,A,re,Ve):uo(B):uo(B)}expandSegmentAgainstRouteUsingRedirect(b,E,A,B,re,Ve){const{matched:wt,consumedSegments:Tt,positionalParamSegments:Pn,remainingSegments:xr}=we(E,B,re);if(!wt)return uo(E);B.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Br=this.applyRedirects.applyRedirectCommands(Tt,B.redirectTo,Pn);return this.applyRedirects.lineralizeSegments(B,Br).pipe((0,Re.z)(Ki=>this.processSegment(b,A,E,Ki.concat(xr),Ve,!1)))}matchSegmentAgainstRoute(b,E,A,B,re){const Ve=j(E,A,B,b);return"**"===A.path&&(E.children={}),Ve.pipe((0,Ie.w)(wt=>wt.matched?this.getChildConfig(b=A._injector??b,A,B).pipe((0,Ie.w)(({routes:Tt})=>{const Pn=A._loadedInjector??b,{consumedSegments:xr,remainingSegments:Br,parameters:Ki}=wt,Wa=new So(xr,Ki,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function _i(_){return _.data||{}}(A),ro(A),A.component??A._loadedComponent??null,A,function Os(_){return _.resolve||{}}(A)),{segmentGroup:Pa,slicedSegments:qa}=ht(E,xr,Br,Tt);if(0===qa.length&&Pa.hasChildren())return this.processChildren(Pn,Tt,Pa).pipe((0,je.U)(ua=>null===ua?null:new Xe(Wa,ua)));if(0===Tt.length&&0===qa.length)return(0,ge.of)(new Xe(Wa,[]));const Ya=ro(A)===re;return this.processSegment(Pn,Tt,Pa,qa,Ya?Lt:re,!0).pipe((0,je.U)(ua=>new Xe(Wa,ua instanceof Xe?[ua]:[])))})):uo(E)))}getChildConfig(b,E,A){return E.children?(0,ge.of)({routes:E.children,injector:b}):E.loadChildren?void 0!==E._loadedRoutes?(0,ge.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function ni(_,b,E,A){const B=b.canLoad;if(void 0===B||0===B.length)return(0,ge.of)(!0);const re=B.map(Ve=>{const wt=nr(Ve,_);return Bn(function Ss(_){return _&&_s(_.canLoad)}(wt)?wt.canLoad(b,E):(0,l.r_H)(_,()=>wt(b,E)))});return(0,ge.of)(re).pipe(qe(),Do())}(b,E,A).pipe((0,Re.z)(B=>B?this.configLoader.loadChildren(b,E).pipe((0,lt.b)(re=>{E._loadedRoutes=re.routes,E._loadedInjector=re.injector})):function ss(_){return Pe(ea(!1,$e.GuardRejected))}())):(0,ge.of)({routes:[],injector:b})}}function io(_){const b=_.value.routeConfig;return b&&""===b.path}function Co(_){const b=[],E=new Set;for(const A of _){if(!io(A)){b.push(A);continue}const B=b.find(re=>A.value.routeConfig===re.value.routeConfig);void 0!==B?(B.children.push(...A.children),E.add(B)):b.push(A)}for(const A of E){const B=Co(A.children);b.push(new Xe(A.value,B))}return b.filter(A=>!E.has(A))}function O(_){const b=_.children.map(E=>O(E)).flat();return[_,...b]}function Wt(_){return(0,Ie.w)(b=>{const E=_(b);return E?(0,Ee.D)(E).pipe((0,je.U)(()=>b)):(0,ge.of)(b)})}let jn=(()=>{class _{buildTitle(E){let A,B=E.root;for(;void 0!==B;)A=this.getResolvedTitleForRoute(B)??A,B=B.children.find(re=>re.outlet===Lt);return A}getResolvedTitleForRoute(E){return E.data[In]}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:()=>(0,l.f3M)(Ti),providedIn:"root"})}return _})(),Ti=(()=>{class _ extends jn{constructor(E){super(),this.title=E}updateTitle(E){const A=this.buildTitle(E);void 0!==A&&this.title.setTitle(A)}static#e=this.\u0275fac=function(A){return new(A||_)(l.LFG(qt.Dx))};static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Fr=new l.OlP("",{providedIn:"root",factory:()=>({})}),Kr=new l.OlP("ROUTES");let Yn=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,ge.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const A=Bn(E.loadComponent()).pipe((0,je.U)(xi),(0,lt.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=re}),(0,rt.x)(()=>{this.componentLoaders.delete(E)})),B=new Qe(A,()=>new xe.x).pipe(Ue());return this.componentLoaders.set(E,B),B}loadChildren(E,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,ge.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const re=function fi(_,b,E,A){return Bn(_.loadChildren()).pipe((0,je.U)(xi),(0,Re.z)(B=>B instanceof l.YKP||Array.isArray(B)?(0,ge.of)(B):(0,Ee.D)(b.compileModuleAsync(B))),(0,je.U)(B=>{A&&A(_);let re,Ve,wt=!1;return Array.isArray(B)?(Ve=B,!0):(re=B.create(E).injector,Ve=re.get(Kr,[],{optional:!0,self:!0}).flat()),{routes:Ve.map(To),injector:re}}))}(A,this.compiler,E,this.onLoadEndListener).pipe((0,rt.x)(()=>{this.childrenLoaders.delete(A)})),Ve=new Qe(re,()=>new xe.x).pipe(Ue());return this.childrenLoaders.set(A,Ve),Ve}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function xi(_){return function Zr(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let vs=(()=>{class _{static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:()=>(0,l.f3M)(Ht),providedIn:"root"})}return _})(),Ht=(()=>{class _{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,A){return E}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const pi=new l.OlP(""),Vi=new l.OlP("");function as(_,b,E){const A=_.get(Vi),B=_.get(He.K0);return _.get(l.R0b).runOutsideAngular(()=>{if(!B.startViewTransition||A.skipNextTransition)return A.skipNextTransition=!1,Promise.resolve();let re;const Ve=new Promise(Pn=>{re=Pn}),wt=B.startViewTransition(()=>(re(),function An(_){return new Promise(b=>{(0,l.T8G)(b,{injector:_})})}(_))),{onViewTransitionCreated:Tt}=A;return Tt&&(0,l.r_H)(_,()=>Tt({transition:wt,from:b,to:E})),Ve})}let Nn=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xe.x,this.transitionAbortSubject=new xe.x,this.configLoader=(0,l.f3M)(Yn),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(zt),this.rootContexts=(0,l.f3M)(I),this.location=(0,l.f3M)(He.Ye),this.inputBindingEnabled=null!==(0,l.f3M)(mi,{optional:!0}),this.titleStrategy=(0,l.f3M)(jn),this.options=(0,l.f3M)(Fr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.f3M)(vs),this.createViewTransition=(0,l.f3M)(pi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ge.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=B=>this.events.next(new _t(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new dt(B))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:A})}setupNavigations(E,A,B){return this.transitions=new ye.X({id:0,currentUrlTree:A,currentRawUrl:A,extractedUrl:this.urlHandlingStrategy.extract(A),urlAfterRedirects:this.urlHandlingStrategy.extract(A),rawUrl:A,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pe,restoredState:null,currentSnapshot:B.snapshot,targetSnapshot:null,currentRouterState:B,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.h)(re=>0!==re.id),(0,je.U)(re=>({...re,extractedUrl:this.urlHandlingStrategy.extract(re.rawUrl)})),(0,Ie.w)(re=>{this.currentTransition=re;let Ve=!1,wt=!1;return(0,ge.of)(re).pipe((0,lt.b)(Tt=>{this.currentNavigation={id:Tt.id,initialUrl:Tt.rawUrl,extractedUrl:Tt.extractedUrl,trigger:Tt.source,extras:Tt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ie.w)(Tt=>{const Pn=!E.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Pn&&"reload"!==(Tt.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const Br="";return this.events.next(new Jt(Tt.id,this.urlSerializer.serialize(Tt.rawUrl),Br,gt.IgnoredSameUrlNavigation)),Tt.resolve(null),Fe.E}if(this.urlHandlingStrategy.shouldProcessUrl(Tt.rawUrl))return(0,ge.of)(Tt).pipe((0,Ie.w)(Br=>{const Ki=this.transitions?.getValue();return this.events.next(new me(Br.id,this.urlSerializer.serialize(Br.extractedUrl),Br.source,Br.restoredState)),Ki!==this.transitions?.getValue()?Fe.E:Promise.resolve(Br)}),function C(_,b,E,A,B,re){return(0,Re.z)(Ve=>function oi(_,b,E,A,B,re,Ve="emptyOnly"){return new Qi(_,b,E,A,B,Ve,re).recognize()}(_,b,E,A,Ve.extractedUrl,B,re).pipe((0,je.U)(({state:wt,tree:Tt})=>({...Ve,targetSnapshot:wt,urlAfterRedirects:Tt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,lt.b)(Br=>{re.targetSnapshot=Br.targetSnapshot,re.urlAfterRedirects=Br.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Br.urlAfterRedirects};const Ki=new Wn(Br.id,this.urlSerializer.serialize(Br.extractedUrl),this.urlSerializer.serialize(Br.urlAfterRedirects),Br.targetSnapshot);this.events.next(Ki)}));if(Pn&&this.urlHandlingStrategy.shouldProcessUrl(Tt.currentRawUrl)){const{id:Br,extractedUrl:Ki,source:Wa,restoredState:Pa,extras:qa}=Tt,Ya=new me(Br,this.urlSerializer.serialize(Ki),Wa,Pa);this.events.next(Ya);const ua=Er(this.rootComponentType).snapshot;return this.currentTransition=re={...Tt,targetSnapshot:ua,urlAfterRedirects:Ki,extras:{...qa,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ki,(0,ge.of)(re)}{const Br="";return this.events.next(new Jt(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),Br,gt.IgnoredByUrlHandlingStrategy)),Tt.resolve(null),Fe.E}}),(0,lt.b)(Tt=>{const Pn=new N(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects),Tt.targetSnapshot);this.events.next(Pn)}),(0,je.U)(Tt=>(this.currentTransition=re={...Tt,guards:Aa(Tt.targetSnapshot,Tt.currentSnapshot,this.rootContexts)},re)),function On(_,b){return(0,Re.z)(E=>{const{targetSnapshot:A,currentSnapshot:B,guards:{canActivateChecks:re,canDeactivateChecks:Ve}}=E;return 0===Ve.length&&0===re.length?(0,ge.of)({...E,guardsResult:!0}):function gn(_,b,E,A){return(0,Ee.D)(_).pipe((0,Re.z)(B=>function Ro(_,b,E,A,B){const re=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,ge.of)(!0);const Ve=re.map(wt=>{const Tt=As(b)??B,Pn=nr(wt,Tt);return Bn(function fr(_){return _&&_s(_.canDeactivate)}(Pn)?Pn.canDeactivate(_,b,E,A):(0,l.r_H)(Tt,()=>Pn(_,b,E,A))).pipe((0,nt.P)())});return(0,ge.of)(Ve).pipe(qe())}(B.component,B.route,E,b,A)),(0,nt.P)(B=>!0!==B,!0))}(Ve,A,B,_).pipe((0,Re.z)(wt=>wt&&function ra(_){return"boolean"==typeof _}(wt)?function ii(_,b,E,A){return(0,Ee.D)(b).pipe((0,it.b)(B=>(0,ie.z)(function ar(_,b){return null!==_&&b&&b(new Pt(_)),(0,ge.of)(!0)}(B.route.parent,A),function Fi(_,b){return null!==_&&b&&b(new Xt(_)),(0,ge.of)(!0)}(B.route,A),function Ps(_,b,E){const A=b[b.length-1],re=b.slice(0,b.length-1).reverse().map(Ve=>function na(_){const b=_.routeConfig?_.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:_,guards:b}:null}(Ve)).filter(Ve=>null!==Ve).map(Ve=>Oe(()=>{const wt=Ve.guards.map(Tt=>{const Pn=As(Ve.node)??E,xr=nr(Tt,Pn);return Bn(function Ms(_){return _&&_s(_.canActivateChild)}(xr)?xr.canActivateChild(A,_):(0,l.r_H)(Pn,()=>xr(A,_))).pipe((0,nt.P)())});return(0,ge.of)(wt).pipe(qe())}));return(0,ge.of)(re).pipe(qe())}(_,B.path,E),function Xi(_,b,E){const A=b.routeConfig?b.routeConfig.canActivate:null;if(!A||0===A.length)return(0,ge.of)(!0);const B=A.map(re=>Oe(()=>{const Ve=As(b)??E,wt=nr(re,Ve);return Bn(function Rs(_){return _&&_s(_.canActivate)}(wt)?wt.canActivate(b,_):(0,l.r_H)(Ve,()=>wt(b,_))).pipe((0,nt.P)())}));return(0,ge.of)(B).pipe(qe())}(_,B.route,E))),(0,nt.P)(B=>!0!==B,!0))}(A,re,_,b):(0,ge.of)(wt)),(0,je.U)(wt=>({...E,guardsResult:wt})))})}(this.environmentInjector,Tt=>this.events.next(Tt)),(0,lt.b)(Tt=>{if(re.guardsResult=Tt.guardsResult,ei(Tt.guardsResult))throw Uo(0,Tt.guardsResult);const Pn=new q(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects),Tt.targetSnapshot,!!Tt.guardsResult);this.events.next(Pn)}),(0,ke.h)(Tt=>!!Tt.guardsResult||(this.cancelNavigationTransition(Tt,"",$e.GuardRejected),!1)),Wt(Tt=>{if(Tt.guards.canActivateChecks.length)return(0,ge.of)(Tt).pipe((0,lt.b)(Pn=>{const xr=new Ce(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(xr)}),(0,Ie.w)(Pn=>{let xr=!1;return(0,ge.of)(Pn).pipe(function K(_,b){return(0,Re.z)(E=>{const{targetSnapshot:A,guards:{canActivateChecks:B}}=E;if(!B.length)return(0,ge.of)(E);const re=new Set(B.map(Tt=>Tt.route)),Ve=new Set;for(const Tt of re)if(!Ve.has(Tt))for(const Pn of O(Tt))Ve.add(Pn);let wt=0;return(0,Ee.D)(Ve).pipe((0,it.b)(Tt=>re.has(Tt)?function z(_,b,E,A){const B=_.routeConfig,re=_._resolve;return void 0!==B?.title&&!eo(B)&&(re[In]=B.title),function Le(_,b,E,A){const B=fn(_);if(0===B.length)return(0,ge.of)({});const re={};return(0,Ee.D)(B).pipe((0,Re.z)(Ve=>function bt(_,b,E,A){const B=As(b)??A,re=nr(_,B);return Bn(re.resolve?re.resolve(b,E):(0,l.r_H)(B,()=>re(b,E)))}(_[Ve],b,E,A).pipe((0,nt.P)(),(0,lt.b)(wt=>{re[Ve]=wt}))),ot(1),function fe(_){return(0,je.U)(()=>_)}(re),Ut(Ve=>x(Ve)?Fe.E:Pe(Ve)))}(re,_,b,A).pipe((0,je.U)(Ve=>(_._resolvedData=Ve,_.data=_r(_,_.parent,E).resolve,null)))}(Tt,A,_,b):(Tt.data=_r(Tt,Tt.parent,_).resolve,(0,ge.of)(void 0))),(0,lt.b)(()=>wt++),ot(1),(0,Re.z)(Tt=>wt===Ve.size?(0,ge.of)(E):Fe.E))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,lt.b)({next:()=>xr=!0,complete:()=>{xr||this.cancelNavigationTransition(Pn,"",$e.NoDataFromResolver)}}))}),(0,lt.b)(Pn=>{const xr=new Ye(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(xr)}))}),Wt(Tt=>{const Pn=xr=>{const Br=[];xr.routeConfig?.loadComponent&&!xr.routeConfig._loadedComponent&&Br.push(this.configLoader.loadComponent(xr.routeConfig).pipe((0,lt.b)(Ki=>{xr.component=Ki}),(0,je.U)(()=>{})));for(const Ki of xr.children)Br.push(...Pn(Ki));return Br};return(0,ve.a)(Pn(Tt.targetSnapshot.root)).pipe((0,Zt.d)(null),(0,ue.q)(1))}),Wt(()=>this.afterPreactivation()),(0,Ie.w)(()=>{const{currentSnapshot:Tt,targetSnapshot:Pn}=re,xr=this.createViewTransition?.(this.environmentInjector,Tt.root,Pn.root);return xr?(0,Ee.D)(xr).pipe((0,je.U)(()=>re)):(0,ge.of)(re)}),(0,je.U)(Tt=>{const Pn=function ao(_,b,E){const A=zi(_,b._root,E?E._root:void 0);return new li(A,b)}(E.routeReuseStrategy,Tt.targetSnapshot,Tt.currentRouterState);return this.currentTransition=re={...Tt,targetRouterState:Pn},this.currentNavigation.targetRouterState=Pn,re}),(0,lt.b)(()=>{this.events.next(new yn)}),((_,b,E,A)=>(0,je.U)(B=>(new ta(b,B.targetRouterState,B.currentRouterState,E,A).activate(_),B)))(this.rootContexts,E.routeReuseStrategy,Tt=>this.events.next(Tt),this.inputBindingEnabled),(0,ue.q)(1),(0,lt.b)({next:Tt=>{Ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new be(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects))),this.titleStrategy?.updateTitle(Tt.targetRouterState.snapshot),Tt.resolve(!0)},complete:()=>{Ve=!0}}),function $t(_){return(0,We.e)((b,E)=>{(0,oe.Xf)(_).subscribe((0,Te.x)(E,()=>E.complete(),ut.Z)),!E.closed&&b.subscribe(E)})}(this.transitionAbortSubject.pipe((0,lt.b)(Tt=>{throw Tt}))),(0,rt.x)(()=>{!Ve&&!wt&&this.cancelNavigationTransition(re,"",$e.SupersededByNewNavigation),this.currentNavigation?.id===re.id&&(this.currentNavigation=null)}),Ut(Tt=>{if(wt=!0,Us(Tt))this.events.next(new yt(re.id,this.urlSerializer.serialize(re.extractedUrl),Tt.message,Tt.cancellationCode)),function qo(_){return Us(_)&&ei(_.url)}(Tt)?this.events.next(new bn(Tt.url)):re.resolve(!1);else{this.events.next(new Mn(re.id,this.urlSerializer.serialize(re.extractedUrl),Tt,re.targetSnapshot??void 0));try{re.resolve(E.errorHandler(Tt))}catch(Pn){this.options.resolveNavigationPromiseOnError?re.resolve(!1):re.reject(Pn)}}return Fe.E}))}))}cancelNavigationTransition(E,A,B){const re=new yt(E.id,this.urlSerializer.serialize(E.extractedUrl),A,B);this.events.next(re),E.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function za(_){return _!==pe}let vn=(()=>{class _{static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:()=>(0,l.f3M)(rn),providedIn:"root"})}return _})();class Mt{shouldDetach(b){return!1}store(b,E){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,E){return b.routeConfig===E.routeConfig}}let rn=(()=>{class _ extends Mt{static#e=this.\u0275fac=(()=>{let E;return function(B){return(E||(E=l.n5z(_)))(B||_)}})();static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Yi=(()=>{class _{static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:()=>(0,l.f3M)(ru),providedIn:"root"})}return _})(),ru=(()=>{class _ extends Yi{constructor(){super(...arguments),this.location=(0,l.f3M)(He.Ye),this.urlSerializer=(0,l.f3M)(zt),this.options=(0,l.f3M)(Fr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.f3M)(vs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $r,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Er(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(E){return this.location.subscribe(A=>{"popstate"===A.type&&E(A.url,A.state)})}handleRouterEvent(E,A){if(E instanceof me)this.stateMemento=this.createStateMemento();else if(E instanceof Jt)this.rawUrlTree=A.initialUrl;else if(E instanceof Wn){if("eager"===this.urlUpdateStrategy&&!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.finalUrl,A.initialUrl);this.setBrowserUrl(B,A)}}else E instanceof yn?(this.currentUrlTree=A.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(A.finalUrl,A.initialUrl),this.routerState=A.targetRouterState,"deferred"===this.urlUpdateStrategy&&(A.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,A))):E instanceof yt&&(E.code===$e.GuardRejected||E.code===$e.NoDataFromResolver)?this.restoreHistory(A):E instanceof Mn?this.restoreHistory(A,!0):E instanceof be&&(this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId)}setBrowserUrl(E,A){const B=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(B)||A.extras.replaceUrl){const Ve={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(B,"",Ve)}else{const re={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId+1)};this.location.go(B,"",re)}}restoreHistory(E,A=!1){if("computed"===this.canceledNavigationResolution){const re=this.currentPageId-this.browserPageId;0!==re?this.location.historyGo(re):this.currentUrlTree===E.finalUrl&&0===re&&(this.resetState(E),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,A){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:A}:{navigationId:E}}static#e=this.\u0275fac=(()=>{let E;return function(B){return(E||(E=l.n5z(_)))(B||_)}})();static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();var Ko=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(Ko||{});function iu(_,b){_.events.pipe((0,ke.h)(E=>E instanceof be||E instanceof yt||E instanceof Mn||E instanceof Jt),(0,je.U)(E=>E instanceof be||E instanceof Jt?Ko.COMPLETE:E instanceof yt&&(E.code===$e.Redirect||E.code===$e.SupersededByNewNavigation)?Ko.REDIRECTING:Ko.FAILED),(0,ke.h)(E=>E!==Ko.REDIRECTING),(0,ue.q)(1)).subscribe(()=>{b()})}function Ll(_){throw _}const ia={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ic={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ls=(()=>{class _{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,l.f3M)(l.c2e),this.stateManager=(0,l.f3M)(Yi),this.options=(0,l.f3M)(Fr,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.f3M)(Nn),this.urlSerializer=(0,l.f3M)(zt),this.location=(0,l.f3M)(He.Ye),this.urlHandlingStrategy=(0,l.f3M)(vs),this._events=new xe.x,this.errorHandler=this.options.errorHandler||Ll,this.navigated=!1,this.routeReuseStrategy=(0,l.f3M)(vn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.f3M)(Kr,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.f3M)(mi,{optional:!0}),this.eventsSubscription=new ct.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:E=>{this.console.warn(E)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(A=>{try{const B=this.navigationTransitions.currentTransition,re=this.navigationTransitions.currentNavigation;if(null!==B&&null!==re)if(this.stateManager.handleRouterEvent(A,re),A instanceof yt&&A.code!==$e.Redirect&&A.code!==$e.SupersededByNewNavigation)this.navigated=!0;else if(A instanceof be)this.navigated=!0;else if(A instanceof bn){const Ve=this.urlHandlingStrategy.merge(A.url,B.currentRawUrl),wt={info:B.extras.info,skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||za(B.source)};this.scheduleNavigation(Ve,pe,null,wt,{resolve:B.resolve,reject:B.reject,promise:B.promise})}(function ou(_){return!(_ instanceof yn||_ instanceof bn)})(A)&&this._events.next(A)}catch(B){this.navigationTransitions.transitionAbortSubject.next(B)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pe,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((E,A)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(E,"popstate",A)},0)})}navigateToSyncWithBrowser(E,A,B){const re={replaceUrl:!0},Ve=B?.navigationId?B:null;if(B){const Tt={...B};delete Tt.navigationId,delete Tt.\u0275routerPageId,0!==Object.keys(Tt).length&&(re.state=Tt)}const wt=this.parseUrl(E);this.scheduleNavigation(wt,A,Ve,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(To),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,A={}){const{relativeTo:B,queryParams:re,fragment:Ve,queryParamsHandling:wt,preserveFragment:Tt}=A,Pn=Tt?this.currentUrlTree.fragment:Ve;let Br,xr=null;switch(wt){case"merge":xr={...this.currentUrlTree.queryParams,...re};break;case"preserve":xr=this.currentUrlTree.queryParams;break;default:xr=re||null}null!==xr&&(xr=this.removeEmptyProps(xr));try{Br=Hr(B?B.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),Br=this.currentUrlTree.root}return It(Br,E,xr,Pn??null)}navigateByUrl(E,A={skipLocationChange:!1}){const B=ei(E)?E:this.parseUrl(E),re=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(re,pe,null,A)}navigate(E,A={skipLocationChange:!1}){return function Si(_){for(let b=0;b<_.length;b++)if(null==_[b])throw new l.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,A),A)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){try{return this.urlSerializer.parse(E)}catch{return this.urlSerializer.parse("/")}}isActive(E,A){let B;if(B=!0===A?{...ia}:!1===A?{...Ic}:A,ei(E))return Hn(this.currentUrlTree,E,B);const re=this.parseUrl(E);return Hn(this.currentUrlTree,re,B)}removeEmptyProps(E){return Object.entries(E).reduce((A,[B,re])=>(null!=re&&(A[B]=re),A),{})}scheduleNavigation(E,A,B,re,Ve){if(this.disposed)return Promise.resolve(!1);let wt,Tt,Pn;Ve?(wt=Ve.resolve,Tt=Ve.reject,Pn=Ve.promise):Pn=new Promise((Br,Ki)=>{wt=Br,Tt=Ki});const xr=this.pendingTasks.add();return iu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(xr))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:re,resolve:wt,reject:Tt,promise:Pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pn.catch(Br=>Promise.reject(Br))}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Sa=(()=>{class _{constructor(E,A,B,re,Ve,wt){this.router=E,this.route=A,this.tabIndexAttribute=B,this.renderer=re,this.el=Ve,this.locationStrategy=wt,this.href=null,this.commands=null,this.onChanges=new xe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Tt=Ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Tt||"area"===Tt,this.isAnchorElement?this.subscription=E.events.subscribe(Pn=>{Pn instanceof be&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,A,B,re,Ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||A||B||re||Ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,A){const B=this.renderer,re=this.el.nativeElement;null!==A?B.setAttribute(re,E,A):B.removeAttribute(re,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(A){return new(A||_)(l.Y36(ls),l.Y36(ji),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(He.S$))};static#t=this.\u0275dir=l.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(A,B){1&A&&l.NdJ("click",function(Ve){return B.onClick(Ve.button,Ve.ctrlKey,Ve.shiftKey,Ve.altKey,Ve.metaKey)}),2&A&&l.uIk("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[l.lbL.HasDecoratorInputTransform,"preserveFragment","preserveFragment",l.VuI],skipLocationChange:[l.lbL.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",l.VuI],replaceUrl:[l.lbL.HasDecoratorInputTransform,"replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return _})();class Zo{}let zs=(()=>{class _{preload(E,A){return A().pipe(Ut(()=>(0,ge.of)(null)))}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),tr=(()=>{class _{constructor(E,A,B,re,Ve){this.router=E,this.injector=B,this.preloadingStrategy=re,this.loader=Ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.h)(E=>E instanceof be),(0,it.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,A){const B=[];for(const re of A){re.providers&&!re._injector&&(re._injector=(0,l.MMx)(re.providers,E,`Route: ${re.path}`));const Ve=re._injector??E,wt=re._loadedInjector??Ve;(re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent)&&B.push(this.preloadConfig(Ve,re)),(re.children||re._loadedRoutes)&&B.push(this.processRoutes(wt,re.children??re._loadedRoutes))}return(0,Ee.D)(B).pipe((0,on.J)())}preloadConfig(E,A){return this.preloadingStrategy.preload(A,()=>{let B;B=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(E,A):(0,ge.of)(null);const re=B.pipe((0,Re.z)(Ve=>null===Ve?(0,ge.of)(void 0):(A._loadedRoutes=Ve.routes,A._loadedInjector=Ve.injector,this.processRoutes(Ve.injector??E,Ve.routes))));if(A.loadComponent&&!A._loadedComponent){const Ve=this.loader.loadComponent(A);return(0,Ee.D)([re,Ve]).pipe((0,on.J)())}return re})}static#e=this.\u0275fac=function(A){return new(A||_)(l.LFG(ls),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Zo),l.LFG(Yn))};static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Ns=new l.OlP("");let Wr=(()=>{class _{constructor(E,A,B,re,Ve={}){this.urlSerializer=E,this.transitions=A,this.viewportScroller=B,this.zone=re,this.options=Ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ve.scrollPositionRestoration||="disabled",Ve.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof me?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof be?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof Jt&&E.code===gt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof cn&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cn(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(A){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac})}return _})();function pn(_,b){return{\u0275kind:_,\u0275providers:b}}function Es(){const _=(0,l.f3M)(l.zs3);return b=>{const E=_.get(l.z2F);if(b!==E.components[0])return;const A=_.get(ls),B=_.get(sa);1===_.get(jo)&&A.initialNavigation(),_.get(Bl,null,l.XFs.Optional)?.setUpPreloading(),_.get(Ns,null,l.XFs.Optional)?.init(),A.resetRootComponentType(E.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const sa=new l.OlP("",{factory:()=>new xe.x}),jo=new l.OlP("",{providedIn:"root",factory:()=>1}),Bl=new l.OlP("");function $l(_){return pn(0,[{provide:Bl,useExisting:tr},{provide:Zo,useExisting:_}])}function Ra(_){return pn(9,[{provide:pi,useValue:as},{provide:Vi,useValue:{skipNextTransition:!!_?.skipInitialTransition,..._}}])}const Ha=new l.OlP("ROUTER_FORROOT_GUARD"),ca=[He.Ye,{provide:zt,useClass:wr},ls,I,{provide:ji,useFactory:function Di(_){return _.routerState.root},deps:[ls]},Yn,[]];let Bt=(()=>{class _{constructor(E){}static forRoot(E,A){return{ngModule:_,providers:[ca,[],{provide:Kr,multi:!0,useValue:E},{provide:Ha,useFactory:di,deps:[[ls,new l.FiY,new l.tp0]]},{provide:Fr,useValue:A||{}},A?.useHash?{provide:He.S$,useClass:He.Do}:{provide:He.S$,useClass:He.b0},{provide:Ns,useFactory:()=>{const _=(0,l.f3M)(He.EM),b=(0,l.f3M)(l.R0b),E=(0,l.f3M)(Fr),A=(0,l.f3M)(Nn),B=(0,l.f3M)(zt);return E.scrollOffset&&_.setOffset(E.scrollOffset),new Wr(B,A,_,b,E)}},A?.preloadingStrategy?$l(A.preloadingStrategy).\u0275providers:[],A?.initialNavigation?Ul(A):[],A?.bindToComponentInputs?pn(8,[Sr,{provide:mi,useExisting:Sr}]).\u0275providers:[],A?.enableViewTransitions?Ra().\u0275providers:[],[{provide:Ma,useFactory:Es},{provide:l.tb,multi:!0,useExisting:Ma}]]}}static forChild(E){return{ngModule:_,providers:[{provide:Kr,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(A){return new(A||_)(l.LFG(Ha,8))};static#t=this.\u0275mod=l.oAB({type:_});static#n=this.\u0275inj=l.cJS({})}return _})();function di(_){return"guarded"}function Ul(_){return["disabled"===_.initialNavigation?pn(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const b=(0,l.f3M)(ls);return()=>{b.setUpLocationChangeListener()}}},{provide:jo,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?pn(2,[{provide:jo,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:b=>{const E=b.get(He.V_,Promise.resolve());return()=>E.then(()=>new Promise(A=>{const B=b.get(ls),re=b.get(sa);iu(B,()=>{A(!0)}),b.get(Nn).afterPreactivation=()=>(A(!0),re.closed?(0,ge.of)(void 0):re),B.initialNavigation()}))}}]).\u0275providers:[]]}const Ma=new l.OlP("")},3106:(an,tt,M)=>{"use strict";M.d(tt,{Z:()=>Fe});var l=M(9058),P=M(4537),_e=M(534),le=M(7879);class Ee{constructor(We,Te){this._delegate=We,this.firebase=Te,(0,_e._addComponent)(We,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_e.deleteApp)(this._delegate)))}_getService(We,Te=_e._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(We);return!Qe.isInitialized()&&"EXPLICIT"===(null===(Ue=Qe.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Te})}_removeServiceInstance(We,Te=_e._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(Te)}_addComponent(We){(0,_e._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,_e._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function Ke(){const ct=function ve(ct){const We={},Te={__esModule:!0,initializeApp:function xe(ue,W={}){const ke=_e.initializeApp(ue,W);if((0,l.r3)(We,ke.name))return We[ke.name];const Re=new ct(ke,Te);return We[ke.name]=Re,Re},app:Qe,registerVersion:_e.registerVersion,setLogLevel:_e.setLogLevel,onLog:_e.onLog,apps:null,SDK_VERSION:_e.SDK_VERSION,INTERNAL:{registerComponent:function je(ue){const W=ue.name,ke=W.replace("-compat","");if(_e._registerComponent(ue)&&"PUBLIC"===ue.type){const Re=(nt=Qe())=>{if("function"!=typeof nt[ke])throw ye.create("invalid-app-argument",{appName:W});return nt[ke]()};void 0!==ue.serviceProps&&(0,l.ZB)(Re,ue.serviceProps),Te[ke]=Re,ct.prototype[ke]=function(...nt){return this._getService.bind(this,W).apply(this,ue.multipleInstances?nt:[])}}return"PUBLIC"===ue.type?Te[ke]:null},removeApp:function Ue(ue){delete We[ue]},useAsService:function Ie(ue,W){return"serverAuth"===W?null:W},modularAPIs:_e}};function Qe(ue){if(!(0,l.r3)(We,ue=ue||_e._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:ue});return We[ue]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function He(){return Object.keys(We).map(ue=>We[ue])}}),Qe.App=ct,Te}(Ee);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:Ke,extendNamespace:function We(Te){(0,l.ZB)(ct,Te)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ct}(),oe=new le.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=ie;!function Pe(ct){(0,_e.registerVersion)("@firebase/app-compat","0.2.26",ct)}()},534:(an,tt,M)=>{"use strict";M.r(tt),M.d(tt,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>ui,_DEFAULT_ENTRY_NAME:()=>cr,_addComponent:()=>Vn,_addOrOverwriteComponent:()=>$r,_apps:()=>Fn,_clearComponents:()=>$n,_components:()=>zr,_getProvider:()=>mr,_registerComponent:()=>Dn,_removeServiceInstance:()=>Ai,deleteApp:()=>Nr,getApp:()=>ur,getApps:()=>or,initializeApp:()=>Yr,onLog:()=>Jr,registerVersion:()=>Dr,setLogLevel:()=>Cn});var l=M(5861),P=M(4537),_e=M(7879),le=M(9058);const Ee=(It,pt)=>pt.some(Nt=>It instanceof Nt);let ge,ye;const ie=new WeakMap,oe=new WeakMap,Oe=new WeakMap,ze=new WeakMap,Pe=new WeakMap;let We={get(It,pt,Nt){if(It instanceof IDBTransaction){if("done"===pt)return oe.get(It);if("objectStoreNames"===pt)return It.objectStoreNames||Oe.get(It);if("store"===pt)return Nt.objectStoreNames[1]?void 0:Nt.objectStore(Nt.objectStoreNames[0])}return xe(It[pt])},set:(It,pt,Nt)=>(It[pt]=Nt,!0),has:(It,pt)=>It instanceof IDBTransaction&&("done"===pt||"store"===pt)||pt in It};function Qe(It){return"function"==typeof It?function Ue(It){return It!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(It)?function(...pt){return It.apply(He(this),pt),xe(ie.get(this))}:function(...pt){return xe(It.apply(He(this),pt))}:function(pt,...Nt){const Rt=It.call(He(this),pt,...Nt);return Oe.set(Rt,pt.sort?pt.sort():[pt]),xe(Rt)}}(It):(It instanceof IDBTransaction&&function ct(It){if(oe.has(It))return;const pt=new Promise((Nt,Rt)=>{const Qn=()=>{It.removeEventListener("complete",kn),It.removeEventListener("error",ir),It.removeEventListener("abort",ir)},kn=()=>{Nt(),Qn()},ir=()=>{Rt(It.error||new DOMException("AbortError","AbortError")),Qn()};It.addEventListener("complete",kn),It.addEventListener("error",ir),It.addEventListener("abort",ir)});oe.set(It,pt)}(It),Ee(It,function ve(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(It,We):It)}function xe(It){if(It instanceof IDBRequest)return function Fe(It){const pt=new Promise((Nt,Rt)=>{const Qn=()=>{It.removeEventListener("success",kn),It.removeEventListener("error",ir)},kn=()=>{Nt(xe(It.result)),Qn()},ir=()=>{Rt(It.error),Qn()};It.addEventListener("success",kn),It.addEventListener("error",ir)});return pt.then(Nt=>{Nt instanceof IDBCursor&&ie.set(Nt,It)}).catch(()=>{}),Pe.set(pt,It),pt}(It);if(ze.has(It))return ze.get(It);const pt=Qe(It);return pt!==It&&(ze.set(It,pt),Pe.set(pt,It)),pt}const He=It=>Pe.get(It),ue=["get","getKey","getAll","getAllKeys","count"],W=["put","add","delete","clear"],ke=new Map;function Re(It,pt){if(!(It instanceof IDBDatabase)||pt in It||"string"!=typeof pt)return;if(ke.get(pt))return ke.get(pt);const Nt=pt.replace(/FromIndex$/,""),Rt=pt!==Nt,Qn=W.includes(Nt);if(!(Nt in(Rt?IDBIndex:IDBObjectStore).prototype)||!Qn&&!ue.includes(Nt))return;const kn=function(){var ir=(0,l.Z)(function*(Pr,...Gn){const de=this.transaction(Pr,Qn?"readwrite":"readonly");let Be=de.store;return Rt&&(Be=Be.index(Gn.shift())),(yield Promise.all([Be[Nt](...Gn),Qn&&de.done]))[0]});return function(Gn){return ir.apply(this,arguments)}}();return ke.set(pt,kn),kn}!function Te(It){We=It(We)}(It=>({...It,get:(pt,Nt,Rt)=>Re(pt,Nt)||It.get(pt,Nt,Rt),has:(pt,Nt)=>!!Re(pt,Nt)||It.has(pt,Nt)}));class nt{constructor(pt){this.container=pt}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function it(It){const pt=It.getComponent();return"VERSION"===pt?.type}(Nt)){const Rt=Nt.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(Nt=>Nt).join(" ")}}const lt="@firebase/app",Vt=new _e.Yd("@firebase/app"),cr="[DEFAULT]",Kn={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fn=new Map,zr=new Map;function Vn(It,pt){try{It.container.addComponent(pt)}catch(Nt){Vt.debug(`Component ${pt.name} failed to register with FirebaseApp ${It.name}`,Nt)}}function $r(It,pt){It.container.addOrOverwriteComponent(pt)}function Dn(It){const pt=It.name;if(zr.has(pt))return Vt.debug(`There were multiple attempts to register component ${pt}.`),!1;zr.set(pt,It);for(const Nt of Fn.values())Vn(Nt,It);return!0}function mr(It,pt){const Nt=It.container.getProvider("heartbeat").getImmediate({optional:!0});return Nt&&Nt.triggerHeartbeat(),It.container.getProvider(pt)}function Ai(It,pt,Nt=cr){mr(It,pt).clearInstance(Nt)}function $n(){zr.clear()}const zt=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wr{constructor(pt,Nt,Rt){this._isDeleted=!1,this._options=Object.assign({},pt),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this.checkDestroyed(),this._automaticDataCollectionEnabled=pt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pt){this._isDeleted=pt}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const ui="10.7.2";function Yr(It,pt={}){let Nt=It;"object"!=typeof pt&&(pt={name:pt});const Rt=Object.assign({name:cr,automaticDataCollectionEnabled:!1},pt),Qn=Rt.name;if("string"!=typeof Qn||!Qn)throw zt.create("bad-app-name",{appName:String(Qn)});if(Nt||(Nt=(0,le.aH)()),!Nt)throw zt.create("no-options");const kn=Fn.get(Qn);if(kn){if((0,le.vZ)(Nt,kn.options)&&(0,le.vZ)(Rt,kn.config))return kn;throw zt.create("duplicate-app",{appName:Qn})}const ir=new P.H0(Qn);for(const Gn of zr.values())ir.addComponent(Gn);const Pr=new wr(Nt,Rt,ir);return Fn.set(Qn,Pr),Pr}function ur(It=cr){const pt=Fn.get(It);if(!pt&&It===cr&&(0,le.aH)())return Yr();if(!pt)throw zt.create("no-app",{appName:It});return pt}function or(){return Array.from(Fn.values())}function Nr(It){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(It){const pt=It.name;Fn.has(pt)&&(Fn.delete(pt),yield Promise.all(It.container.getProviders().map(Nt=>Nt.delete())),It.isDeleted=!0)})).apply(this,arguments)}function Dr(It,pt,Nt){var Rt;let Qn=null!==(Rt=Kn[It])&&void 0!==Rt?Rt:It;Nt&&(Qn+=`-${Nt}`);const kn=Qn.match(/\s|\//),ir=pt.match(/\s|\//);if(kn||ir){const Pr=[`Unable to register library "${Qn}" with version "${pt}":`];return kn&&Pr.push(`library name "${Qn}" contains illegal characters (whitespace or "/")`),kn&&ir&&Pr.push("and"),ir&&Pr.push(`version name "${pt}" contains illegal characters (whitespace or "/")`),void Vt.warn(Pr.join(" "))}Dn(new P.wA(`${Qn}-version`,()=>({library:Qn,version:pt}),"VERSION"))}function Jr(It,pt){if(null!==It&&"function"!=typeof It)throw zt.create("invalid-log-argument");(0,_e.Am)(It,pt)}function Cn(It){(0,_e.Ub)(It)}const Un="firebase-heartbeat-database",Ir=1,Ne="firebase-heartbeat-store";let Y=null;function J(){return Y||(Y=function je(It,pt,{blocked:Nt,upgrade:Rt,blocking:Qn,terminated:kn}={}){const ir=indexedDB.open(It,pt),Pr=xe(ir);return Rt&&ir.addEventListener("upgradeneeded",Gn=>{Rt(xe(ir.result),Gn.oldVersion,Gn.newVersion,xe(ir.transaction),Gn)}),Nt&&ir.addEventListener("blocked",Gn=>Nt(Gn.oldVersion,Gn.newVersion,Gn)),Pr.then(Gn=>{kn&&Gn.addEventListener("close",()=>kn()),Qn&&Gn.addEventListener("versionchange",de=>Qn(de.oldVersion,de.newVersion,de))}).catch(()=>{}),Pr}(Un,Ir,{upgrade:(It,pt)=>{if(0===pt)try{It.createObjectStore(Ne)}catch(Nt){console.warn(Nt)}}}).catch(It=>{throw zt.create("idb-open",{originalErrorMessage:It.message})})),Y}function ee(){return(ee=(0,l.Z)(function*(It){try{return yield(yield J()).transaction(Ne).objectStore(Ne).get(dn(It))}catch(pt){if(pt instanceof le.ZR)Vt.warn(pt.message);else{const Nt=zt.create("idb-get",{originalErrorMessage:pt?.message});Vt.warn(Nt.message)}}})).apply(this,arguments)}function Je(It,pt){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(It,pt){try{const Rt=(yield J()).transaction(Ne,"readwrite");yield Rt.objectStore(Ne).put(pt,dn(It)),yield Rt.done}catch(Nt){if(Nt instanceof le.ZR)Vt.warn(Nt.message);else{const Rt=zt.create("idb-set",{originalErrorMessage:Nt?.message});Vt.warn(Rt.message)}}})).apply(this,arguments)}function dn(It){return`${It.name}!${It.options.appId}`}class yr{constructor(pt){this.container=pt,this._heartbeatsCache=null;const Nt=this.container.getProvider("app").getImmediate();this._storage=new ei(Nt),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var pt=this;return(0,l.Z)(function*(){var Nt,Rt;const kn=pt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ir=Jn();if((null!=(null===(Nt=pt._heartbeatsCache)||void 0===Nt?void 0:Nt.heartbeats)||(pt._heartbeatsCache=yield pt._heartbeatsCachePromise,null!=(null===(Rt=pt._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)))&&pt._heartbeatsCache.lastSentHeartbeatDate!==ir&&!pt._heartbeatsCache.heartbeats.some(Pr=>Pr.date===ir))return pt._heartbeatsCache.heartbeats.push({date:ir,agent:kn}),pt._heartbeatsCache.heartbeats=pt._heartbeatsCache.heartbeats.filter(Pr=>{const Gn=new Date(Pr.date).valueOf();return Date.now()-Gn<=2592e6}),pt._storage.overwrite(pt._heartbeatsCache)})()}getHeartbeatsHeader(){var pt=this;return(0,l.Z)(function*(){var Nt;if(null===pt._heartbeatsCache&&(yield pt._heartbeatsCachePromise),null==(null===(Nt=pt._heartbeatsCache)||void 0===Nt?void 0:Nt.heartbeats)||0===pt._heartbeatsCache.heartbeats.length)return"";const Rt=Jn(),{heartbeatsToSend:Qn,unsentEntries:kn}=function Cr(It,pt=1024){const Nt=[];let Rt=It.slice();for(const Qn of It){const kn=Nt.find(ir=>ir.agent===Qn.agent);if(kn){if(kn.dates.push(Qn.date),Ar(Nt)>pt){kn.dates.pop();break}}else if(Nt.push({agent:Qn.agent,dates:[Qn.date]}),Ar(Nt)>pt){Nt.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:Nt,unsentEntries:Rt}}(pt._heartbeatsCache.heartbeats),ir=(0,le.L)(JSON.stringify({version:2,heartbeats:Qn}));return pt._heartbeatsCache.lastSentHeartbeatDate=Rt,kn.length>0?(pt._heartbeatsCache.heartbeats=kn,yield pt._storage.overwrite(pt._heartbeatsCache)):(pt._heartbeatsCache.heartbeats=[],pt._storage.overwrite(pt._heartbeatsCache)),ir})()}}function Jn(){return(new Date).toISOString().substring(0,10)}class ei{constructor(pt){this.app=pt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pt=this;return(0,l.Z)(function*(){if(yield pt._canUseIndexedDBPromise){const Rt=yield function Z(It){return ee.apply(this,arguments)}(pt.app);return Rt?.heartbeats?Rt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(pt){var Nt=this;return(0,l.Z)(function*(){var Rt;if(yield Nt._canUseIndexedDBPromise){const kn=yield Nt.read();return Je(Nt.app,{lastSentHeartbeatDate:null!==(Rt=pt.lastSentHeartbeatDate)&&void 0!==Rt?Rt:kn.lastSentHeartbeatDate,heartbeats:pt.heartbeats})}})()}add(pt){var Nt=this;return(0,l.Z)(function*(){var Rt;if(yield Nt._canUseIndexedDBPromise){const kn=yield Nt.read();return Je(Nt.app,{lastSentHeartbeatDate:null!==(Rt=pt.lastSentHeartbeatDate)&&void 0!==Rt?Rt:kn.lastSentHeartbeatDate,heartbeats:[...kn.heartbeats,...pt.heartbeats]})}})()}}function Ar(It){return(0,le.L)(JSON.stringify({version:2,heartbeats:It})).length}!function Hr(It){Dn(new P.wA("platform-logger",pt=>new nt(pt),"PRIVATE")),Dn(new P.wA("heartbeat",pt=>new yr(pt),"PRIVATE")),Dr(lt,"0.9.26",It),Dr(lt,"0.9.26","esm2017"),Dr("fire-js","")}("")},4537:(an,tt,M)=>{"use strict";M.d(tt,{H0:()=>ve,wA:()=>_e});var l=M(5861),P=M(9058);class _e{constructor(ie,oe,Oe){this.name=ie,this.instanceFactory=oe,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const le="[DEFAULT]";class Ee{constructor(ie,oe){this.name=ie,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const oe=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(oe)){const Oe=new P.BH;if(this.instancesDeferred.set(oe,Oe),this.isInitialized(oe)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:oe});ze&&Oe.resolve(ze)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(ie){var oe;const Oe=this.normalizeInstanceIdentifier(ie?.identifier),ze=null!==(oe=ie?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(Pe){if(ze)return null;throw Pe}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function ye(Ke){return"EAGER"===Ke.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[oe,Oe]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(oe);try{const Pe=this.getOrInitializeService({instanceIdentifier:ze});Oe.resolve(Pe)}catch{}}}}clearInstance(ie=le){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,l.Z)(function*(){const oe=Array.from(ie.instances.values());yield Promise.all([...oe.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...oe.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=le){return this.instances.has(ie)}getOptions(ie=le){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:oe={}}=ie,Oe=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Oe,options:oe});for(const[Pe,Fe]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(Pe)&&Fe.resolve(ze);return ze}onInit(ie,oe){var Oe;const ze=this.normalizeInstanceIdentifier(oe),Pe=null!==(Oe=this.onInitCallbacks.get(ze))&&void 0!==Oe?Oe:new Set;Pe.add(ie),this.onInitCallbacks.set(ze,Pe);const Fe=this.instances.get(ze);return Fe&&ie(Fe,ze),()=>{Pe.delete(ie)}}invokeOnInitCallbacks(ie,oe){const Oe=this.onInitCallbacks.get(oe);if(Oe)for(const ze of Oe)try{ze(ie,oe)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:oe={}}){let Oe=this.instances.get(ie);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ke=ie,Ke===le?void 0:Ke),options:oe}),this.instances.set(ie,Oe),this.instancesOptions.set(ie,oe),this.invokeOnInitCallbacks(Oe,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Oe)}catch{}var Ke;return Oe||null}normalizeInstanceIdentifier(ie=le){return this.component?this.component.multipleInstances?ie:le:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const oe=this.getProvider(ie.name);if(oe.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);oe.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const oe=new Ee(ie,this);return this.providers.set(ie,oe),oe}getProviders(){return Array.from(this.providers.values())}}},7879:(an,tt,M)=>{"use strict";M.d(tt,{Am:()=>Ke,Ub:()=>ve,Yd:()=>ye,in:()=>P});const l=[];var P=function(ie){return ie[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",ie}(P||{});const _e={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},le=P.INFO,Ee={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},ge=(ie,oe,...Oe)=>{if(oe<ie.logLevel)return;const ze=(new Date).toISOString(),Pe=Ee[oe];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Pe](`[${ze}]  ${ie.name}:`,...Oe)};class ye{constructor(oe){this.name=oe,this._logLevel=le,this._logHandler=ge,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in P))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?_e[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...oe),this._logHandler(this,P.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...oe),this._logHandler(this,P.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,P.INFO,...oe),this._logHandler(this,P.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,P.WARN,...oe),this._logHandler(this,P.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...oe),this._logHandler(this,P.ERROR,...oe)}}function ve(ie){l.forEach(oe=>{oe.setLogLevel(ie)})}function Ke(ie,oe){for(const Oe of l){let ze=null;oe&&oe.level&&(ze=_e[oe.level]),Oe.userLogHandler=null===ie?null:(Pe,Fe,...ct)=>{const We=ct.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch{return null}}).filter(Te=>Te).join(" ");Fe>=(ze??Pe.logLevel)&&ie({level:P[Fe].toLowerCase(),message:We,args:ct,type:Pe.name})}}}},5472:(an,tt,M)=>{"use strict";M.d(tt,{y4:()=>Dn,De:()=>Fn,dy:()=>zr,oU:()=>Rt,ki:()=>Ir,O1:()=>Gn,d8:()=>Jr,jP:()=>Cr,UN:()=>de,r4:()=>Qt,SH:()=>Hn,xs:()=>Rn,j:()=>Qn,H:()=>kn,bk:()=>Ge,DN:()=>It,Wn:()=>Be,vk:()=>ft});var l=M(5861),P=M(9212),_e=M(2692),le=M(6814);class Ee{constructor(){this.m=new Map}reset(se){this.m=new Map(Object.entries(se))}get(se,U){const me=this.m.get(se);return void 0!==me?me:U}getBoolean(se,U=!1){const me=this.m.get(se);return void 0===me?U:"string"==typeof me?"true"===me:!!me}getNumber(se,U){const me=parseFloat(this.m.get(se));return isNaN(me)?void 0!==U?U:NaN:me}set(se,U){this.m.set(se,U)}}const ge=new Ee,ze=pe=>Fe(pe),Fe=(pe=window)=>{if(typeof pe>"u")return[];pe.Ionic=pe.Ionic||{};let se=pe.Ionic.platforms;return null==se&&(se=pe.Ionic.platforms=ct(pe),se.forEach(U=>pe.document.documentElement.classList.add(`plt-${U}`))),se},ct=pe=>{const se=ge.get("platform");return Object.keys(Zt).filter(U=>{const me=se?.[U];return"function"==typeof me?me(pe):Zt[U](pe)})},Te=pe=>!!(Ut(pe,/iPad/i)||Ut(pe,/Macintosh/i)&&ue(pe)),xe=pe=>Ut(pe,/android|sink/i),ue=pe=>Vt(pe,"(any-pointer:coarse)"),ke=pe=>Re(pe)||nt(pe),Re=pe=>!!(pe.cordova||pe.phonegap||pe.PhoneGap),nt=pe=>{const se=pe.Capacitor;return!!se?.isNative},Ut=(pe,se)=>se.test(pe.navigator.userAgent),Vt=(pe,se)=>{var U;return null===(U=pe.matchMedia)||void 0===U?void 0:U.call(pe,se).matches},Zt={ipad:Te,iphone:pe=>Ut(pe,/iPhone/i),ios:pe=>Ut(pe,/iPhone|iPod/i)||Te(pe),android:xe,phablet:pe=>{const se=pe.innerWidth,U=pe.innerHeight,me=Math.min(se,U),be=Math.max(se,U);return me>390&&me<520&&be>620&&be<800},tablet:pe=>{const se=pe.innerWidth,U=pe.innerHeight,me=Math.min(se,U),be=Math.max(se,U);return Te(pe)||(pe=>xe(pe)&&!Ut(pe,/mobile/i))(pe)||me>460&&me<820&&be>780&&be<1400},cordova:Re,capacitor:nt,electron:pe=>Ut(pe,/electron/i),pwa:pe=>{var se;return!!(null!==(se=pe.matchMedia)&&void 0!==se&&se.call(pe,"(display-mode: standalone)").matches||pe.navigator.standalone)},mobile:ue,mobileweb:pe=>ue(pe)&&!ke(pe),desktop:pe=>!ue(pe),hybrid:ke};var Me=M(191),fe=M(3630),rt=M(8645),ut=M(2438),$t=M(5619),on=M(2572),qt=M(2096),Lt=M(7582),In=M(2181),Xn=M(4664),kt=M(3997),Et=M(95);const mt=["tabsInner"];let Bn=(()=>{class pe{constructor(U,me){this.doc=U,this.backButton=new rt.x,this.keyboardDidShow=new rt.x,this.keyboardDidHide=new rt.x,this.pause=new rt.x,this.resume=new rt.x,this.resize=new rt.x,me.run(()=>{let be;this.win=U.defaultView,this.backButton.subscribeWithPriority=function($e,gt){return this.subscribe(yt=>yt.register($e,Jt=>me.run(()=>gt(Jt))))},Ln(this.pause,U,"pause",me),Ln(this.resume,U,"resume",me),Ln(this.backButton,U,"ionBackButton",me),Ln(this.resize,this.win,"resize",me),Ln(this.keyboardDidShow,this.win,"ionKeyboardDidShow",me),Ln(this.keyboardDidHide,this.win,"ionKeyboardDidHide",me),this._readyPromise=new Promise($e=>{be=$e}),this.win?.cordova?U.addEventListener("deviceready",()=>{be("cordova")},{once:!0}):be("dom")})}is(U){return((pe,se)=>("string"==typeof pe&&(se=pe,pe=void 0),ze(pe).includes(se)))(this.win,U)}platforms(){return ze(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(U){return mn(this.win.location.href,U)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(U){const me=this.win.navigator;return!!(me?.userAgent&&me.userAgent.indexOf(U)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return pe.\u0275fac=function(U){return new(U||pe)(P.LFG(le.K0),P.LFG(P.R0b))},pe.\u0275prov=P.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const mn=(pe,se)=>{se=se.replace(/[[\]\\]/g,"\\$&");const me=new RegExp("[\\?&]"+se+"=([^&#]*)").exec(pe);return me?decodeURIComponent(me[1].replace(/\+/g," ")):null},Ln=(pe,se,U,me)=>{se&&se.addEventListener(U,be=>{me.run(()=>{const $e=be?.detail;pe.next($e)})})};let Hn=(()=>{class pe{constructor(U,me,be,$e){this.location=me,this.serializer=be,this.router=$e,this.direction=cr,this.animated=Kn,this.guessDirection="forward",this.lastNavId=-1,$e&&$e.events.subscribe(gt=>{if(gt instanceof _e.OD){const yt=gt.restoredState?gt.restoredState.navigationId:gt.id;this.guessDirection=yt<this.lastNavId?"back":"forward",this.guessAnimation=gt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?gt.id:yt}}),U.backButton.subscribeWithPriority(0,gt=>{this.pop(),gt()})}navigateForward(U,me={}){return this.setDirection("forward",me.animated,me.animationDirection,me.animation),this.navigate(U,me)}navigateBack(U,me={}){return this.setDirection("back",me.animated,me.animationDirection,me.animation),this.navigate(U,me)}navigateRoot(U,me={}){return this.setDirection("root",me.animated,me.animationDirection,me.animation),this.navigate(U,me)}back(U={animated:!0,animationDirection:"back"}){return this.setDirection("back",U.animated,U.animationDirection,U.animation),this.location.back()}pop(){var U=this;return(0,l.Z)(function*(){let me=U.topOutlet;for(;me;){if(yield me.pop())return!0;me=me.parentOutlet}return!1})()}setDirection(U,me,be,$e){this.direction=U,this.animated=Mr(U,me,be),this.animationBuilder=$e}setTopOutlet(U){this.topOutlet=U}consumeTransition(){let me,U="root";const be=this.animationBuilder;return"auto"===this.direction?(U=this.guessDirection,me=this.guessAnimation):(me=this.animated,U=this.direction),this.direction=cr,this.animated=Kn,this.animationBuilder=void 0,{direction:U,animation:me,animationBuilder:be}}navigate(U,me){if(Array.isArray(U))return this.router.navigate(U,me);{const be=this.serializer.parse(U.toString());return void 0!==me.queryParams&&(be.queryParams={...me.queryParams}),void 0!==me.fragment&&(be.fragment=me.fragment),this.router.navigateByUrl(be,me)}}}return pe.\u0275fac=function(U){return new(U||pe)(P.LFG(Bn),P.LFG(le.Ye),P.LFG(_e.Hx),P.LFG(_e.F0,8))},pe.\u0275prov=P.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const Mr=(pe,se,U)=>{if(!1!==se){if(void 0!==U)return U;if("forward"===pe||"back"===pe)return pe;if("root"===pe&&!0===se)return"forward"}},cr="auto",Kn=void 0;let Fn=(()=>{class pe{get(U,me){const be=Vn();return be?be.get(U,me):null}getBoolean(U,me){const be=Vn();return!!be&&be.getBoolean(U,me)}getNumber(U,me){const be=Vn();return be?be.getNumber(U,me):0}}return pe.\u0275fac=function(U){return new(U||pe)},pe.\u0275prov=P.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const zr=new P.OlP("USERCONFIG"),Vn=()=>{if(typeof window<"u"){const pe=window.Ionic;if(pe?.config)return pe.config}return null};class $r{constructor(se={}){this.data=se}get(se){return this.data[se]}}let Dn=(()=>{class pe{constructor(){this.zone=(0,P.f3M)(P.R0b),this.applicationRef=(0,P.f3M)(P.z2F)}create(U,me,be){return new mr(U,me,this.applicationRef,this.zone,be)}}return pe.\u0275fac=function(U){return new(U||pe)},pe.\u0275prov=P.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class mr{constructor(se,U,me,be,$e){this.environmentInjector=se,this.injector=U,this.applicationRef=me,this.zone=be,this.elementReferenceKey=$e,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(se,U,me,be){return this.zone.run(()=>new Promise($e=>{const gt={...me};void 0!==this.elementReferenceKey&&(gt[this.elementReferenceKey]=se),$e(Ai(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,se,U,gt,be,this.elementReferenceKey))}))}removeViewFromDom(se,U){return this.zone.run(()=>new Promise(me=>{const be=this.elRefMap.get(U);if(be){be.destroy(),this.elRefMap.delete(U);const $e=this.elEventsMap.get(U);$e&&($e(),this.elEventsMap.delete(U))}me()}))}}const Ai=(pe,se,U,me,be,$e,gt,yt,Jt,Mn,Wn)=>{const N=P.zs3.create({providers:wr(Jt),parent:U}),q=(0,P.LMc)(yt,{environmentInjector:se,elementInjector:N}),Ce=q.instance,Ye=q.location.nativeElement;if(Jt&&(Wn&&void 0!==Ce[Wn]&&console.error(`[Ionic Error]: ${Wn} is a reserved property when using ${gt.tagName.toLowerCase()}. Rename or remove the "${Wn}" property from ${yt.name}.`),Object.assign(Ce,Jt)),Mn)for(const _t of Mn)Ye.classList.add(_t);const dt=Qr(pe,Ce,Ye);return gt.appendChild(Ye),me.attachView(q.hostView),be.set(Ye,q),$e.set(Ye,dt),Ye},$n=[Me.L,Me.a,Me.b,Me.c,Me.d],Qr=(pe,se,U)=>pe.run(()=>{const me=$n.filter(be=>"function"==typeof se[be]).map(be=>{const $e=gt=>se[be](gt.detail);return U.addEventListener(be,$e),()=>U.removeEventListener(be,$e)});return()=>me.forEach(be=>be())}),zt=new P.OlP("NavParamsToken"),wr=pe=>[{provide:zt,useValue:pe},{provide:$r,useFactory:ui,deps:[zt]}],ui=pe=>new $r(pe),Yr=(pe,se)=>{const U=pe.prototype;se.forEach(me=>{Object.defineProperty(U,me,{get(){return this.el[me]},set(be){this.z.runOutsideAngular(()=>this.el[me]=be)}})})},ur=(pe,se)=>{const U=pe.prototype;se.forEach(me=>{U[me]=function(){const be=arguments;return this.z.runOutsideAngular(()=>this.el[me].apply(this.el,be))}})},or=(pe,se,U)=>{U.forEach(me=>pe[me]=(0,ut.R)(se,me))};function Nr(pe){return function(U){const{defineCustomElementFn:me,inputs:be,methods:$e}=pe;return void 0!==me&&me(),be&&Yr(U,be),$e&&ur(U,$e),U}}const kr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Dr=["present","dismiss","onDidDismiss","onWillDismiss"];let Jr=(()=>{let pe=class{constructor(U,me,be){this.z=be,this.isCmpOpen=!1,this.el=me.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,U.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,U.detectChanges()}),or(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return pe.\u0275fac=function(U){return new(U||pe)(P.Y36(P.sBO),P.Y36(P.SBq),P.Y36(P.R0b))},pe.\u0275dir=P.lG2({type:pe,selectors:[["ion-popover"]],contentQueries:function(U,me,be){if(1&U&&P.Suo(be,P.Rgc,5),2&U){let $e;P.iGM($e=P.CRH())&&(me.template=$e.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),pe=(0,Lt.gn)([Nr({inputs:kr,methods:Dr})],pe),pe})();const Cn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Un=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Ir=(()=>{let pe=class{constructor(U,me,be){this.z=be,this.isCmpOpen=!1,this.el=me.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,U.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,U.detectChanges()}),or(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return pe.\u0275fac=function(U){return new(U||pe)(P.Y36(P.sBO),P.Y36(P.SBq),P.Y36(P.R0b))},pe.\u0275dir=P.lG2({type:pe,selectors:[["ion-modal"]],contentQueries:function(U,me,be){if(1&U&&P.Suo(be,P.Rgc,5),2&U){let $e;P.iGM($e=P.CRH())&&(me.template=$e.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),pe=(0,Lt.gn)([Nr({inputs:Cn,methods:Un})],pe),pe})();const Y=(pe,se)=>((pe=pe.filter(U=>U.stackId!==se.stackId)).push(se),pe),ee=(pe,se)=>{const U=pe.createUrlTree(["."],{relativeTo:se});return pe.serializeUrl(U)},Je=(pe,se)=>!se||pe.stackId!==se.stackId,Ft=(pe,se)=>{if(!pe)return;const U=dn(se);for(let me=0;me<U.length;me++){if(me>=pe.length)return U[me];if(U[me]!==pe[me])return}},dn=pe=>pe.split("/").map(se=>se.trim()).filter(se=>""!==se),Zn=pe=>{pe&&(pe.ref.destroy(),pe.unlistenEvents())};class xn{constructor(se,U,me,be,$e,gt){this.containerEl=U,this.router=me,this.navCtrl=be,this.zone=$e,this.location=gt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==se?dn(se):void 0}createView(se,U){const me=ee(this.router,U),be=se?.location?.nativeElement,$e=Qr(this.zone,se.instance,be);return{id:this.nextId++,stackId:Ft(this.tabsPrefix,me),unlistenEvents:$e,element:be,ref:se,url:me}}getExistingView(se){const U=ee(this.router,se),me=this.views.find(be=>be.url===U);return me&&me.ref.changeDetectorRef.reattach(),me}setActive(se){const U=this.navCtrl.consumeTransition();let{direction:me,animation:be,animationBuilder:$e}=U;const gt=this.activeView,yt=Je(se,gt);yt&&(me="back",be=void 0);const Jt=this.views.slice();let Mn;const Wn=this.router;Wn.getCurrentNavigation?Mn=Wn.getCurrentNavigation():Wn.navigations?.value&&(Mn=Wn.navigations.value),Mn?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const N=this.views.includes(se),q=this.insertView(se,me);N||se.ref.changeDetectorRef.detectChanges();const Ce=se.animationBuilder;return void 0===$e&&"back"===me&&!yt&&void 0!==Ce&&($e=Ce),gt&&(gt.animationBuilder=$e),this.zone.runOutsideAngular(()=>this.wait(()=>(gt&&gt.ref.changeDetectorRef.detach(),se.ref.changeDetectorRef.reattach(),this.transition(se,gt,be,this.canGoBack(1),!1,$e).then(()=>yr(se,q,Jt,this.location,this.zone)).then(()=>({enteringView:se,direction:me,animation:be,tabSwitch:yt})))))}canGoBack(se,U=this.getActiveStackId()){return this.getStack(U).length>se}pop(se,U=this.getActiveStackId()){return this.zone.run(()=>{const me=this.getStack(U);if(me.length<=se)return Promise.resolve(!1);const be=me[me.length-se-1];let $e=be.url;const gt=be.savedData;if(gt){const Jt=gt.get("primary");Jt?.route?._routerState?.snapshot.url&&($e=Jt.route._routerState.snapshot.url)}const{animationBuilder:yt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack($e,{...be.savedExtras,animation:yt}).then(()=>!0)})}startBackTransition(){const se=this.activeView;if(se){const U=this.getStack(se.stackId),me=U[U.length-2],be=me.animationBuilder;return this.wait(()=>this.transition(me,se,"back",this.canGoBack(2),!0,be))}return Promise.resolve()}endBackTransition(se){se?(this.skipTransition=!0,this.pop(1)):this.activeView&&Jn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(se){const U=this.getStack(se);return U.length>0?U[U.length-1]:void 0}getRootUrl(se){const U=this.getStack(se);return U.length>0?U[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Zn),this.activeView=void 0,this.views=[]}getStack(se){return this.views.filter(U=>U.stackId===se)}insertView(se,U){return this.activeView=se,this.views=((pe,se,U)=>"root"===U?Y(pe,se):"forward"===U?((pe,se)=>(pe.indexOf(se)>=0?pe=pe.filter(me=>me.stackId!==se.stackId||me.id<=se.id):pe.push(se),pe))(pe,se):((pe,se)=>pe.indexOf(se)>=0?pe.filter(me=>me.stackId!==se.stackId||me.id<=se.id):Y(pe,se))(pe,se))(this.views,se,U),this.views.slice()}transition(se,U,me,be,$e,gt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(U===se)return Promise.resolve(!1);const yt=se?se.element:void 0,Jt=U?U.element:void 0,Mn=this.containerEl;return yt&&yt!==Jt&&(yt.classList.add("ion-page"),yt.classList.add("ion-page-invisible"),yt.parentElement!==Mn&&Mn.appendChild(yt),Mn.commit)?Mn.commit(yt,Jt,{duration:void 0===me?0:void 0,direction:me,showGoBack:be,progressAnimation:$e,animationBuilder:gt}):Promise.resolve(!1)}wait(se){var U=this;return(0,l.Z)(function*(){void 0!==U.runningTask&&(yield U.runningTask,U.runningTask=void 0);const me=U.runningTask=se();return me.finally(()=>U.runningTask=void 0),me})()}}const yr=(pe,se,U,me,be)=>"function"==typeof requestAnimationFrame?new Promise($e=>{requestAnimationFrame(()=>{Jn(pe,se,U,me,be),$e()})}):Promise.resolve(),Jn=(pe,se,U,me,be)=>{be.run(()=>U.filter($e=>!se.includes($e)).forEach(Zn)),se.forEach($e=>{const yt=me.path().split("?")[0].split("#")[0];if($e!==pe&&$e.url!==yt){const Jt=$e.element;Jt.setAttribute("aria-hidden","true"),Jt.classList.add("ion-page-hidden"),$e.ref.changeDetectorRef.detach()}})};let Cr=(()=>{class pe{constructor(U,me,be,$e,gt,yt,Jt,Mn){this.parentOutlet=Mn,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new $t.X(null),this.activated=null,this._activatedRoute=null,this.name=_e.eC,this.stackWillChange=new P.vpe,this.stackDidChange=new P.vpe,this.activateEvents=new P.vpe,this.deactivateEvents=new P.vpe,this.parentContexts=(0,P.f3M)(_e.y6),this.location=(0,P.f3M)(P.s_b),this.environmentInjector=(0,P.f3M)(P.lqb),this.inputBinder=(0,P.f3M)(Ar,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,P.f3M)(Fn),this.navCtrl=(0,P.f3M)(Hn),this.nativeEl=$e.nativeElement,this.name=U||_e.eC,this.tabsPrefix="true"===me?ee(gt,Jt):void 0,this.stackCtrl=new xn(this.tabsPrefix,this.nativeEl,gt,this.navCtrl,yt,be),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(U){this.nativeEl.animation=U}set animated(U){this.nativeEl.animated=U}set swipeGesture(U){this._swipeGesture=U,this.nativeEl.swipeHandler=U?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:me=>this.stackCtrl.endBackTransition(me)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const U=this.getContext();U?.route&&this.activateWith(U.route,U.injector)}new Promise(U=>(0,fe.c)(this.nativeEl,U)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(U,me){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const me=this.getContext();this.activatedView.savedData=new Map(me.children.contexts);const be=this.activatedView.savedData.get("primary");if(be&&me.route&&(be.route={...me.route}),this.activatedView.savedExtras={},me.route){const $e=me.route.snapshot;this.activatedView.savedExtras.queryParams=$e.queryParams,this.activatedView.savedExtras.fragment=$e.fragment}}const U=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(U)}}activateWith(U,me){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=U;let be,$e=this.stackCtrl.getExistingView(U);if($e){be=this.activated=$e.ref;const yt=$e.savedData;yt&&(this.getContext().children.contexts=yt),this.updateActivatedRouteProxy(be.instance,U)}else{const yt=U._futureSnapshot,Jt=this.parentContexts.getOrCreateContext(this.name).children,Mn=new $t.X(null),Wn=this.createActivatedRouteProxy(Mn,U),N=new ei(Wn,Jt,this.location.injector);be=this.activated=this.location.createComponent(yt.routeConfig.component??yt.component,{index:this.location.length,injector:N,environmentInjector:me??this.environmentInjector}),Mn.next(be.instance),$e=this.stackCtrl.createView(this.activated,U),this.proxyMap.set(be.instance,Wn),this.currentActivatedRoute$.next({component:be.instance,activatedRoute:U})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=$e,this.navCtrl.setTopOutlet(this);const gt=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:$e,tabSwitch:Je($e,gt)}),this.stackCtrl.setActive($e).then(yt=>{this.activateEvents.emit(be.instance),this.stackDidChange.emit(yt)})}canGoBack(U=1,me){return this.stackCtrl.canGoBack(U,me)}pop(U=1,me){return this.stackCtrl.pop(U,me)}getLastUrl(U){const me=this.stackCtrl.getLastUrl(U);return me?me.url:void 0}getLastRouteView(U){return this.stackCtrl.getLastUrl(U)}getRootView(U){return this.stackCtrl.getRootUrl(U)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(U,me){const be=new _e.gz;return be._futureSnapshot=me._futureSnapshot,be._routerState=me._routerState,be.snapshot=me.snapshot,be.outlet=me.outlet,be.component=me.component,be._paramMap=this.proxyObservable(U,"paramMap"),be._queryParamMap=this.proxyObservable(U,"queryParamMap"),be.url=this.proxyObservable(U,"url"),be.params=this.proxyObservable(U,"params"),be.queryParams=this.proxyObservable(U,"queryParams"),be.fragment=this.proxyObservable(U,"fragment"),be.data=this.proxyObservable(U,"data"),be}proxyObservable(U,me){return U.pipe((0,In.h)(be=>!!be),(0,Xn.w)(be=>this.currentActivatedRoute$.pipe((0,In.h)($e=>null!==$e&&$e.component===be),(0,Xn.w)($e=>$e&&$e.activatedRoute[me]),(0,kt.x)())))}updateActivatedRouteProxy(U,me){const be=this.proxyMap.get(U);if(!be)throw new Error("Could not find activated route proxy for view");be._futureSnapshot=me._futureSnapshot,be._routerState=me._routerState,be.snapshot=me.snapshot,be.outlet=me.outlet,be.component=me.component,this.currentActivatedRoute$.next({component:U,activatedRoute:me})}}return pe.\u0275fac=function(U){return new(U||pe)(P.$8M("name"),P.$8M("tabs"),P.Y36(le.Ye),P.Y36(P.SBq),P.Y36(_e.F0),P.Y36(P.R0b),P.Y36(_e.gz),P.Y36(pe,12))},pe.\u0275dir=P.lG2({type:pe,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),pe})();class ei{constructor(se,U,me){this.route=se,this.childContexts=U,this.parent=me}get(se,U){return se===_e.gz?this.route:se===_e.y6?this.childContexts:this.parent.get(se,U)}}const Ar=new P.OlP("");let Hr=(()=>{class pe{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(U){this.unsubscribeFromRouteData(U),this.subscribeToRouteData(U)}unsubscribeFromRouteData(U){this.outletDataSubscriptions.get(U)?.unsubscribe(),this.outletDataSubscriptions.delete(U)}subscribeToRouteData(U){const{activatedRoute:me}=U,be=(0,on.a)([me.queryParams,me.params,me.data]).pipe((0,Xn.w)(([$e,gt,yt],Jt)=>(yt={...$e,...gt,...yt},0===Jt?(0,qt.of)(yt):Promise.resolve(yt)))).subscribe($e=>{if(!U.isActivated||!U.activatedComponentRef||U.activatedRoute!==me||null===me.component)return void this.unsubscribeFromRouteData(U);const gt=(0,P.qFp)(me.component);if(gt)for(const{templateName:yt}of gt.inputs)U.activatedComponentRef.setInput(yt,$e[yt]);else this.unsubscribeFromRouteData(U)});this.outletDataSubscriptions.set(U,be)}}return pe.\u0275fac=function(U){return new(U||pe)},pe.\u0275prov=P.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const It=()=>({provide:Ar,useFactory:pt,deps:[_e.F0]});function pt(pe){return pe?.componentInputBindingEnabled?new Hr:null}const Nt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Rt=(()=>{let pe=class{constructor(U,me,be,$e,gt,yt){this.routerOutlet=U,this.navCtrl=me,this.config=be,this.r=$e,this.z=gt,yt.detach(),this.el=this.r.nativeElement}onClick(U){const me=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),U.preventDefault()):null!=me&&(this.navCtrl.navigateBack(me,{animation:this.routerAnimation}),U.preventDefault())}};return pe.\u0275fac=function(U){return new(U||pe)(P.Y36(Cr,8),P.Y36(Hn),P.Y36(Fn),P.Y36(P.SBq),P.Y36(P.R0b),P.Y36(P.sBO))},pe.\u0275dir=P.lG2({type:pe,hostBindings:function(U,me){1&U&&P.NdJ("click",function($e){return me.onClick($e)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),pe=(0,Lt.gn)([Nr({inputs:Nt})],pe),pe})(),Qn=(()=>{class pe{constructor(U,me,be,$e,gt){this.locationStrategy=U,this.navCtrl=me,this.elementRef=be,this.router=$e,this.routerLink=gt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const U=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=U}}onClick(U){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),U.preventDefault()}}return pe.\u0275fac=function(U){return new(U||pe)(P.Y36(le.S$),P.Y36(Hn),P.Y36(P.SBq),P.Y36(_e.F0),P.Y36(_e.rH,8))},pe.\u0275dir=P.lG2({type:pe,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(U,me){1&U&&P.NdJ("click",function($e){return me.onClick($e)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[P.TTD]}),pe})(),kn=(()=>{class pe{constructor(U,me,be,$e,gt){this.locationStrategy=U,this.navCtrl=me,this.elementRef=be,this.router=$e,this.routerLink=gt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const U=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=U}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return pe.\u0275fac=function(U){return new(U||pe)(P.Y36(le.S$),P.Y36(Hn),P.Y36(P.SBq),P.Y36(_e.F0),P.Y36(_e.rH,8))},pe.\u0275dir=P.lG2({type:pe,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(U,me){1&U&&P.NdJ("click",function(){return me.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[P.TTD]}),pe})();const ir=["animated","animation","root","rootParams","swipeGesture"],Pr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Gn=(()=>{let pe=class{constructor(U,me,be,$e,gt,yt){this.z=gt,yt.detach(),this.el=U.nativeElement,U.nativeElement.delegate=$e.create(me,be),or(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return pe.\u0275fac=function(U){return new(U||pe)(P.Y36(P.SBq),P.Y36(P.lqb),P.Y36(P.zs3),P.Y36(Dn),P.Y36(P.R0b),P.Y36(P.sBO))},pe.\u0275dir=P.lG2({type:pe,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),pe=(0,Lt.gn)([Nr({inputs:ir,methods:Pr})],pe),pe})(),de=(()=>{class pe{constructor(U){this.navCtrl=U,this.ionTabsWillChange=new P.vpe,this.ionTabsDidChange=new P.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:U,tabSwitch:me}){const be=U.stackId;me&&void 0!==be&&this.ionTabsWillChange.emit({tab:be})}onStackDidChange({enteringView:U,tabSwitch:me}){const be=U.stackId;me&&void 0!==be&&(this.tabBar&&(this.tabBar.selectedTab=be),this.ionTabsDidChange.emit({tab:be}))}select(U){const me="string"==typeof U,be=me?U:U.detail.tab,$e=this.outlet.getActiveStackId()===be,gt=`${this.outlet.tabsPrefix}/${be}`;if(me||U.stopPropagation(),$e){const yt=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(yt)?.url===gt)return;const Mn=this.outlet.getRootView(be);return this.navCtrl.navigateRoot(gt,{...Mn&&gt===Mn.url&&Mn.savedExtras,animated:!0,animationDirection:"back"})}{const yt=this.outlet.getLastRouteView(be),Jt=yt?.url||gt,Mn=yt?.savedExtras;return this.navCtrl.navigateRoot(Jt,{...Mn,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(U=>{const me=U.el.getAttribute("slot");me!==this.tabBarSlot&&(this.tabBarSlot=me,this.relocateTabBar())})}relocateTabBar(){const U=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(U):this.tabsInner.nativeElement.after(U)}}return pe.\u0275fac=function(U){return new(U||pe)(P.Y36(Hn))},pe.\u0275dir=P.lG2({type:pe,selectors:[["ion-tabs"]],viewQuery:function(U,me){if(1&U&&P.Gf(mt,7,P.SBq),2&U){let be;P.iGM(be=P.CRH())&&(me.tabsInner=be.first)}},hostBindings:function(U,me){1&U&&P.NdJ("ionTabButtonClick",function($e){return me.select($e)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),pe})();const Be=pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(pe):setTimeout(pe);let Ge=(()=>{class pe{constructor(U,me){this.injector=U,this.elementRef=me,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(U){this.elementRef.nativeElement.value=this.lastValue=U,ft(this.elementRef)}handleValueChange(U,me){U===this.elementRef.nativeElement&&(me!==this.lastValue&&(this.lastValue=me,this.onChange(me)),ft(this.elementRef))}_handleBlurEvent(U){U===this.elementRef.nativeElement&&(this.onTouched(),ft(this.elementRef))}registerOnChange(U){this.onChange=U}registerOnTouched(U){this.onTouched=U}setDisabledState(U){this.elementRef.nativeElement.disabled=U}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let U;try{U=this.injector.get(Et.a5)}catch{}if(!U)return;U.statusChanges&&(this.statusChanges=U.statusChanges.subscribe(()=>ft(this.elementRef)));const me=U.control;me&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach($e=>{if(typeof me[$e]<"u"){const gt=me[$e].bind(me);me[$e]=(...yt)=>{gt(...yt),ft(this.elementRef)}}})}}return pe.\u0275fac=function(U){return new(U||pe)(P.Y36(P.zs3),P.Y36(P.SBq))},pe.\u0275dir=P.lG2({type:pe,hostBindings:function(U,me){1&U&&P.NdJ("ionBlur",function($e){return me._handleBlurEvent($e.target)})}}),pe})();const ft=pe=>{Be(()=>{const se=pe.nativeElement,U=null!=se.value&&se.value.toString().length>0,me=jt(se);Kt(se,me);const be=se.closest("ion-item");be&&Kt(be,U?[...me,"item-has-value"]:me)})},jt=pe=>{const se=pe.classList,U=[];for(let me=0;me<se.length;me++){const be=se.item(me);null!==be&&Gt(be,"ng-")&&U.push(`ion-${be.substring(3)}`)}return U},Kt=(pe,se)=>{const U=pe.classList;U.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),U.add(...se)},Gt=(pe,se)=>pe.substring(0,se.length)===se;class Qt{shouldDetach(se){return!1}shouldAttach(se){return!1}store(se,U){}retrieve(se){return null}shouldReuseRoute(se,U){if(se.routeConfig!==U.routeConfig)return!1;const me=se.params,be=U.params,$e=Object.keys(me),gt=Object.keys(be);if($e.length!==gt.length)return!1;for(const yt of $e)if(be[yt]!==me[yt])return!1;return!0}}class Rn{constructor(se){this.ctrl=se}create(se){return this.ctrl.create(se||{})}dismiss(se,U,me){return this.ctrl.dismiss(se,U,me)}getTop(){return this.ctrl.getTop()}}},451:(an,tt,M)=>{"use strict";M.d(tt,{Br:()=>q,dr:()=>qt,BJ:()=>Lt,YG:()=>mt,Sm:()=>Ot,PM:()=>fn,FN:()=>At,Zi:()=>Bn,Dq:()=>Ln,wI:()=>cr,W2:()=>Kn,jY:()=>Ai,Gu:()=>$n,gu:()=>Qr,Xz:()=>zt,pK:()=>Yr,Ie:()=>ur,Q$:()=>Cn,q_:()=>Un,z0:()=>Y,fG:()=>J,jP:()=>pe,Nd:()=>It,yW:()=>Ge,wd:()=>Kt,sr:()=>Rn,Pc:()=>Ur,HT:()=>_t,IN:()=>tn,YI:()=>be,j9:()=>Zt,yF:()=>cn});var l=M(9212),P=M(95),_e=M(5472),le=M(7582),Ee=M(2438),ge=M(6814),ye=M(2692),ze=(M(4913),M(4232),M(4810),M(2655),M(6535),M(5551)),Pe=M(8958),ct=(M(2413),M(2936)),Te=(M(1848),M(9942));M(2019);const He=ze.i,Ie=["*"];let Zt=(()=>{class I extends _e.bk{constructor(S,ae){super(S,ae)}_handleInputEvent(S){this.handleValueChange(S,S.value)}}return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.zs3),l.Y36(l.SBq))},I.\u0275dir=l.lG2({type:I,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(S,ae){1&S&&l.NdJ("ionInput",function(er){return ae._handleInputEvent(er.target)})},features:[l._Bn([{provide:P.JU,useExisting:I,multi:!0}]),l.qOj]}),I})();const ot=(I,te)=>{const S=I.prototype;te.forEach(ae=>{Object.defineProperty(S,ae,{get(){return this.el[ae]},set(Xe){this.z.runOutsideAngular(()=>this.el[ae]=Xe)},configurable:!0})})},Se=(I,te)=>{const S=I.prototype;te.forEach(ae=>{S[ae]=function(){const Xe=arguments;return this.z.runOutsideAngular(()=>this.el[ae].apply(this.el,Xe))}})},ce=(I,te,S)=>{S.forEach(ae=>I[ae]=(0,Ee.R)(te,ae))};function fe(I){return function(S){const{defineCustomElementFn:ae,inputs:Xe,methods:er}=I;return void 0!==ae&&ae(),Xe&&ot(S,Xe),er&&Se(S,er),S}}let qt=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-app"]],ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({})],I),I})(),Lt=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-avatar"]],ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({})],I),I})(),mt=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement,ce(this,this.el,["ionFocus","ionBlur"])}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],I),I})(),Ot=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["collapse"]})],I),I})(),fn=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],I),I})(),At=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["mode"]})],I),I})(),Bn=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["color","mode","translucent"]})],I),I})(),Ln=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["color","mode"]})],I),I})(),cr=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],I),I})(),Kn=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement,ce(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],I),I})(),Ai=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["fixed"]})],I),I})(),$n=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["collapse","mode","translucent"]})],I),I})(),Qr=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],I),I})(),zt=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement,ce(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["alt","src"]})],I),I})(),Yr=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement,ce(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],I),I})(),ur=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],I),I})(),Cn=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["color","mode","position"]})],I),I})(),Un=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],I),I})(),Y=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement,ce(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],I),I})(),J=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["autoHide","color","disabled","menu","mode","type"]})],I),I})(),It=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-row"]],ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({})],I),I})(),Ge=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["color","mode"]})],I),I})(),Kt=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["color","size"]})],I),I})(),Rn=(()=>{let I=class{constructor(S,ae,Xe){this.z=Xe,S.detach(),this.el=ae.nativeElement}};return I.\u0275fac=function(S){return new(S||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ie,decls:1,vars:0,template:function(S,ae){1&S&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,le.gn)([fe({inputs:["color","mode"]})],I),I})(),pe=(()=>{class I extends _e.jP{constructor(S,ae,Xe,er,li,Er,ti,ji){super(S,ae,Xe,er,li,Er,ti,ji),this.parentOutlet=ji}}return I.\u0275fac=function(S){return new(S||I)(l.$8M("name"),l.$8M("tabs"),l.Y36(ge.Ye),l.Y36(l.SBq),l.Y36(ye.F0),l.Y36(l.R0b),l.Y36(ye.gz),l.Y36(I,12))},I.\u0275dir=l.lG2({type:I,selectors:[["ion-router-outlet"]],features:[l.qOj]}),I})(),be=(()=>{class I extends _e.j{}return I.\u0275fac=(()=>{let te;return function(ae){return(te||(te=l.n5z(I)))(ae||I)}})(),I.\u0275dir=l.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],features:[l.qOj]}),I})();const Jt={provide:P.Cf,useExisting:(0,l.Gpc)(()=>Mn),multi:!0};let Mn=(()=>{class I extends P.Fd{}return I.\u0275fac=(()=>{let te;return function(ae){return(te||(te=l.n5z(I)))(ae||I)}})(),I.\u0275dir=l.lG2({type:I,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(S,ae){2&S&&l.uIk("max",ae._enabled?ae.max:null)},features:[l._Bn([Jt]),l.qOj]}),I})();const Wn={provide:P.Cf,useExisting:(0,l.Gpc)(()=>N),multi:!0};let N=(()=>{class I extends P.qQ{}return I.\u0275fac=(()=>{let te;return function(ae){return(te||(te=l.n5z(I)))(ae||I)}})(),I.\u0275dir=l.lG2({type:I,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(S,ae){2&S&&l.uIk("min",ae._enabled?ae.min:null)},features:[l._Bn([Wn]),l.qOj]}),I})(),q=(()=>{class I extends _e.xs{constructor(){super(ct.a)}}return I.\u0275fac=function(S){return new(S||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),_t=(()=>{class I extends _e.xs{constructor(){super(ct.l)}}return I.\u0275fac=function(S){return new(S||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),tn=(()=>{class I extends _e.xs{constructor(){super(ct.m),this.angularDelegate=(0,l.f3M)(_e.y4),this.injector=(0,l.f3M)(l.zs3),this.environmentInjector=(0,l.f3M)(l.lqb)}create(S){return super.create({...S,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return I.\u0275fac=function(S){return new(S||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac}),I})();class Yt extends _e.xs{constructor(){super(ct.c),this.angularDelegate=(0,l.f3M)(_e.y4),this.injector=(0,l.f3M)(l.zs3),this.environmentInjector=(0,l.f3M)(l.lqb)}create(te){return super.create({...te,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let cn=(()=>{class I extends _e.xs{constructor(){super(ct.t)}}return I.\u0275fac=function(S){return new(S||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const yn=(I,te,S)=>()=>{if(te.defaultView&&typeof window<"u"){(0,Pe.s)({...I,_zoneGate:er=>S.run(er)});const Xe="__zone_symbol__addEventListener"in te.body?"__zone_symbol__addEventListener":"addEventListener";return function xe(){var I=[];if(typeof window<"u"){var te=window;(!te.customElements||te.Element&&(!te.Element.prototype.closest||!te.Element.prototype.matches||!te.Element.prototype.remove||!te.Element.prototype.getRootNode))&&I.push(M.e(6748).then(M.t.bind(M,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||te.NodeList&&!te.NodeList.prototype.forEach||!te.fetch||!function(){try{var ae=new URL("b","http://a");return ae.pathname="c%20d","http://a/c%20d"===ae.href&&ae.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&I.push(M.e(2214).then(M.t.bind(M,2668,23)))}return Promise.all(I)}().then(()=>((I,te)=>{if(!(typeof window>"u"))return He(),(0,Te.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),te)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:_e.Wn,jmp:er=>S.runOutsideAngular(er),ael(er,li,Er,ti){er[Xe](li,Er,ti)},rel(er,li,Er,ti){er.removeEventListener(li,Er,ti)}}))}};let Ur=(()=>{class I{static forRoot(S){return{ngModule:I,providers:[{provide:_e.dy,useValue:S},{provide:l.ip1,useFactory:yn,multi:!0,deps:[_e.dy,ge.K0,l.R0b]},(0,_e.DN)()]}}}return I.\u0275fac=function(S){return new(S||I)},I.\u0275mod=l.oAB({type:I}),I.\u0275inj=l.cJS({providers:[_e.y4,tn,Yt],imports:[ge.ez]}),I})()},3182:(an,tt,M)=>{"use strict";M.d(tt,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=M(534);(0,l.registerVersion)("firebase","10.7.2","app")},7142:(an,tt,M)=>{"use strict";M.d(tt,{Z:()=>l.Z});var l=M(3106);l.Z.registerVersion("firebase","10.7.2","app-compat")},5861:(an,tt,M)=>{"use strict";function l(_e,le,Ee,ge,ye,ve,Ke){try{var ie=_e[ve](Ke),oe=ie.value}catch(Oe){return void Ee(Oe)}ie.done?le(oe):Promise.resolve(oe).then(ge,ye)}function P(_e){return function(){var le=this,Ee=arguments;return new Promise(function(ge,ye){var ve=_e.apply(le,Ee);function Ke(oe){l(ve,ge,ye,Ke,ie,"next",oe)}function ie(oe){l(ve,ge,ye,Ke,ie,"throw",oe)}Ke(void 0)})}}M.d(tt,{Z:()=>P})},7582:(an,tt,M)=>{"use strict";function le(Se,ce){var Me={};for(var fe in Se)Object.prototype.hasOwnProperty.call(Se,fe)&&ce.indexOf(fe)<0&&(Me[fe]=Se[fe]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(fe=Object.getOwnPropertySymbols(Se);rt<fe.length;rt++)ce.indexOf(fe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Se,fe[rt])&&(Me[fe[rt]]=Se[fe[rt]])}return Me}function Ee(Se,ce,Me,fe){var $t,rt=arguments.length,ut=rt<3?ce:null===fe?fe=Object.getOwnPropertyDescriptor(ce,Me):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ut=Reflect.decorate(Se,ce,Me,fe);else for(var on=Se.length-1;on>=0;on--)($t=Se[on])&&(ut=(rt<3?$t(ut):rt>3?$t(ce,Me,ut):$t(ce,Me))||ut);return rt>3&&ut&&Object.defineProperty(ce,Me,ut),ut}function Oe(Se,ce,Me,fe){return new(Me||(Me=Promise))(function(ut,$t){function on(In){try{Lt(fe.next(In))}catch(Xn){$t(Xn)}}function qt(In){try{Lt(fe.throw(In))}catch(Xn){$t(Xn)}}function Lt(In){In.done?ut(In.value):function rt(ut){return ut instanceof Me?ut:new Me(function($t){$t(ut)})}(In.value).then(on,qt)}Lt((fe=fe.apply(Se,ce||[])).next())})}function xe(Se){return this instanceof xe?(this.v=Se,this):new xe(Se)}function He(Se,ce,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,fe=Me.apply(Se,ce||[]),ut=[];return rt={},$t("next"),$t("throw"),$t("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function $t(kt){fe[kt]&&(rt[kt]=function(Et){return new Promise(function(mt,Ot){ut.push([kt,Et,mt,Ot])>1||on(kt,Et)})})}function on(kt,Et){try{!function qt(kt){kt.value instanceof xe?Promise.resolve(kt.value.v).then(Lt,In):Xn(ut[0][2],kt)}(fe[kt](Et))}catch(mt){Xn(ut[0][3],mt)}}function Lt(kt){on("next",kt)}function In(kt){on("throw",kt)}function Xn(kt,Et){kt(Et),ut.shift(),ut.length&&on(ut[0][0],ut[0][1])}}function Ie(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ce=Se[Symbol.asyncIterator];return ce?ce.call(Se):(Se=function ct(Se){var ce="function"==typeof Symbol&&Symbol.iterator,Me=ce&&Se[ce],fe=0;if(Me)return Me.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&fe>=Se.length&&(Se=void 0),{value:Se&&Se[fe++],done:!Se}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),Me={},fe("next"),fe("throw"),fe("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function fe(ut){Me[ut]=Se[ut]&&function($t){return new Promise(function(on,qt){!function rt(ut,$t,on,qt){Promise.resolve(qt).then(function(Lt){ut({value:Lt,done:on})},$t)}(on,qt,($t=Se[ut]($t)).done,$t.value)})}}}M.d(tt,{FC:()=>He,KL:()=>Ie,_T:()=>le,gn:()=>Ee,mG:()=>Oe,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},an=>{an(an.s=7346)}]);