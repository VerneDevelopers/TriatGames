"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9275],{9275:(ft,_e,f)=>{f.d(_e,{Y:()=>w});var m=f(9212),h=f(8540),s=f(6814);let w=(()=>{class ae{constructor(C,E){this.afs=C,this.datePipe=E,this.formatoFecha="dd/MM/yyyy"}getPuntuacionVacia(){return{idUsuario:"",nombreUsuario:"",ptsWordle:0,ptsAhorcado:0,ptsTrivial:0,ptsTotales:0}}addPoints(C,E,N,le,Y){const ye=this.datePipe.transform(N,this.formatoFecha)?.replace(/\//g,""),ne=this.obtenerRangoDeSemana(N),re=Y?3:1;[`puntuaciones/diaria/${ye}`,`puntuaciones/semanal/${ne}`,"puntuaciones/global/hist\xf3rico"].forEach(U=>{this.afs.collection(U).doc(C).get().subscribe(Ie=>{const W=Ie.data()||this.getPuntuacionVacia();switch(le){case"Wordle":W.ptsWordle=re;break;case"Ahorcado":W.ptsAhorcado=re;break;case"Trivial":W.ptsTrivial=re;break;default:return void console.log("Juego desconocido")}W.idUsuario=C,W.nombreUsuario=E,W.ptsTotales+=re,this.afs.collection(U).doc(C).set(W)})})}scoreDay(C){const E=this.datePipe.transform(C,this.formatoFecha)?.replace(/\//g,"");return this.afs.collection(`puntuaciones/diaria/${E}`).valueChanges()}scoreWeek(C){const E=this.obtenerRangoDeSemana(C);return this.afs.collection(`puntuaciones/semanal/${E}`).valueChanges()}scoreWorld(){return this.afs.collection("puntuaciones/global/hist\xf3rico").valueChanges()}obtenerRangoDeSemana(C){const E=new Date(C);E.setDate(C.getDate()-C.getDay()+(0===C.getDay()?-6:1)),E.setHours(0,0,0,0);const N=new Date(E);return N.setDate(E.getDate()+6),N.setHours(0,0,0,0),`${E.getDate()}${E.getMonth()+1}${E.getFullYear()}_${N.getDate()}${N.getMonth()+1}${N.getFullYear()}`}static#e=this.\u0275fac=function(E){return new(E||ae)(m.LFG(h.ST),m.LFG(s.uU))};static#t=this.\u0275prov=m.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},8540:(ft,_e,f)=>{f.d(_e,{ST:()=>mt});var m=f(6814),h=f(9212),s=f(1920),w=f(7217),Le=(f(6365),f(8645)),C=f(2096),E=f(5592),N=f(2459),le=f(7537),Y=f(4829),ye=f(6232),ne=f(4564),ue=f(3093),U=f(4664),O=f(7398),Ie=f(4552);class W extends Le.x{constructor(e=1/0,t=1/0,i=Ie.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:u,_timestampProvider:g,_windowTime:v}=this;t||(i.push(e),!u&&i.push(g.now()+v)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:u}=this,g=u.slice();for(let v=0;v<g.length&&!e.closed;v+=i?1:2)e.next(g[v]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:u}=this,g=(u?1:2)*e;if(e<1/0&&g<i.length&&i.splice(0,i.length-g),!u){const v=t.now();let _=0;for(let R=1;R<i.length&&i[R]<=v;R+=2)_=R;_&&i.splice(0,_+1)}}}var De=f(305),Ue=f(9360);function we(a,e,...t){if(!0===e)return void a();if(!1===e)return;const i=new De.Hp({next:()=>{i.unsubscribe(),a()}});return(0,Y.Xf)(e(...t)).subscribe(i)}function ke(a,e,t){let i,u=!1;return a&&"object"==typeof a?({bufferSize:i=1/0,windowTime:e=1/0,refCount:u=!1,scheduler:t}=a):i=a??1/0,function tt(a={}){const{connector:e=(()=>new Le.x),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:u=!0}=a;return g=>{let v,_,R,M=0,Z=!1,K=!1;const oe=()=>{_?.unsubscribe(),_=void 0},me=()=>{oe(),v=R=void 0,Z=K=!1},ve=()=>{const $=v;me(),$?.unsubscribe()};return(0,Ue.e)(($,V)=>{M++,!K&&!Z&&oe();const ee=R=R??e();V.add(()=>{M--,0===M&&!K&&!Z&&(_=we(ve,u))}),ee.subscribe(V),!v&&M>0&&(v=new De.Hp({next:te=>ee.next(te),error:te=>{K=!0,oe(),_=we(me,t,te),ee.error(te)},complete:()=>{Z=!0,oe(),_=we(me,i),ee.complete()}}),(0,Y.Xf)($).subscribe(v))})(g)}}({connector:()=>new W(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}var Me=f(1374),Ee=f(4674);function We(a,e){return(0,Ee.m)(e)?(0,U.w)(()=>a,e):(0,U.w)(()=>a)}var Ae=f(5137),de=f(2181);f(7142);const Be=new h.OlP("angularfire2.auth.use-emulator"),ce=new h.OlP("angularfire2.auth.settings"),Ze=new h.OlP("angularfire2.auth.tenant-id"),$e=new h.OlP("angularfire2.auth.langugage-code"),Ve=new h.OlP("angularfire2.auth.use-device-language"),Ce=new h.OlP("angularfire.auth.persistence"),He=(a,e,t,i,u,g,v,_)=>(0,w.cc)(`${a.name}.auth`,"AngularFireAuth",a.name,()=>{const R=e.runOutsideAngular(()=>a.auth());if(t&&R.useEmulator(...t),i&&(R.tenantId=i),R.languageCode=u,g&&R.useDeviceLanguage(),v)for(const[M,Z]of Object.entries(v))R.settings[M]=Z;return _&&R.setPersistence(_),R},[t,i,u,g,v,_]);let ze=(()=>{class a{authState;idToken;user;idTokenResult;credential;constructor(t,i,u,g,v,_,R,M,Z,K,oe,me){const ve=new Le.x,$=(0,C.of)(void 0).pipe((0,ue.Q)(v.outsideAngular),(0,U.w)(()=>g.runOutsideAngular(()=>Promise.resolve().then(f.bind(f,6365)))),(0,O.U)(()=>(0,w.on)(t,g,i)),(0,O.U)(V=>He(V,g,_,M,Z,K,R,oe)),ke({bufferSize:1,refCount:!1}));if((0,m.PM)(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,C.of)(null);else{$.pipe((0,Me.P)()).subscribe();const V=$.pipe((0,U.w)(S=>S.getRedirectResult().then(H=>H,()=>null)),s.iC,ke({bufferSize:1,refCount:!1})),ee=$.pipe((0,U.w)(S=>new E.y(H=>({unsubscribe:g.runOutsideAngular(()=>S.onAuthStateChanged(z=>H.next(z),z=>H.error(z),()=>H.complete()))})))),te=$.pipe((0,U.w)(S=>new E.y(H=>({unsubscribe:g.runOutsideAngular(()=>S.onIdTokenChanged(z=>H.next(z),z=>H.error(z),()=>H.complete()))}))));this.authState=V.pipe(We(ee),(0,Ae.R)(v.outsideAngular),(0,ue.Q)(v.insideAngular)),this.user=V.pipe(We(te),(0,Ae.R)(v.outsideAngular),(0,ue.Q)(v.insideAngular)),this.idToken=this.user.pipe((0,U.w)(S=>S?(0,N.D)(S.getIdToken()):(0,C.of)(null))),this.idTokenResult=this.user.pipe((0,U.w)(S=>S?(0,N.D)(S.getIdTokenResult()):(0,C.of)(null))),this.credential=function re(...a){const e=(0,ne.yG)(a),t=(0,ne._6)(a,1/0),i=a;return i.length?1===i.length?(0,Y.Xf)(i[0]):(0,le.J)(t)((0,N.D)(i,e)):ye.E}(V,ve,this.authState.pipe((0,de.h)(S=>!S))).pipe((0,O.U)(S=>S?.user?S:null),(0,Ae.R)(v.outsideAngular),(0,ue.Q)(v.insideAngular))}return(0,w.pX)(this,$,g,{spy:{apply:(V,ee,te)=>{(V.startsWith("signIn")||V.startsWith("createUser"))&&te.then(S=>ve.next(S))}}})}static \u0275fac=function(i){return new(i||a)(h.LFG(w.Dh),h.LFG(w.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(s.HU),h.LFG(Be,8),h.LFG(ce,8),h.LFG(Ze,8),h.LFG($e,8),h.LFG(Ve,8),h.LFG(Ce,8),h.LFG(s.Rf,8))};static \u0275prov=h.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})();var rt=f(6321),X=f(7921),it=f(8251);function he(){return(0,Ue.e)((a,e)=>{let t,i=!1;a.subscribe((0,it.x)(e,u=>{const g=t;t=u,i&&e.next([g,u]),i=!0}))})}var Re=f(6699),st=f(3997),ot=f(3106),d=f(5776),Se=f(9058),Pe=f(4537);function Fe(a,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new d.WA("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return e}function fe(){if(typeof Uint8Array>"u")throw new d.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ke(){if(!(0,d.Me)())throw new d.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class b{constructor(e){this._delegate=e}static fromBase64String(e){return Ke(),new b(d.Jj.fromBase64String(e))}static fromUint8Array(e){return fe(),new b(d.Jj.fromUint8Array(e))}toBase64(){return Ke(),this._delegate.toBase64()}toUint8Array(){return fe(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function q(a){return function Ye(a,e){if("object"!=typeof a||null===a)return!1;const t=a;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(a,["next","error","complete"])}class at{enableIndexedDbPersistence(e,t){return(0,d.ST)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return(0,d.fH)(e._delegate)}clearIndexedDbPersistence(e){return(0,d.Fc)(e._delegate)}}class ge{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof d.l7||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&(0,d.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){(0,d.at)(this._delegate,e,t,i)}enableNetwork(){return(0,d.Ix)(this._delegate)}disableNetwork(){return(0,d.TF)(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,(0,d.Wi)("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,d.Mx)(this._delegate)}onSnapshotsInSync(e){return(0,d.sc)(this._delegate,e)}get app(){if(!this._appCompat)throw new d.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new D(this,(0,d.hJ)(this._delegate,e))}catch(t){throw x(t,"collection()","Firestore.collection()")}}doc(e){try{return new k(this,(0,d.JU)(this._delegate,e))}catch(t){throw x(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new F(this,(0,d.B$)(this._delegate,e))}catch(t){throw x(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return(0,d.i3)(this._delegate,t=>e(new Te(this,t)))}batch(){return(0,d.qY)(this._delegate),new je(new d.PU(this._delegate,e=>(0,d.GL)(this._delegate,e)))}loadBundle(e){return(0,d.Pb)(this._delegate,e)}namedQuery(e){return(0,d.L$)(this._delegate,e).then(t=>t?new F(this,t):null)}}class ie extends d.u7{constructor(e){super(),this.firestore=e}convertBytes(e){return new b(new d.Jj(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return k.forKey(t,this.firestore,null)}}class Te{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ie(e)}get(e){const t=G(e);return this._delegate.get(t).then(i=>new se(this._firestore,new d.xU(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const u=G(e);return i?(Fe("Transaction.set",i),this._delegate.set(u,t,i)):this._delegate.set(u,t),this}update(e,t,i,...u){const g=G(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,i,...u),this}delete(e){const t=G(e);return this._delegate.delete(t),this}}class je{constructor(e){this._delegate=e}set(e,t,i){const u=G(e);return i?(Fe("WriteBatch.set",i),this._delegate.set(u,t,i)):this._delegate.set(u,t),this}update(e,t,i,...u){const g=G(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,i,...u),this}delete(e){const t=G(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class L{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new d.$q(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new P(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=L.INSTANCES;let u=i.get(e);u||(u=new WeakMap,i.set(e,u));let g=u.get(t);return g||(g=new L(e,new ie(e),t),u.set(t,g)),g}}L.INSTANCES=new WeakMap;class k{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ie(e)}static forPath(e,t,i){if(e.length%2!=0)throw new d.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new k(t,new d.my(t._delegate,i,new d.Ky(e)))}static forKey(e,t,i){return new k(t,new d.my(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new D(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new D(this.firestore,(0,d.hJ)(this._delegate,e))}catch(t){throw x(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Se.m9)(e))instanceof d.my&&(0,d.Eo)(this._delegate,e)}set(e,t){t=Fe("DocumentReference.set",t);try{return t?(0,d.pl)(this._delegate,e,t):(0,d.pl)(this._delegate,e)}catch(i){throw x(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?(0,d.r7)(this._delegate,e):(0,d.r7)(this._delegate,e,t,...i)}catch(u){throw x(u,"updateDoc()","DocumentReference.update()")}}delete(){return(0,d.oe)(this._delegate)}onSnapshot(...e){const t=Qe(e),i=Xe(e,u=>new se(this.firestore,new d.xU(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return(0,d.cf)(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?(0,d.kl)(this._delegate):"server"===e?.source?(0,d.Xk)(this._delegate):(0,d.QT)(this._delegate),t.then(i=>new se(this.firestore,new d.xU(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new k(this.firestore,this._delegate.withConverter(e?L.getInstance(this.firestore,e):null))}}function x(a,e,t){return a.message=a.message.replace(e,t),a}function Qe(a){for(const e of a)if("object"==typeof e&&!q(e))return e;return{}}function Xe(a,e){var t,i;let u;return u=q(a[0])?a[0]:q(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:g=>{u.next&&u.next(e(g))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(i=u.complete)||void 0===i?void 0:i.bind(u)}}class se{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new k(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return(0,d.qK)(this._delegate,e._delegate)}}class P extends se{data(e){const t=this._delegate.data(e);return this._delegate._converter||(0,d.K9)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class F{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ie(e)}where(e,t,i){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.ar)(e,t,i)))}catch(u){throw x(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.Xo)(e,t)))}catch(i){throw x(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.b9)(e)))}catch(t){throw x(t,"limit()","Query.limit()")}}limitToLast(e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.vh)(e)))}catch(t){throw x(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.e0)(...e)))}catch(t){throw x(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.TQ)(...e)))}catch(t){throw x(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.Lx)(...e)))}catch(t){throw x(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.Wu)(...e)))}catch(t){throw x(t,"endAt()","Query.endAt()")}}isEqual(e){return(0,d.iE)(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?(0,d.UQ)(this._delegate):"server"===e?.source?(0,d.zN)(this._delegate):(0,d.PL)(this._delegate),t.then(i=>new xe(this.firestore,new d.W(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Qe(e),i=Xe(e,u=>new xe(this.firestore,new d.W(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return(0,d.cf)(this._delegate,t,i)}withConverter(e){return new F(this.firestore,this._delegate.withConverter(e?L.getInstance(this.firestore,e):null))}}class Ne{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new P(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xe{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new F(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new P(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ne(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new P(this._firestore,i))})}isEqual(e){return(0,d.qK)(this._delegate,e._delegate)}}class D extends F{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new k(this.firestore,e):null}doc(e){try{return new k(this.firestore,void 0===e?(0,d.JU)(this._delegate):(0,d.JU)(this._delegate,e))}catch(t){throw x(t,"doc()","CollectionReference.doc()")}}add(e){return(0,d.ET)(this._delegate,e).then(t=>new k(this.firestore,t))}isEqual(e){return(0,d.Eo)(this._delegate,e._delegate)}withConverter(e){return new D(this.firestore,this._delegate.withConverter(e?L.getInstance(this.firestore,e):null))}}function G(a){return(0,d.Cf)(a,d.my)}class pe{constructor(...e){this._delegate=new d.Lz(...e)}static documentId(){return new pe(d.Xb.keyField().canonicalString())}isEqual(e){return(e=(0,Se.m9)(e))instanceof d.Lz&&this._delegate._internalPath.isEqual(e._internalPath)}}class j{constructor(e){this._delegate=e}static serverTimestamp(){const e=(0,d.Bt)();return e._methodName="FieldValue.serverTimestamp",new j(e)}static delete(){const e=(0,d.AK)();return e._methodName="FieldValue.delete",new j(e)}static arrayUnion(...e){const t=(0,d.vr)(...e);return t._methodName="FieldValue.arrayUnion",new j(t)}static arrayRemove(...e){const t=(0,d.Ab)(...e);return t._methodName="FieldValue.arrayRemove",new j(t)}static increment(e){const t=(0,d.nP)(e);return t._methodName="FieldValue.increment",new j(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ut={Firestore:ge,GeoPoint:d.F8,Timestamp:d.EK,Blob:b,Transaction:Te,WriteBatch:je,DocumentReference:k,DocumentSnapshot:se,Query:F,QueryDocumentSnapshot:P,QuerySnapshot:xe,CollectionReference:D,FieldPath:pe,FieldValue:j,setLogLevel:function lt(a){(0,d.Ub)(a)},CACHE_SIZE_UNLIMITED:d.IX};function qe(a,e){return function ct(a,e=rt.z){return new E.y(t=>{let i;return null!=e?e.schedule(()=>{i=a.onSnapshot({includeMetadataChanges:!0},t)}):i=a.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(a,e)}function o(a,e){return qe(a,e).pipe((0,O.U)(t=>({payload:t,type:"query"})))}!function dt(a){(function Oe(a,e){a.INTERNAL.registerComponent(new Pe.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(i,u)},"PUBLIC").setServiceProps(Object.assign({},ut)))})(a,(e,t)=>new ge(e,t,new at)),a.registerVersion("@firebase/firestore-compat","0.3.24")}(ot.Z);class r{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:u,query:g}=pt(i,t);return new T(u,g,this.afs)}snapshotChanges(){return function ht(a,e){return qe(a,e).pipe((0,X.O)(void 0),he(),(0,O.U)(t=>{const[i,u]=t;return u.exists?i?.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(s.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,O.U)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,N.D)(this.ref.get(e)).pipe(s.iC)}}function n(a,e){return o(a,e).pipe((0,X.O)(void 0),he(),(0,O.U)(t=>{const[i,u]=t,g=u.payload.docChanges(),v=g.map(_=>({type:_.type,payload:_}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((_,R)=>{const M=g.find(K=>K.doc.ref.isEqual(_.ref)),Z=i?.payload.docs.find(K=>K.ref.isEqual(_.ref));M&&JSON.stringify(M.doc.metadata)===JSON.stringify(_.metadata)||!M&&Z&&JSON.stringify(Z.metadata)===JSON.stringify(_.metadata)||v.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:_}})}),v}))}function l(a,e,t){return n(a,t).pipe((0,Re.R)((i,u)=>function c(a,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(a=function y(a,e){switch(e.type){case"added":if(!a[e.newIndex]||!a[e.newIndex].doc.ref.isEqual(e.doc.ref))return p(a,e.newIndex,0,e);break;case"modified":if(null==a[e.oldIndex]||a[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=a.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return p(a,e.newIndex,1,e)}break;case"removed":if(a[e.oldIndex]&&a[e.oldIndex].doc.ref.isEqual(e.doc.ref))return p(a,e.oldIndex,1)}return a}(a,i))}),a}(i,u.map(g=>g.payload),e),[]),(0,st.x)(),(0,O.U)(i=>i.map(u=>({type:u.type,payload:u}))))}function p(a,e,t,...i){const u=a.slice();return u.splice(e,t,...i),u}function A(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class T{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=n(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,O.U)(i=>i.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,X.O)(void 0),he(),(0,de.h)(([i,u])=>u.length>0||!i),(0,O.U)(([,i])=>i),s.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Re.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=A(e);return l(this.query,t,this.afs.schedulers.outsideAngular).pipe(s.iC)}valueChanges(e={}){return o(this.query,this.afs.schedulers.outsideAngular).pipe((0,O.U)(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),s.iC)}get(e){return(0,N.D)(this.query.get(e)).pipe(s.iC)}add(e){return this.ref.add(e)}doc(e){return new r(this.ref.doc(e),this.afs)}}class B{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?n(this.query,this.afs.schedulers.outsideAngular).pipe((0,O.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,de.h)(t=>t.length>0),s.iC):n(this.query,this.afs.schedulers.outsideAngular).pipe(s.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Re.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=A(e);return l(this.query,t,this.afs.schedulers.outsideAngular).pipe(s.iC)}valueChanges(e={}){return o(this.query,this.afs.schedulers.outsideAngular).pipe((0,O.U)(i=>i.payload.docs.map(u=>e.idField?{[e.idField]:u.id,...u.data()}:u.data())),s.iC)}get(e){return(0,N.D)(this.query.get(e)).pipe(s.iC)}}const J=new h.OlP("angularfire2.enableFirestorePersistence"),I=new h.OlP("angularfire2.firestore.persistenceSettings"),Q=new h.OlP("angularfire2.firestore.settings"),et=new h.OlP("angularfire2.firestore.use-emulator");function pt(a,e=(t=>t)){return{query:e(a),ref:a}}let mt=(()=>{class a{schedulers;firestore;persistenceEnabled$;constructor(t,i,u,g,v,_,R,M,Z,K,oe,me,ve,$,V,ee,te){this.schedulers=R;const S=(0,w.on)(t,_,i),H=Z;K&&He(S,_,oe,ve,$,V,me,ee),[this.firestore,this.persistenceEnabled$]=(0,w.cc)(`${S.name}.firestore`,"AngularFirestore",S.name,()=>{const z=_.runOutsideAngular(()=>S.firestore());if(g&&z.settings(g),H&&z.useEmulator(...H),u&&!(0,m.PM)(v)){const vt=()=>{try{return(0,N.D)(z.enablePersistence(M||void 0).then(()=>!0,()=>!1))}catch(_t){return typeof console<"u"&&console.warn(_t),(0,C.of)(!1)}};return[z,_.runOutsideAngular(vt)]}return[z,(0,C.of)(!1)]},[g,H,u])}collection(t,i){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:g,query:v}=pt(u,i),_=this.schedulers.ngZone.run(()=>g);return new T(_,v,this)}collectionGroup(t,i){const u=i||(v=>v),g=this.firestore.collectionGroup(t);return new B(u(g),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>i);return new r(u,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||a)(h.LFG(w.Dh),h.LFG(w.xv,8),h.LFG(J,8),h.LFG(Q,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(s.HU),h.LFG(I,8),h.LFG(et,8),h.LFG(ze,8),h.LFG(Be,8),h.LFG(ce,8),h.LFG(Ze,8),h.LFG($e,8),h.LFG(Ve,8),h.LFG(Ce,8),h.LFG(s.Rf,8))};static \u0275prov=h.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})()},6365:(ft,_e,f)=>{f.r(_e);var m=f(5861),h=f(3106),s=f(8217),w=f(9058),C=(f(534),f(7879),f(4537));function E(){return window}function Y(){return Y=(0,m.Z)(function*(o,r,n){var l;const{BuildInfo:c}=E();(0,s.au)(r.sessionId,"AuthEvent did not contain a session ID");const p=yield function Ie(o){return W.apply(this,arguments)}(r.sessionId),y={};return(0,s.av)()?y.ibi=c.packageName:(0,s.aw)()?y.apn=c.packageName:(0,s.ax)(o,"operation-not-supported-in-this-environment"),c.displayName&&(y.appDisplayName=c.displayName),y.sessionId=p,(0,s.ay)(o,n,r.type,void 0,null!==(l=r.eventId)&&void 0!==l?l:void 0,y)}),Y.apply(this,arguments)}function ne(){return(ne=(0,m.Z)(function*(o){const{BuildInfo:r}=E(),n={};(0,s.av)()?n.iosBundleId=r.packageName:(0,s.aw)()?n.androidPackageName=r.packageName:(0,s.ax)(o,"operation-not-supported-in-this-environment"),yield(0,s.az)(o,n)})).apply(this,arguments)}function U(){return(U=(0,m.Z)(function*(o,r,n){const{cordova:l}=E();let c=()=>{};try{yield new Promise((p,y)=>{let A=null;function T(){var I;p();const Q=null===(I=l.plugins.browsertab)||void 0===I?void 0:I.close;"function"==typeof Q&&Q(),"function"==typeof n?.close&&n.close()}function B(){A||(A=window.setTimeout(()=>{y((0,s.aB)(o,"redirect-cancelled-by-user"))},2e3))}function J(){"visible"===document?.visibilityState&&B()}r.addPassiveListener(T),document.addEventListener("resume",B,!1),(0,s.aw)()&&document.addEventListener("visibilitychange",J,!1),c=()=>{r.removePassiveListener(T),document.removeEventListener("resume",B,!1),document.removeEventListener("visibilitychange",J,!1),A&&window.clearTimeout(A)}})}finally{c()}})).apply(this,arguments)}function W(){return(W=(0,m.Z)(function*(o){const r=function De(o){if((0,s.au)(/[0-9a-zA-Z]+/.test(o),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(o);const r=new ArrayBuffer(o.length),n=new Uint8Array(r);for(let l=0;l<o.length;l++)n[l]=o.charCodeAt(l);return n}(o),n=yield crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(c=>c.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tt extends s.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(r=>{this.resolveInialized=r})}addPassiveListener(r){this.passiveListeners.add(r)}removePassiveListener(r){this.passiveListeners.delete(r)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(r){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(r)),super.onEvent(r)}initialized(){var r=this;return(0,m.Z)(function*(){yield r.initPromise})()}}function Me(o){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,m.Z)(function*(o){const r=yield de()._get(Ge(o));return r&&(yield de()._remove(Ge(o))),r})).apply(this,arguments)}function Ae(){const o=[];for(let n=0;n<20;n++){const l=Math.floor(62*Math.random());o.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(l))}return o.join("")}function de(){return(0,s.aE)(s.b)}function Ge(o){return(0,s.aF)("authEvent",o.config.apiKey,o.name)}function ce(o){if(!o?.includes("?"))return{};const[r,...n]=o.split("?");return(0,w.zd)(n.join("?"))}const Ve=class $e{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}_initialize(r){var n=this;return(0,m.Z)(function*(){const l=r._key();let c=n.eventManagers.get(l);return c||(c=new tt(r),n.eventManagers.set(l,c),n.attachCallbackListeners(r,c)),c})()}_openPopup(r){(0,s.ax)(r,"operation-not-supported-in-this-environment")}_openRedirect(r,n,l,c){var p=this;return(0,m.Z)(function*(){!function O(o){var r,n,l,c,p,y,A,T,B,J;const I=E();(0,s.aC)("function"==typeof(null===(r=I?.universalLinks)||void 0===r?void 0:r.subscribe),o,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.aC)(typeof(null===(n=I?.BuildInfo)||void 0===n?void 0:n.packageName)<"u",o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.aC)("function"==typeof(null===(p=null===(c=null===(l=I?.cordova)||void 0===l?void 0:l.plugins)||void 0===c?void 0:c.browsertab)||void 0===p?void 0:p.openUrl),o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(T=null===(A=null===(y=I?.cordova)||void 0===y?void 0:y.plugins)||void 0===A?void 0:A.browsertab)||void 0===T?void 0:T.isAvailable),o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(J=null===(B=I?.cordova)||void 0===B?void 0:B.InAppBrowser)||void 0===J?void 0:J.open),o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(r);const y=yield p._initialize(r);yield y.initialized(),y.resetRedirect(),(0,s.aI)(),yield p._originValidation(r);const A=function we(o,r,n=null){return{type:r,eventId:n,urlResponse:null,sessionId:Ae(),postBody:null,tenantId:o.tenantId,error:(0,s.aB)(o,"no-auth-event")}}(r,l,c);yield function ke(o,r){return de()._set(Ge(o),r)}(r,A);const T=yield function le(o,r,n){return Y.apply(this,arguments)}(r,A,n),B=yield function re(o){const{cordova:r}=E();return new Promise(n=>{r.plugins.browsertab.isAvailable(l=>{let c=null;l?r.plugins.browsertab.openUrl(o):c=r.InAppBrowser.open(o,(0,s.aA)()?"_blank":"_system","location=yes"),n(c)})})}(T);return function ue(o,r,n){return U.apply(this,arguments)}(r,y,B)})()}_isIframeWebStorageSupported(r,n){throw new Error("Method not implemented.")}_originValidation(r){const n=r._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function ye(o){return ne.apply(this,arguments)}(r)),this.originValidationPromises[n]}attachCallbackListeners(r,n){const{universalLinks:l,handleOpenURL:c,BuildInfo:p}=E(),y=setTimeout((0,m.Z)(function*(){yield Me(r),n.onEvent(Ce())}),500),A=function(){var J=(0,m.Z)(function*(I){clearTimeout(y);const Q=yield Me(r);let et=null;Q&&I?.url&&(et=function We(o,r){var n,l;const c=function Be(o){const r=ce(o),n=r.link?decodeURIComponent(r.link):void 0,l=ce(n).link,c=r.deep_link_id?decodeURIComponent(r.deep_link_id):void 0;return ce(c).link||c||l||n||o}(r);if(c.includes("/__/auth/callback")){const p=ce(c),y=p.firebaseError?function nt(o){try{return JSON.parse(o)}catch{return null}}(decodeURIComponent(p.firebaseError)):null,A=null===(l=null===(n=y?.code)||void 0===n?void 0:n.split("auth/"))||void 0===l?void 0:l[1],T=A?(0,s.aB)(A):null;return T?{type:o.type,eventId:o.eventId,tenantId:o.tenantId,error:T,urlResponse:null,sessionId:null,postBody:null}:{type:o.type,eventId:o.eventId,tenantId:o.tenantId,sessionId:o.sessionId,urlResponse:c,postBody:null}}return null}(Q,I.url)),n.onEvent(et||Ce())});return function(Q){return J.apply(this,arguments)}}();typeof l<"u"&&"function"==typeof l.subscribe&&l.subscribe(null,A);const T=c,B=`${p.packageName.toLowerCase()}://`;E().handleOpenURL=function(){var J=(0,m.Z)(function*(I){if(I.toLowerCase().startsWith(B)&&A({url:I}),"function"==typeof T)try{T(I)}catch(Q){console.error(Q)}});return function(I){return J.apply(this,arguments)}}()}};function Ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.aB)("no-auth-event")}}function X(){var o;return(null===(o=self?.location)||void 0===o?void 0:o.protocol)||null}function he(o=(0,w.z$)()){return!("file:"!==X()&&"ionic:"!==X()&&"capacitor:"!==X()||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Se(){try{const o=self.localStorage,r=s.aN();if(o)return o.setItem(r,"1"),o.removeItem(r),!function d(o=(0,w.z$)()){return function st(){return(0,w.w1)()&&11===document?.documentMode}()||function ot(o=(0,w.z$)()){return/Edge\/\d+/.test(o)}(o)}()||(0,w.hl)()}catch{return Pe()&&(0,w.hl)()}return!1}function Pe(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function be(){return(function it(){return"http:"===X()||"https:"===X()}()||(0,w.ru)()||he())&&!function Re(){return(0,w.b$)()||(0,w.UG)()}()&&Se()&&!Pe()}function Je(){return he()&&typeof document<"u"}function fe(){return(fe=(0,m.Z)(function*(){return!!Je()&&new Promise(o=>{const r=setTimeout(()=>{o(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(r),o(!0)})})})).apply(this,arguments)}const b={LOCAL:"local",NONE:"none",SESSION:"session"},q=s.aC,Ye="persistence";function ge(o){return ie.apply(this,arguments)}function ie(){return(ie=(0,m.Z)(function*(o){yield o._initializationPromise;const r=Te(),n=s.aF(Ye,o.config.apiKey,o.name);r&&r.setItem(n,o._getPersistence())})).apply(this,arguments)}function Te(){var o;try{return(null===(o=function Ke(){return typeof window<"u"?window:null}())||void 0===o?void 0:o.sessionStorage)||null}catch{return null}}const je=s.aC;class L{constructor(){this.browserResolver=s.aE(s.k),this.cordovaResolver=s.aE(Ve),this.underlyingResolver=null,this._redirectPersistence=s.a,this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}_initialize(r){var n=this;return(0,m.Z)(function*(){return yield n.selectUnderlyingResolver(),n.assertedUnderlyingResolver._initialize(r)})()}_openPopup(r,n,l,c){var p=this;return(0,m.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._openPopup(r,n,l,c)})()}_openRedirect(r,n,l,c){var p=this;return(0,m.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._openRedirect(r,n,l,c)})()}_isIframeWebStorageSupported(r,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(r,n)}_originValidation(r){return this.assertedUnderlyingResolver._originValidation(r)}get _shouldInitProactively(){return Je()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return je(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var r=this;return(0,m.Z)(function*(){if(r.underlyingResolver)return;const n=yield function Fe(){return fe.apply(this,arguments)}();r.underlyingResolver=n?r.cordovaResolver:r.browserResolver})()}}function k(o){return o.unwrap()}function Qe(o){return se(o)}function se(o){const{_tokenResponse:r}=o instanceof w.ZR?o.customData:o;if(!r)return null;if(!(o instanceof w.ZR)&&"temporaryProof"in r&&"phoneNumber"in r)return s.P.credentialFromResult(o);const n=r.providerId;if(!n||n===s.p.PASSWORD)return null;let l;switch(n){case s.p.GOOGLE:l=s.X;break;case s.p.FACEBOOK:l=s.W;break;case s.p.GITHUB:l=s.Y;break;case s.p.TWITTER:l=s.$;break;default:const{oauthIdToken:c,oauthAccessToken:p,oauthTokenSecret:y,pendingToken:A,nonce:T}=r;return p||y||c||A?A?n.startsWith("saml.")?s.aQ._create(n,A):s.N._fromParams({providerId:n,signInMethod:n,pendingToken:A,idToken:c,accessToken:p}):new s.Z(n).credential({idToken:c,accessToken:p,rawNonce:T}):null}return o instanceof w.ZR?l.credentialFromError(o):l.credentialFromResult(o)}function P(o,r){return r.catch(n=>{throw n instanceof w.ZR&&function Xe(o,r){var n;const l=null===(n=r.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===r?.code)r.resolver=new xe(o,s.as(o,r));else if(l){const c=se(r),p=r;c&&(p.credential=c,p.tenantId=l.tenantId||void 0,p.email=l.email||void 0,p.phoneNumber=l.phoneNumber||void 0)}}(o,n),n}).then(n=>{const c=n.user;return{operationType:n.operationType,credential:Qe(n),additionalUserInfo:s.aq(n),user:D.getOrCreate(c)}})}function F(o,r){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,m.Z)(function*(o,r){const n=yield r;return{verificationId:n.verificationId,confirm:l=>P(o,n.confirm(l))}})).apply(this,arguments)}class xe{constructor(r,n){this.resolver=n,this.auth=function x(o){return o.wrapped()}(r)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(r){return P(k(this.auth),this.resolver.resolveSignIn(r))}}class D{constructor(r){this._delegate=r,this.multiFactor=s.at(r)}static getOrCreate(r){return D.USER_MAP.has(r)||D.USER_MAP.set(r,new D(r)),D.USER_MAP.get(r)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(r){return this._delegate.getIdTokenResult(r)}getIdToken(r){return this._delegate.getIdToken(r)}linkAndRetrieveDataWithCredential(r){return this.linkWithCredential(r)}linkWithCredential(r){var n=this;return(0,m.Z)(function*(){return P(n.auth,s.a2(n._delegate,r))})()}linkWithPhoneNumber(r,n){var l=this;return(0,m.Z)(function*(){return F(l.auth,s.l(l._delegate,r,n))})()}linkWithPopup(r){var n=this;return(0,m.Z)(function*(){return P(n.auth,s.d(n._delegate,r,L))})()}linkWithRedirect(r){var n=this;return(0,m.Z)(function*(){return yield ge(s.aJ(n.auth)),s.g(n._delegate,r,L)})()}reauthenticateAndRetrieveDataWithCredential(r){return this.reauthenticateWithCredential(r)}reauthenticateWithCredential(r){var n=this;return(0,m.Z)(function*(){return P(n.auth,s.a3(n._delegate,r))})()}reauthenticateWithPhoneNumber(r,n){return F(this.auth,s.r(this._delegate,r,n))}reauthenticateWithPopup(r){return P(this.auth,s.e(this._delegate,r,L))}reauthenticateWithRedirect(r){var n=this;return(0,m.Z)(function*(){return yield ge(s.aJ(n.auth)),s.h(n._delegate,r,L)})()}sendEmailVerification(r){return s.ag(this._delegate,r)}unlink(r){var n=this;return(0,m.Z)(function*(){return yield s.ap(n._delegate,r),n})()}updateEmail(r){return s.al(this._delegate,r)}updatePassword(r){return s.am(this._delegate,r)}updatePhoneNumber(r){return s.u(this._delegate,r)}updateProfile(r){return s.ak(this._delegate,r)}verifyBeforeUpdateEmail(r,n){return s.ah(this._delegate,r,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}D.USER_MAP=new WeakMap;const G=s.aC;let pe=(()=>{class o{constructor(n,l){if(this.app=n,l.isInitialized())return this._delegate=l.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:c}=n.options;G(c,"invalid-api-key",{appName:n.name}),G(c,"invalid-api-key",{appName:n.name});const p=typeof window<"u"?L:void 0;this._delegate=l.initialize({options:{persistence:ut(c,n.name),popupRedirectResolver:p}}),this._delegate._updateErrorMap(s.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?D.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,l){s.K(this._delegate,n,l)}applyActionCode(n){return s.a7(this._delegate,n)}checkActionCode(n){return s.a8(this._delegate,n)}confirmPasswordReset(n,l){return s.a6(this._delegate,n,l)}createUserWithEmailAndPassword(n,l){var c=this;return(0,m.Z)(function*(){return P(c._delegate,s.aa(c._delegate,n,l))})()}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return s.af(this._delegate,n)}isSignInWithEmailLink(n){return s.ad(this._delegate,n)}getRedirectResult(){var n=this;return(0,m.Z)(function*(){G(be(),n._delegate,"operation-not-supported-in-this-environment");const l=yield s.j(n._delegate,L);return l?P(n._delegate,Promise.resolve(l)):{credential:null,user:null}})()}addFrameworkForLogging(n){!function He(o,r){(0,s.aJ)(o)._logFramework(r)}(this._delegate,n)}onAuthStateChanged(n,l,c){const{next:p,error:y,complete:A}=j(n,l,c);return this._delegate.onAuthStateChanged(p,y,A)}onIdTokenChanged(n,l,c){const{next:p,error:y,complete:A}=j(n,l,c);return this._delegate.onIdTokenChanged(p,y,A)}sendSignInLinkToEmail(n,l){return s.ac(this._delegate,n,l)}sendPasswordResetEmail(n,l){return s.a5(this._delegate,n,l||void 0)}setPersistence(n){var l=this;return(0,m.Z)(function*(){let c;switch(function at(o,r){q(Object.values(b).includes(r),o,"invalid-persistence-type"),(0,w.b$)()?q(r!==b.SESSION,o,"unsupported-persistence-type"):(0,w.UG)()?q(r===b.NONE,o,"unsupported-persistence-type"):Pe()?q(r===b.NONE||r===b.LOCAL&&(0,w.hl)(),o,"unsupported-persistence-type"):q(r===b.NONE||Se(),o,"unsupported-persistence-type")}(l._delegate,n),n){case b.SESSION:c=s.a;break;case b.LOCAL:c=(yield s.aE(s.i)._isAvailable())?s.i:s.b;break;case b.NONE:c=s.U;break;default:return s.ax("argument-error",{appName:l._delegate.name})}return l._delegate.setPersistence(c)})()}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return P(this._delegate,s.a0(this._delegate))}signInWithCredential(n){return P(this._delegate,s.a1(this._delegate,n))}signInWithCustomToken(n){return P(this._delegate,s.a4(this._delegate,n))}signInWithEmailAndPassword(n,l){return P(this._delegate,s.ab(this._delegate,n,l))}signInWithEmailLink(n,l){return P(this._delegate,s.ae(this._delegate,n,l))}signInWithPhoneNumber(n,l){return F(this._delegate,s.s(this._delegate,n,l))}signInWithPopup(n){var l=this;return(0,m.Z)(function*(){return G(be(),l._delegate,"operation-not-supported-in-this-environment"),P(l._delegate,s.c(l._delegate,n,L))})()}signInWithRedirect(n){var l=this;return(0,m.Z)(function*(){return G(be(),l._delegate,"operation-not-supported-in-this-environment"),yield ge(l._delegate),s.f(l._delegate,n,L)})()}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return s.a9(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return o.Persistence=b,o})();function j(o,r,n){let l=o;"function"!=typeof o&&({next:l,error:r,complete:n}=o);const c=l;return{next:y=>c(y&&D.getOrCreate(y)),error:r,complete:n}}function ut(o,r){const n=function lt(o,r){const n=Te();if(!n)return[];const l=s.aF(Ye,o,r);switch(n.getItem(l)){case b.NONE:return[s.U];case b.LOCAL:return[s.i,s.a];case b.SESSION:return[s.a];default:return[]}}(o,r);if(typeof self<"u"&&!n.includes(s.i)&&n.push(s.i),typeof window<"u")for(const l of[s.b,s.a])n.includes(l)||n.push(l);return n.includes(s.U)||n.push(s.U),n}class Oe{constructor(){this.providerId="phone",this._delegate=new s.P(k(h.Z.auth()))}static credential(r,n){return s.P.credential(r,n)}verifyPhoneNumber(r,n){return this._delegate.verifyPhoneNumber(r,n)}unwrap(){return this._delegate}}Oe.PHONE_SIGN_IN_METHOD=s.P.PHONE_SIGN_IN_METHOD,Oe.PROVIDER_ID=s.P.PROVIDER_ID;const dt=s.aC;class ct{constructor(r,n,l=h.Z.app()){var c;dt(null===(c=l.options)||void 0===c?void 0:c.apiKey,"invalid-api-key",{appName:l.name}),this._delegate=new s.R(l.auth(),r,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ht(o){o.INTERNAL.registerComponent(new C.wA("auth-compat",r=>{const n=r.getProvider("app-compat").getImmediate(),l=r.getProvider("auth");return new pe(n,l)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.A.EMAIL_SIGNIN,PASSWORD_RESET:s.A.PASSWORD_RESET,RECOVER_EMAIL:s.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.A.VERIFY_EMAIL}},EmailAuthProvider:s.V,FacebookAuthProvider:s.W,GithubAuthProvider:s.Y,GoogleAuthProvider:s.X,OAuthProvider:s.Z,SAMLAuthProvider:s._,PhoneAuthProvider:Oe,PhoneMultiFactorGenerator:s.m,RecaptchaVerifier:ct,TwitterAuthProvider:s.$,Auth:pe,AuthCredential:s.L,Error:w.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),o.registerVersion("@firebase/auth-compat","0.5.1")}(h.Z)}}]);