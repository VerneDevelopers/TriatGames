"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6488],{764:(P,h,i)=>{i.d(h,{H:()=>y});var o=i(9212),l=i(6814),s=i(451),g=i(95);function f(e,a){if(1&e&&o._UZ(0,"ion-icon",4),2&e){const c=o.oxw();o.Q6J("name",c.icon)}}function t(e,a){if(1&e){const c=o.EpF();o.TgZ(0,"ion-button",5),o.NdJ("click",function(){o.CHM(c);const p=o.oxw();return o.KtG(p.changeVisibilityPassword())}),o._UZ(1,"ion-icon",6),o.qZA()}if(2&e){const c=o.oxw();o.xp6(),o.Q6J("name",c.hide?"eye-outline":"eye-off-outline")}}let y=(()=>{class e{constructor(){this.hide=!0}ngOnInit(){"password"==this.type&&(this.isPassword=!0)}changeVisibilityPassword(){this.hide=!this.hide,this.type=this.hide?"password":"text"}static#t=this.\u0275fac=function(d){return new(d||e)};static#o=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-component-formu"]],inputs:{control:"control",type:"type",label:"label",autocomplete:"autocomplete",icon:"icon",placeholder:"placeholder"},decls:4,vars:7,consts:[["lines","none"],["color","primary","slot","start",3,"name",4,"ngIf"],[3,"type","autocomplete","label","formControl","placeholder"],["slot","end","fill","clear","shape","round",3,"click",4,"ngIf"],["color","primary","slot","start",3,"name"],["slot","end","fill","clear","shape","round",3,"click"],["slot","icon-only",3,"name"]],template:function(d,p){1&d&&(o.TgZ(0,"ion-item",0),o.YNc(1,f,1,1,"ion-icon",1),o._UZ(2,"ion-input",2),o.YNc(3,t,2,1,"ion-button",3),o.qZA()),2&d&&(o.xp6(),o.Q6J("ngIf",p.icon),o.xp6(),o.Q6J("type",p.type)("autocomplete",p.autocomplete)("label",p.label)("formControl",p.control)("placeholder",p.placeholder),o.xp6(),o.Q6J("ngIf",p.isPassword))},dependencies:[l.O5,s.YG,s.gu,s.pK,s.Ie,s.j9,g.JJ,g.oH]})}return e})()},6488:(P,h,i)=>{i.r(h),i.d(h,{LoginPageModule:()=>I});var o=i(6814),l=i(95),s=i(451),g=i(2692),f=i(5861),t=i(9212),y=i(2333),e=i(764);function a(n,v){1&n&&(t.TgZ(0,"div"),t._uU(1,"El correo es requerido"),t.qZA())}function c(n,v){1&n&&(t.TgZ(0,"div"),t._uU(1,"El correo debe ser valido"),t.qZA())}function d(n,v){if(1&n&&(t.TgZ(0,"div",12),t.YNc(1,a,2,0,"div",13)(2,c,2,0,"div",13),t.qZA()),2&n){const r=t.oxw();t.xp6(),t.Q6J("ngIf",null==r.form.controls.email.errors?null:r.form.controls.email.errors.required),t.xp6(),t.Q6J("ngIf",null==r.form.controls.email.errors?null:r.form.controls.email.errors.email)}}function p(n,v){1&n&&(t.TgZ(0,"div"),t._uU(1,"La contrase\xf1a es requerido"),t.qZA())}function T(n,v){if(1&n&&(t.TgZ(0,"div",12),t.YNc(1,p,2,0,"div",13),t.qZA()),2&n){const r=t.oxw();t.xp6(),t.Q6J("ngIf",null==r.form.controls.password.errors?null:r.form.controls.password.errors.required)}}const Z=[{path:"",component:(()=>{class n{constructor(r,u,m,_){this.AuthSvc=r,this.router=u,this.toastCtrl=m,this.loadingCtrl=_,this.form=new l.cw({email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required])})}ngOnInit(){}submit(){var r=this;return(0,f.Z)(function*(){if(r.form.valid){r.showLoading();const u=r.form.get("email")?.value,m=r.form.get("password")?.value;if(u&&m)try{(yield r.AuthSvc.login(u,m))?(r.router.navigateByUrl("home"),r.loadingCtrl.dismiss()):(console.log("ERROR"),r.presentToast({message:"Vaya.. y si pruebas primero a registrarte?",duration:1500,position:"middle",color:"primary",icon:"alert-circle-outline"}))}catch(_){console.log("Mensaje de error "+_)}finally{r.loadingCtrl.dismiss()}}})()}presentToast(r){var u=this;return(0,f.Z)(function*(){(yield u.toastCtrl.create(r)).present()})()}showLoading(){var r=this;return(0,f.Z)(function*(){(yield r.loadingCtrl.create({message:"espere..."})).present()})()}static#t=this.\u0275fac=function(u){return new(u||n)(t.Y36(y.e),t.Y36(g.F0),t.Y36(s.yF),t.Y36(s.HT))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:23,vars:7,consts:[[3,"translucent"],[1,"centrar-form"],[3,"formGroup","ngSubmit","keypress.enter"],["src","assets/img/logo.png","alt","TriatGames",1,"logo"],["color","primary"],["icon","mail-outline","type","email","placeholder","email",3,"control"],["class","validators",4,"ngIf"],["icon","lock-closed-outline","type","password","placeholder","contrase\xf1a",3,"control"],["expand","block","type","submit",3,"disabled"],["slot","end","name","log-in-outline"],["expand","block","mode","ios","fill","outline","routerLink","registro"],["slot","end","name","person-add-outline"],[1,"validators"],[4,"ngIf"]],template:function(u,m){1&u&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"login"),t.qZA()()(),t.TgZ(4,"ion-content")(5,"div",1)(6,"form",2),t.NdJ("ngSubmit",function(){return m.submit()})("keypress.enter",function(){return m.submit()}),t._UZ(7,"img",3),t.TgZ(8,"ion-text",4)(9,"h1")(10,"Strong"),t._uU(11,"TriatGames "),t.qZA(),t._uU(12,"app"),t.qZA()(),t._UZ(13,"app-component-formu",5),t.YNc(14,d,3,2,"div",6),t._UZ(15,"app-component-formu",7),t.YNc(16,T,2,1,"div",6),t.TgZ(17,"ion-button",8),t._uU(18," Ingresar "),t._UZ(19,"ion-icon",9),t.qZA(),t.TgZ(20,"ion-button",10),t._uU(21," Registrate "),t._UZ(22,"ion-icon",11),t.qZA()()()()),2&u&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("formGroup",m.form),t.xp6(7),t.Q6J("control",m.form.controls.email),t.xp6(),t.Q6J("ngIf",m.form.controls.email.errors&&m.form.controls.email.touched),t.xp6(),t.Q6J("control",m.form.controls.password),t.xp6(),t.Q6J("ngIf",m.form.controls.email.errors&&m.form.controls.email.touched),t.xp6(),t.Q6J("disabled",m.form.invalid))},dependencies:[o.O5,l._Y,l.JL,s.YG,s.W2,s.Gu,s.gu,s.yW,s.wd,s.sr,s.YI,g.rH,e.H,l.sg],styles:[".centrar-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:60%;text-align:center;margin-top:5%}.icon-enter[_ngcontent-%COMP%]{font-size:80px;margin-top:40px}.logo[_ngcontent-%COMP%]{width:200px;height:200px}"]})}return n})()},{path:"registro",loadChildren:()=>i.e(887).then(i.bind(i,887)).then(n=>n.RegistroPageModule)}];let C=(()=>{class n{static#t=this.\u0275fac=function(u){return new(u||n)};static#o=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(Z),g.Bz]})}return n})();var U=i(822);let I=(()=>{class n{static#t=this.\u0275fac=function(u){return new(u||n)};static#o=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[o.ez,l.u5,s.Pc,C,U.K,l.UX]})}return n})()},2333:(P,h,i)=>{i.d(h,{e:()=>f});var o=i(5861),l=i(9535),s=i(3960),g=i(9212);let f=(()=>{class t{constructor(e,a){this.auth=e,this.firestore=a}getUserProfile(){const a=(0,s.JU)(this.firestore,`users/${this.auth.currentUser.uid}`);return(0,s._1)(a)}saveProfile(e){var a=this;return(0,o.Z)(function*(){try{const c=a.auth.currentUser,d=(0,s.JU)(a.firestore,`users/${c.uid}`);return yield(0,s.pl)(d,{id:c.uid,email:c.email,name:e}),!0}catch{return null}})()}getUid(){try{return this.auth.currentUser?.uid}catch{return null}}register(e,a,c){var d=this;return(0,o.Z)(function*(){try{const p=yield(0,l.Xb)(d.auth,e,a);return d.saveProfile(c),p}catch{return null}})()}login(e,a){var c=this;return(0,o.Z)(function*(){try{return yield(0,l.e5)(c.auth,e,a)}catch{return null}})()}resetPassword(e){var a=this;return(0,o.Z)(function*(){try{yield(0,l.LS)(a.auth,e)}catch{}})()}logout(){try{return(0,l.w7)(this.auth)}catch{return Promise}}eliminarCuenta(){const e=this.auth.currentUser;e?e.delete().then(()=>{console.log("Cuenta eliminada exitosamente.")}).catch(a=>{console.error("Error al eliminar la cuenta:",a.message)}):console.error("No hay un usuario autenticado.")}static#t=this.\u0275fac=function(a){return new(a||t)(g.LFG(l.gx),g.LFG(s.gg))};static#o=this.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()}}]);